{"version":3,"sources":["components/font-awesome-icons/font-awesome-icons.js","components/rich-text-parser/rich-text-parser.component.jsx","components/dyna-grid/dyna-grid.component.jsx","cabinet/common/home/home.component.jsx","utils/home.config.provider.js","components/data-sheet-custom-selector/custom-selector.component.jsx","components/data-sheet-custom-measure-selector/custom-selector.component.jsx","cabinet/common/person-fetch/person-fetch.component.jsx","redux/user/user.selector.js","cabinet/common/seller-form.component.jsx","utils/main.js","cabinet/act/create/create.component.jsx","cabinet/common/buyer-form.component.jsx","cabinet/factura/create/create.component.jsx","env.js","cabinet/factura/view/view.component.jsx","cabinet/factura/index.component.jsx","redux/user/user.action-types.js","redux/user/user.action.js","cabinet/right-sidebar/right-sidebar.component.jsx","components/admin-card/admin-card.component.jsx","cabinet/home/home.component.jsx","cabinet/empowerment/create/create.component.jsx","cabinet/empowerment/index.component.jsx","cabinet/act/view/view.component.jsx","cabinet/act/index.router.jsx","cabinet/contract/create/create.component.jsx","cabinet/contract/view/view.component.jsx","cabinet/contract/index.router.jsx","cabinet/tty/create/create.component.jsx","cabinet/tty/view/view.component.jsx","cabinet/tty/index.router.jsx","cabinet/notifications/notifications.component.jsx","cabinet/account-form/account-form.component.jsx","cabinet/user-products/user-products.component.jsx","cabinet/password-change/password-change.component.jsx","cabinet/profile/profile.component.jsx","cabinet/index.component.jsx","components/language-dropdown/locale-dropdown.jsx","components/left-sidebar/left-sidebar.component.jsx","components/header/header.component.jsx","frontend/home/home.component.jsx","utils/e-imzo.js","frontend/login/login.component.jsx","frontend/choose_company/choose-company.component.jsx","frontend/index.router.jsx","admin/notification/form.component.jsx","admin/admin.router.jsx","App.jsx","reportWebVitals.js","redux/user/user.reducer.js","redux/root-reducer.js","redux/root-saga.js","redux/store.js","index.js"],"names":["library","add","faBan","faHome","faNewspaper","fab","faInfoCircle","faUserCog","faCertificate","faCheckSquare","faQuestionCircle","faAddressCard","faPlusSquare","faClone","faTrashAlt","faSignature","faSave","faFileAlt","faFileContract","faFileInvoice","faFileSignature","faFileArchive","faFileInvoiceDollar","faClock","faCheckCircle","faBookmark","faSignInAlt","faCloudDownloadAlt","faCloudUploadAlt","faTimesCircle","faBell","faWallet","faArrowCircleLeft","RichTextParser","text","otherProps","className","style","paddingLeft","data-gramm","ReactHtmlParser","mapStateToProps","createStructuredSelector","connect","dispatch","withRouter","loading","currentUser","match","triggerAction","setItemToBeEdited","triggerActionWithPayload","title","config","dataSourcePath","addElementViewPath","deleteRequestPath","replaceInViewPath","approveRequestPath","viewActionPath","editActionPath","resultsViewPath","triggerReload","triggerWithPayload","payload","deleteConfirmText","actions","allColumns","useState","searchText","setSearchText","searchedColumn","setSearchedColumn","setFilteredInfo","isFulliew","toggleFullView","current","pageSize","pagination","setPagination","totalDataCount","setTotalDataCount","ajaxDataSource","setAjaxDataSource","loadingSource","setLoadingResource","searchInput","useEffect","url","axios","replace","method","then","res","Array","isArray","data","total","console","log","catch","error","cancel","message","handleSearch","selectedKeys","confirm","dataIndex","handleReset","clearFilters","columns","forEach","element","index","push","key","width","ellipsis","isSearchable","filterDropdown","setSelectedKeys","padding","ref","node","placeholder","value","onChange","e","target","onPressEnter","marginBottom","display","type","onClick","icon","SearchOutlined","size","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","isFilterable","filters","map","univer","isBoolean","dataType","justifyContent","flexWrap","items","field","item","marginRight","borderRadius","moment","format","length","fixed","edit","placement","to","id","EditOutlined","delete","onConfirm","creator","success","confirmDelete","onCancel","okText","cancelText","DeleteOutlined","approve","patch","userId","confirmApprove","view","EyeOutlined","chart","addElement","path","onDoubleClick","marginTop","FullscreenExitOutlined","FullscreenOutlined","rowKey","sorter","bordered","dataSource","scroll","x","position","HomePage","Tabs","TabPane","doc","hideTabs","createTitle","gridSourceUrl","createUrl","gridConfig","get_home_config","activeTab","setActiveTab","1","2","3","4","SelectEditor","props","handleChange","bind","state","opt","this","onCommit","onRevert","defaultValue","onSelect","PureComponent","SelectMeasureEditor","measures","measure","label","PersonFetch","pTin","tinLabel","pName","nameLabel","form","tinCol","nameCol","justify","md","Item","name","isNaN","warning","fullName","fetcherData","getFieldValue","setFieldsValue","contract_partners","err","selectUser","user","selectCurrentUser","createSelector","selectToken","token","selectCabinetData","cabinetData","selectUserCompanies","userCompanies","docType","tin","regCode","mfo","account","address","directorName","directorTin","accountant","phone","rules","required","initialValue","disabled","FIRST_TTY_GRID_ROW","readOnly","dataEditor","FIRST_FACTURA_GRID_ROW","FIRST_ACT_GRID_ROW","FIRST_CONTRACT_GRID_ROW","FIRST_EMPOWERMENT_GRID_ROW","convertProductsToGrid","products","gridProducts","product","unshift","parseFloat","measureId","count","price","deliveryCost","docs","weightMeasureMethod","itemClass","weightBrut","weightNet","setActClient","seller","client","Form","useForm","actId","params","actText","initialData","setInitialData","isLoading","setIsloading","contractDate","created_at","actDate","updated_at","resetFields","setGrid","act_products","fullView","toglleFullView","grid","initialValues","onFinish","values","act","ok","scrollToFirstError","validateMessages","types","email","number","range","rows","headers","Authorization","multiple","action","accept","file","status","response","excel","href","download","overflowX","valueRenderer","cell","onContextMenu","i","j","preventDefault","onCellsChanged","changes","row","col","sampleRow","newgrid","danger","rowId","splice","primary","htmlType","Option","Select","BuyerForm","remove","fieldList","isFacturaSingleSided","setIsFacturaSingleSided","buyerBranches","setBuyerBranches","buyerTin","buyerAccountant","buyerAccount","buyerAddress","buyerMobilePhone","buyerName","buyerMfo","buyerDirector","buyerDirectorTin","buyerVatRegCode","branches","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","val","defaultActiveFirstOption","align","facturaId","facturaType","setFacturaType","saveLoading","setSaveLoading","facturaDate","empowermentDateOfIssue","oldFacturaDate","factura_products","FACTURA_TYPES","factura","priceamount","aksizamount","vatamout","API_HOST","IMPORTANCE","5","margin","height","src","auth_key","FacturaIndex","exact","component","FacturaCreateForm","FacturaView","USER_ACTIONS","SUCCESS_LOGIN","LOG_OUT","SET_USER_ONLY","SET_CABINET_DATA","SET_USER_COMPANIES","logOut","setData","setCabinetData","location","admin","active","setActive","notifications","setNotifications","showModal","setShowModal","factura_awaiting","contract_awaiting","act_awaiting","emp_awating","tty_awaiting","badgeCount","setBedgeCount","cabinet","pathname","contract","empowerment","tty","freeDoc","notification","closeModel","bodyStyle","onOk","cancelButtonProps","n","title_uz","importance","body_uz","marginLeft","AdminCard","list_of_docs","income","footer","create_url","outcome","rejected","saved","dyna_config","addActionPath","gutter","0","empowermentId","setIsLoading","empowermentDateOfExpire","agentPassportDateOfIssue","emp","passIssuedAt","passOrg","passNum","_isValid","agentFio","agentPassportIssuedBy","agentPassportNumber","EmpowermentIndex","EmpowermentForm","ActIndexRouter","ActForm","ActView","contractId","contractExpireDate","parts","contract_parts","partner","branchCode","branchName","director","fizFio","fizTin","mobilePhone","oked","workPhone","physicalTin","physicalName","buyerBranch","buyerBranchName","buyerPhysicalFio","buyerPhysicalTin","contract_products","part","ordNo","partners","List","fields","sm","PlusOutlined","fieldKey","addonAfter","block","ContractIndexRouter","ConractCreateForm","ContractView","ttyId","wayBillDate","tripTicketDate","Group","options","optionType","TTYIndexRouter","TTYForm","TTYView","Notifications","setLoading","er","renderItem","setUserOnly","setUser","UserProducts","PasswordChange","Password","ProfileComponent","tab","lg","CabinetHome","LanguagesDropdown","locale","changeLocale","useTranslation","i18n","languagesMenu","alt","overlay","LeftSidebar","window","onscroll","textAlign","fontSize","fontWeight","alignItems","cursor","toggled","toggle","Home","String","prototype","splitKeep","splitter","ahead","self","result","matches","lastIndex","RegExp","m","substChar","subst","getSubst","nextIndex","substring","CAPIWS","URL","protocol","callFunction","funcDef","callback","WebSocket","socket","onerror","onmessage","event","JSON","parse","close","onopen","send","stringify","version","apidoc","apikey","domainAndKey","o","arguments","EIMZOClient","NEW_API","API_KEYS","checkVersion","fail","major","minor","installedVersion","parseInt","reason","installApiKeys","listAllUserKeys","itemIdGen","itemUiGen","errors","_findCertKeys2","firstItmId","_findPfxs2","firstItmId2","_findTokens2","firstItmId3","r","firstId","_findCertKeys","_findPfxs","loadKey","itemObject","verifyPassword","vo","plugin","disk","serialNumber","keyId","alias","cardUID","changeKeyPassword","createPkcs7","timestamper","btoa","pkcs7","pkcs7_64","sn","signer_serial_number","signature_hex","tst","pkcs7tst","appendPkcs7Attached","_getX500Val","s","f","search","slice","_findCertKeyCertificates","allDisks","diskIndex","rec","certificates","el","subjectName","validFrom","Date","validTo","issuerName","publicKeyAlgName","CN","TIN","O","T","itmkey","itm","disks","_findPfxCertificates","x500name_ex","toUpperCase","UID","itmkey0","tokens","info","statusInfo","ownerName","setCurrentUser","succesLogIn","setUserComps","setUserCompanies","history","eKeys","setEKeys","itemId","v","isKeyLoading","pkcs7Text","maxHeight","overflowY","border","companies","goBack","comp","ChooseCompany","NotificationForm","notificationId","valuePropName","signOut","defaults","baseURL","interceptors","use","Promise","reject","common","FrontIndexRouter","role_id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","userReducer","userType","company","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","rootSaga","all","sagaMiddleWare","creatSagaMiddleware","middleWares","logger","store","createStore","applyMiddleware","run","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"ojBAuCAA,IAAQC,IACJC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,K,2SC1DWC,EARQ,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAASC,EAAX,+BACnB,6CAAKC,UAAU,WAAcD,GAA7B,aACI,qBAAKC,UAAU,YAAYC,MAAO,CAACC,YAAa,GAAIC,aAAW,QAA/D,SACKC,IAAgBN,SCodvBO,EAAkBC,YAAyB,IAUlCC,cAAQF,GANQ,SAACG,GAAD,MAAa,KAM7BD,CAAiDE,aA5c/C,SAAC,GA4Cb,EA3CHC,QA2CI,IA1CJC,EA0CG,EA1CHA,YACAC,EAyCG,EAzCHA,MAEAC,GAuCG,EAxCHC,kBAwCG,EAvCHD,eACAE,EAsCG,EAtCHA,yBACAC,EAqCG,EArCHA,MAqCG,IAnCHC,OACEC,EAkCC,EAlCDA,eACAC,EAiCC,EAjCDA,mBACAC,EAgCC,EAhCDA,kBACAC,EA+BC,EA/BDA,kBACAC,EA8BC,EA9BDA,mBACAC,EA6BC,EA7BDA,eACAC,EA4BC,EA5BDA,eACAC,EA2BC,EA3BDA,gBACAC,EA0BC,EA1BDA,cACAC,EAyBC,EAzBDA,mBACAC,EAwBC,EAxBDA,QACAC,EAuBC,EAvBDA,kBACAC,EAsBC,EAtBDA,QAQAC,EAcC,EAdDA,WAcC,EAGiCC,mBAAS,IAH1C,mBAGIC,EAHJ,KAGgBC,EAHhB,OAIyCF,mBAAS,IAJlD,mBAIIG,EAJJ,KAIoBC,EAJpB,OAKqCJ,mBAAS,MAL9C,oBAKkBK,IALlB,gBAMiCL,oBAAS,GAN1C,qBAMIM,GANJ,MAMeC,GANf,SAQiCP,mBAAS,CAACQ,QAAS,EAAGC,SAAU,KARjE,qBAQIC,GARJ,MAQgBC,GARhB,SASyCX,mBAAS,GATlD,qBASIY,GATJ,MASoBC,GATpB,SAUyCb,mBAAS,IAVlD,qBAUIc,GAVJ,MAUoBC,GAVpB,SAWyCf,oBAAS,GAXlD,qBAWIgB,GAXJ,MAWmBC,GAXnB,MAcCC,GAAc,KAGlBC,qBAAU,WAER,IAAIC,EAAG,UAAMlC,EAAN,iBAA6BwB,GAAWF,QAAxC,kBAAyDE,GAAWD,UAApE,OAA+ER,EAAU,kBAAcA,EAAd,uBAAuCE,GAAmB,IAE1Jc,IAAmB,GACnBI,IAAM,CACJD,IAAKA,EAAIE,QAAQ,QAAS,IAC1BC,OAAQ,QACPC,MAAK,SAAAC,GAEFC,MAAMC,QAAQF,EAAIG,KAAKA,OACzBb,GAAkBU,EAAIG,KAAKA,MAC3Bf,GAAkBY,EAAIG,KAAKC,QAE3BC,QAAQC,IAAIN,GAEdR,IAAmB,MAClBe,OAAM,SAAAC,GACPH,QAAQC,IAAIE,GACZhB,IAAmB,QAEpB,CAACP,GAAYxB,EAAgBe,EAAYE,IAK5C,IAiDM+B,GAAS,WAEbC,IAAQF,MAAM,sBA6DVG,GAAe,SAACC,EAAcC,EAASC,GAC3CD,IAEApC,EAAcmC,EAAa,IAC3BjC,EAAkBmC,IAIdC,GAAc,SAAAC,GAClBX,QAAQC,IAAIU,GAEZA,IACAvC,EAAc,KAaVwC,GAAS,GAkMb,OA/LF3C,EAAW4C,SAAQ,SAACC,EAASC,GAnFA,IAAAN,EAoF3BG,GAAQI,KACN,CACEP,UAAWK,EAAQL,UACnBvD,MAAO4D,EAAQ5D,MACf+D,IAAKH,EAAQL,UACbS,MAAOJ,EAAQI,MAAQJ,EAAQI,MAAQ,GACvCC,SAA8B,WAApBL,EAAQL,WAA6C,gBAArBK,EAAQL,YAGnDK,EAAQM,eAEPR,GAAQG,GAAR,2BAAqBH,GAAQG,KA/FNN,EA+FsCK,EAAQL,UA/FhC,CACzCY,eAAgB,gBAAGC,EAAH,EAAGA,gBAAiBf,EAApB,EAAoBA,aAAcC,EAAlC,EAAkCA,QAASG,EAA3C,EAA2CA,aAA3C,OACd,sBAAKxE,MAAO,CAAEoF,QAAS,GAAvB,UACE,cAAC,IAAD,CACEC,IAAK,SAAAC,GACHrC,GAAcqC,GAEhBC,YAAW,UAAKjB,EAAL,aACXkB,MAAOpB,EAAa,GACpBqB,SAAU,SAAAC,GAAC,OAAIP,EAAgBO,EAAEC,OAAOH,MAAQ,CAACE,EAAEC,OAAOH,OAAS,KACnEI,aAAc,kBAAMzB,GAAaC,EAAcC,EAASC,IACxDtE,MAAO,CAAE+E,MAAO,IAAKc,aAAc,EAAGC,QAAS,WAEjD,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,KAAK,UACLC,QAAS,kBAAM7B,GAAaC,EAAcC,EAASC,IACnD2B,KAAM,cAACC,EAAA,EAAD,IACNC,KAAK,QACLnG,MAAO,CAAE+E,MAAO,IALlB,sBASA,cAAC,IAAD,CAAQiB,QAAS,kBAAMzB,GAAYC,IAAe2B,KAAK,QAAQnG,MAAO,CAAE+E,MAAO,IAA/E,8BAMNqB,WAAY,SAAAC,GAAQ,OAAI,cAACH,EAAA,EAAD,CAAgBlG,MAAO,CAAEsG,MAAOD,EAAW,eAAYE,MAC/EC,SAAU,SAAChB,EAAOiB,GAAR,QACVA,EAAOnC,IACHmC,EAAOnC,GAAWoC,WAAWC,cAAcC,SAASpB,EAAMkB,WAAWC,gBAEvEE,8BAA+B,SAAAC,GAC3BA,GACFC,YAAW,kBAAM9D,GAAY+D,aAGjCC,OAAQ,SAAApH,GAAI,OACVqC,IAAmBoC,EACjB,cAAC,IAAD,CACE4C,eAAgB,CAAEC,gBAAiB,UAAW/B,QAAS,GACvDgC,YAAa,CAACpF,GACdqF,YAAU,EACVC,gBAAkBzH,EAAOA,EAAK6G,WAAa,OAG7C7G,OAkDD8E,EAAQ4C,eAET9C,GAAQG,GAAR,2BAAqBH,GAAQG,IAA7B,IACE4C,QAAS7C,EAAQ6C,QAAQC,KAAI,SAAAC,GAAM,cAAG,CAAC7H,KAAI,UAAE6H,EAAO7H,YAAT,QAAiB6H,EAAQlC,MAAK,UAAEkC,EAAOlC,aAAT,QAAkBkC,MAC3FlB,SAAU,SAAChB,EAAOiB,GAGhB,OAFAxE,EAAcuD,EAAMkB,WAAWC,eAC/BxE,EAAkBwC,EAAQL,WACnBzB,OAIV8B,EAAQgD,YACTlD,GAAQG,GAAR,2BAAqBH,GAAQG,IAA7B,IACAN,UAAW,KACX2C,OAAQ,SAACR,GAAD,OAAU,8BAAMA,EAAO9B,EAAQL,WAAa,EAAI,QAGvDK,EAAQgD,WAAahD,EAAQ4C,eAC9B9C,GAAQG,GAAR,2BAAqBH,GAAQG,IAA7B,IACAN,UAAW,KACXkD,QAAS,CAAC,CAAC3H,KAAM,EAAG2F,OAAO,GAAO,CAAC3F,KAAM,EAAG2F,OAAO,IACnDgB,SAAU,SAAChB,EAAOiB,GAAR,QAAoBA,EAAO9B,EAAQL,eAAiBkB,GAC9DyB,OAAQ,SAACR,GAAD,OAAU,8BAAMA,EAAO9B,EAAQL,WAAa,EAAI,QAclC,cAArBK,EAAQiD,WACTnD,GAAQG,GAAR,2BACKH,GAAQG,IADb,IAEEN,UAAW,KACX2C,OAAQ,SAACR,GAAD,OAAU,cAAC,EAAD,CAAgB5G,KAAM4G,EAAO9B,EAAQL,iBAInC,WAArBK,EAAQiD,WACTnD,GAAQG,GAAR,2BACKH,GAAQG,IADb,IAEEN,UAAW,KACX2C,OAAQ,SAAAR,GAAM,OAAE,qBAAKzG,MAAO,CAAC8F,QAAS,OAAQ+B,eAAgB,gBAAiBC,SAAU,QAAzE,SAEZrB,EAAO9B,EAAQL,WACfK,EAAQoD,MAAMN,KAAI,SAACO,EAAOpD,GAAR,OAAgB,0CAAyCoD,EAAzC,MAAqDvB,EAAO9B,EAAQL,WAAW0D,KAA/E,yBAA4BpD,OAC5D,uBAMc,UAArBD,EAAQiD,WACTnD,GAAQG,GAAR,2BACKH,GAAQG,IADb,IAEEN,UAAW,KACXkC,SAAU,SAAChB,EAAOiB,GAAR,OAAmBA,EAAO9B,EAAQL,WAAWsC,SAASpB,IAChEyB,OAAQ,SAAAR,GAAM,OAAE,8BAEZA,EAAO9B,EAAQL,WAAWmD,KAAI,SAAAQ,GAAI,OAAI,uBAAMjI,MAAO,CAAEmH,gBAAiB,UAAWb,MAAO,QAASlB,QAAS,EAAG8C,YAAa,EAAGrC,aAAc,EAAGsC,aAAc,GAAtH,UAA4HF,EAA5H,gBAMrB,SAArBtD,EAAQiD,WACVnD,GAAQG,GAAR,2BACKH,GAAQG,IADb,IAEEG,MAAO,IACPT,UAAW,KACX2C,OAAQ,SAAAR,GAAM,OAAE,+BAAQ2B,IAAO3B,EAAO9B,EAAQL,YAAY+D,OAAO,+BAI7C,gBAArB1D,EAAQiD,WACTnD,GAAQG,GAAR,2BACKH,GAAQG,IADb,IAEEN,UAAW,KACXkC,SAAU,SAAChB,EAAOiB,GAAR,OAAmBA,EAAO9B,EAAQL,WAAWsC,SAASpB,IAChEyB,OAAQ,SAAAR,GAAM,OAAE,8BAEZA,EAAO9B,EAAQL,WAAWgE,gBAUlC7D,GAAQI,KAAK,CACX9D,MAAO,IACP+D,IAAK,UACLC,MAAO,GACPwD,MAAO,QACPtB,OAAQ,SAACR,GAAD,OACN,sBAAK1G,UAAU,oBAAf,UACG8B,EAAQ2G,KACP,cAAC,IAAD,CAASC,UAAU,OAAO1H,MAAM,eAAhC,SACE,cAAC,IAAD,CACE2H,GAAE,UAAKnH,EAAL,YAAuBkF,EAAOkC,IADlC,SAEI,cAACC,EAAA,EAAD,CAAc5I,MAAO,CAACsG,MAAO,cAGnC,KAGDzE,EAAQgH,OACP,cAAC,IAAD,CAASJ,UAAU,SAAS1H,MAAM,YAAlC,SACE,cAAC,IAAD,CACEA,MAAQa,GAAwC,eAChDkH,UAAW,YAjRH,SAACrC,GAIrBrD,IAAM,CACJD,IAAI,IAAD,OAAMhC,EAAN,YAA2BsF,EAAOkC,IACrCrF,OAAQ,SACRK,KAAM,CAACoF,QAAStC,EAAOsC,WAEtBxF,MAAK,SAAAC,GAED/B,GACDb,EAAca,GAGbC,GACDZ,EAAyBA,EAA0Ba,GAGrDuC,IAAQ8E,QAAR,UAAmBvC,EAAOkC,GAA1B,oBACC5E,OAAM,SAAAC,GACPE,IAAQF,MAAM,qBACdH,QAAQG,MAAMA,MA2PUiF,CAAcxC,IAC9ByC,SAAUjF,GACVkF,OAAO,KACPC,WAAW,OALb,SAOA,cAACC,EAAA,EAAD,CAAgBrJ,MAAO,CAACsG,MAAO,aAGjC,KAGDzE,EAAQyH,QACL,cAAC,IAAD,CAASb,UAAU,SAAS1H,MAAM,aAAlC,SACE,cAAC,IAAD,CACEA,MAAM,qBACN+H,UAAW,YArQJ,SAACrC,GAGtBrD,IAAMmG,MAAN,WAAgBlI,EAAhB,YAAsCoF,EAAOkC,IAC3C,CAACa,OAAQ9I,EAAYiI,KACtBpF,MAAK,SAAAC,GACD/B,GACDb,EAAca,GAGbC,GACDZ,EAAyBA,EAA0Ba,GAGrDuC,IAAQ8E,QAAR,UAAmBvC,EAAOkC,GAA1B,qBACC5E,OAAM,SAAAC,GACPE,IAAQF,MAAM,sBACdH,QAAQG,MAAMA,MAoPcyF,CAAehD,IAC/ByC,SAAUjF,GACVkF,OAAO,MACPC,WAAW,KALb,SAOE,cAAC,IAAD,CAAiBpJ,MAAO,CAACsG,MAAO,SAAUL,KAAK,qBAGrD,KAGDpE,EAAQ6H,KACP,cAAC,IAAD,CAASjB,UAAU,SAAS1H,MAAM,UAAlC,SACI,cAAC,IAAD,CAAM2H,GAAE,UAAMtH,EACVE,EAAe+B,QAAf,WAA2BjC,EAA3B,KAAiDqF,EAAOrF,IACxDE,EAFI,YAEcmF,EAAOkC,IAF7B,SAEmC,cAACgB,EAAA,EAAD,QAEvC,KAGD9H,EAAQ+H,MAEP,cAAC,IAAD,CAASnB,UAAU,aAAa1H,MAAM,YAAtC,SACE,cAAC,IAAD,CAAM2H,GAAE,UAAKlH,EAAL,YAAwBiF,EAAOkC,IAAvC,SACE,cAAC,IAAD,CAAiB1C,KAAK,aAAajG,MAAO,CAACsG,MAAO,iBAGtD,KAIAzE,EAAQgI,WAEN,cAAC,IAAD,CAASpB,UAAU,aAAa1H,MAAM,qBAAtC,SACE,cAAC,IAAD,CAAM2H,GAAE,UAAK/H,EAAMmJ,KAAX,YAAmB5I,EAAnB,YAAyCuF,EAAOkC,IAAxD,SACE,cAAC,IAAD,CAAiB3I,MAAO,CAACsG,MAAO,WAAYL,KAAK,oBAGtD,WAMT,sBAAKlG,UAAS,mCAA8BsC,GAAY,+BAAiC,MAAzF,UACE,sBAAK0H,cAAe,kBAAIzH,IAAgBD,KAEtCrC,MAAO,CAACgK,UAAW,GAAInE,aAAc,GAAIC,QAAS,OAAQ+B,eAAgB,iBAF5E,UAGE,cAAC,IAAD,CAEE7B,QAAS,WAAK1D,IAAgBD,KAC9B0D,KAAK,UACLE,KAAM5D,GAAY,cAAC4H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAJjD,SAKM7H,GAAY,gBAAkB,iBAEpC,8BACE,6BAAKtB,SAGT,cAAC,IAAD,aAEEN,QAASsC,GACToH,OAAO,KACP1E,SA/Ne,SAAChD,EAAY+E,EAAS4C,GACzCvG,QAAQC,IAAI,qBAAsBrB,EAAY+E,EAAS4C,GACvD1H,GAAcD,GACdL,GAAgBoF,IA6NZ6C,UAAQ,EACR5H,WAAYA,GACZgC,QAASA,GACP6F,WAAYzH,GACd0H,OAAQ,CAAEC,EAAuB,IAApB1I,EAAWwG,SAT1B,aAUc,CAACmC,SAAU,CAAC,gBAAiB7G,MAAOjB,aCrZzC+H,GAvDKC,IAAZC,QAES,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,SAAc,ECXR,SAAAD,GAC3B,OAAQA,GAEJ,IAAK,gBACD,MAAO,CACH9J,MAAO,mBACPgK,YAAa,wBACbC,cAAe,mBACfC,UAAW,oBACXC,WAAY,CACR/J,kBAAmB,uBACnBS,kBAAmB,8BACnBC,QAAS,CACLgH,QAAQ,GAEZ/G,WAAY,CAAC,CACTf,MAAO,eACPuD,UAAW,cACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,aACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,OACPuD,UAAW,cACXW,cAAc,EACdF,MAAO,QAQvB,IAAK,eACD,MAAO,CACHhE,MAAO,gBACPgK,YAAa,wBACbE,UAAW,6BACXD,cAAe,wBACfE,WAAY,CACR/J,kBAAmB,uBACnBG,eAAgB,2BAChBC,eAAgB,2BAChBK,kBAAmB,iCACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,WACPuD,UAAW,WACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,UACPuD,UAAW,UACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,YACPuD,UAAW,aACXiD,cAAc,EACdxC,MAAO,IACPyC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,wBAClB,CAAE2F,MAAO,EAAG3F,KAAM,kBAClB,CAAE2F,MAAO,EAAG3F,KAAM,aAClB,CAAE2F,MAAO,EAAG3F,KAAM,gBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAI1B,CACIkB,MAAO,SACPuD,UAAW,WACXiD,cAAc,EACdxC,MAAO,IACPyC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,cAClB,CAAE2F,MAAO,EAAG3F,KAAM,cAO1C,IAAK,MACD,MAAO,CACHkB,MAAO,SACPgK,YAAa,eACbE,UAAW,sBACXD,cAAe,eACfE,WAAY,CACR/J,kBAAmB,cACnBG,eAAgB,oBAChBC,eAAgB,oBAChBK,kBAAmB,wBACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,aACPuD,UAAW,QACXW,cAAc,GAElB,CACIlE,MAAO,iBACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,SACXiD,cAAc,EACdC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,eAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAClB,CAAE2F,MAAO,EAAG3F,KAAM,iBAClB,CAAE2F,MAAO,EAAG3F,KAAM,uBAClB,CAAE2F,MAAO,EAAG3F,KAAM,yBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAG1B,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,WAM9B,IAAK,WACD,MAAO,CACH7G,MAAO,eACPgK,YAAa,qBACbE,UAAW,2BACXD,cAAe,oBACfE,WAAY,CACR/J,kBAAmB,mBACnBG,eAAgB,0BAChBC,eAAgB,yBAChBK,kBAAmB,6BACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,iBACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,SACXiD,cAAc,EACdC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,eAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAClB,CAAE2F,MAAO,EAAG3F,KAAM,iBAClB,CAAE2F,MAAO,EAAG3F,KAAM,uBAClB,CAAE2F,MAAO,EAAG3F,KAAM,yBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAG1B,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,WAM9B,IAAK,cACD,MAAO,CACH7G,MAAO,iBACPgK,YAAa,uBACbE,UAAW,8BACXD,cAAe,uBACfE,WAAY,CACR/J,kBAAmB,sBACnBG,eAAgB,4BAChBC,eAAgB,4BAChBK,kBAAmB,gCACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,qBACPuD,UAAW,gBACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,kBACPuD,UAAW,aACXW,cAAc,GAElB,CACIlE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,SACXiD,cAAc,EACdC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,eAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAClB,CAAE2F,MAAO,EAAG3F,KAAM,iBAClB,CAAE2F,MAAO,EAAG3F,KAAM,uBAClB,CAAE2F,MAAO,EAAG3F,KAAM,yBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAG1B,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,WAM9B,IAAK,MACD,MAAO,CACH7G,MAAO,2BACPgK,YAAa,eACbE,UAAW,sBACXD,cAAe,eACfE,WAAY,CACR/J,kBAAmB,cACnBG,eAAgB,oBAChBC,eAAgB,oBAChBK,kBAAmB,wBACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,aACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,QACXiD,cAAc,EACdC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,eAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAClB,CAAE2F,MAAO,EAAG3F,KAAM,iBAClB,CAAE2F,MAAO,EAAG3F,KAAM,uBAClB,CAAE2F,MAAO,EAAG3F,KAAM,yBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAG1B,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,WAO9B,QACI,MAAO,CACH7G,MAAO,mBACPgK,YAAa,mBACbE,UAAW,0BACXD,cAAe,mBACfE,WAAY,CACR/J,kBAAmB,kBACnBG,eAAgB,wBAChBC,eAAgB,wBAChBK,kBAAmB,4BACnBC,QAAS,CACL2G,MAAM,EACNK,QAAQ,EACRa,MAAM,GAEV5H,WAAY,CAAC,CACLf,MAAO,iBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,kBACPuD,UAAW,aACXW,cAAc,GAElB,CACIlE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,SACXiD,cAAc,EACdC,QAAS,CACL,CAAEhC,MAAO,EAAG3F,KAAM,eAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAClB,CAAE2F,MAAO,EAAG3F,KAAM,iBAClB,CAAE2F,MAAO,EAAG3F,KAAM,uBAClB,CAAE2F,MAAO,EAAG3F,KAAM,yBAClB,CAAE2F,MAAO,EAAG3F,KAAM,oBAClB,CAAE2F,MAAO,EAAG3F,KAAM,qBAG1B,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,YDnamCuD,CAAgBN,GAA7E9J,EAT2B,EAS3BA,MAAOgK,EAToB,EASpBA,YAAaE,EATO,EASPA,UAAWD,EATJ,EASIA,cAAeE,EATnB,EASmBA,WATnB,EAWDnJ,mBAAS,GAXR,mBAW5BqJ,EAX4B,KAWjBC,EAXiB,OAYLtJ,oBAAS,GAZJ,6BAcnC,OACI,qBAAKhC,UAAU,8BAAf,SACI,sBAAKA,UAAU,uBAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,6BAAMgB,IACN,cAAC,IAAD,CAAM2H,GAAKuC,EAAX,SAAuB,+BAAQF,SAG/BD,EACE,KACA,qBAAK/K,UAAU,yBAAf,SACF,sBAAKA,UAAU,4BAAf,UACI,qBAAKiG,QAAS,kBAAIqF,EAAa,IAAItL,UAAS,yBAAgC,IAAZqL,EAAgB,aAAe,IAA/F,gCAGA,qBAAKpF,QAAS,kBAAIqF,EAAa,IAAItL,UAAS,yBAAgC,IAAZqL,EAAgB,aAAe,IAA/F,2BAGA,qBAAKpF,QAAS,kBAAIqF,EAAa,IAAItL,UAAS,yBAAgC,IAAZqL,EAAgB,aAAe,IAA/F,0BAGA,qBAAKpF,QAAS,kBAAIqF,EAAa,IAAItL,UAAS,yBAAgC,IAAZqL,EAAgB,aAAe,IAA/F,2BAQR,8BACI,cAAC,EAAD,CACIpK,OAAM,2BAAOkK,GAAP,IAAmBjK,eAAe,GAAD,OAAK+J,EAAL,gBA3C9C,CACTM,EAAG,KACHC,EAAG,MACHC,EAAG,QACHC,EAAG,OAuCmFL,iB,kFEpDzEM,I,2DACjB,WAAaC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,aAAe,EAAKA,aAAaC,KAAlB,iBACpB,EAAKC,MAAQ,GAHK,E,yDAMNC,GAAM,IAAD,EACYC,KAAKL,MAA3BM,EADU,EACVA,SAAUC,EADA,EACAA,SACjB,IAAKH,EACH,OAAOG,IAHQ,IAMTxG,EAAMsG,KAAKF,MAAXpG,EACRuG,EAASF,EAAIpG,OAAOH,MAAOE,GAC3B7B,QAAQC,IAAIiI,EAAIpG,OAAOH,MAAOE,K,+BAK9B,OACE,yBACEyG,aAAc,KACd1G,SAAUuG,KAAKJ,aACfQ,SAAUJ,KAAKJ,aAHjB,UAKE,wBAAQpG,MAAM,QAAd,sJACA,wBAAQA,MAAM,aAAd,gJACA,wBAAQA,MAAM,aAAd,4K,GA5BgC6G,kBCCrBC,I,2DACjB,WAAaX,GAAQ,IAAD,8BAClB,cAAMA,IACDC,aAAe,EAAKA,aAAaC,KAAlB,iBACpB,EAAKC,MAAQ,GAHK,E,yDAMNC,GAAM,IAAD,EACcC,KAAKL,MAA5BM,EADS,EACTA,SAIAvG,GALS,EACCwG,SAIJF,KAAKF,MAAXpG,GACRuG,EAASF,EAAIpG,OAAOH,MAAOE,K,+BAI3B,OACE,wBACEyG,aAAc,EACd1G,SAAUuG,KAAKJ,aAFjB,SAKIW,GAAS9E,KAAI,SAAA+E,GAAO,OAAE,yBAAQhH,MAAOgH,EAAQhH,MAAvB,cAAgCgH,EAAQhH,MAAxC,MAAkDgH,EAAQC,kB,GAvB3CJ,kBA+BzCE,GAAW,CACf,CAAE/G,MAAO,EAAGiH,MAAO,UACnB,CAACjH,MAAO,EAAGiH,MAAO,kCACpB,CAACjH,MAAO,EAAGiH,MAAO,kCAClB,CAACjH,MAAO,EAAGiH,MAAO,gEAClB,CAACjH,MAAO,EAAGiH,MAAO,kCAClB,CAACjH,MAAO,EAAGiH,MAAO,0DAClB,CAACjH,MAAO,EAAGiH,MAAO,8CAClB,CAACjH,MAAO,EAAGiH,MAAO,mCAClB,CAACjH,MAAO,EAAGiH,MAAO,2DAClB,CAACjH,MAAO,EAAGiH,MAAO,0DAClB,CAACjH,MAAM,GAAIiH,MAAO,oDAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,oDAClB,CAACjH,MAAM,GAAIiH,MAAO,wEAClB,CAACjH,MAAM,GAAIiH,MAAO,wEAClB,CAACjH,MAAM,GAAIiH,MAAO,kEAClB,CAACjH,MAAM,GAAIiH,MAAO,0CAClB,CAACjH,MAAM,GAAIiH,MAAO,qDAClB,CAACjH,MAAM,GAAIiH,MAAO,kEAClB,CAACjH,MAAM,GAAIiH,MAAO,wEAClB,CAACjH,MAAM,GAAIiH,MAAO,gDAClB,CAACjH,MAAM,GAAIiH,MAAO,wEAClB,CAACjH,MAAM,GAAIiH,MAAO,0DAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,sBAClB,CAACjH,MAAM,GAAIiH,MAAO,sBAClB,CAACjH,MAAM,GAAIiH,MAAO,oDAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,sBAClB,CAACjH,MAAM,GAAIiH,MAAO,wCAClB,CAACjH,MAAM,GAAIiH,MAAO,gEAClB,CAACjH,MAAM,GAAIiH,MAAO,wCAClB,CAACjH,MAAM,GAAIiH,MAAO,8CAClB,CAACjH,MAAM,GAAIiH,MAAO,8CAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,oDAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,qDAClB,CAACjH,MAAM,GAAIiH,MAAO,wCAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,oDAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,8CAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,gEAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,wCAClB,CAACjH,MAAM,GAAIiH,MAAO,gFAClB,CAACjH,MAAM,GAAIiH,MAAO,gBAClB,CAACjH,MAAM,GAAIiH,MAAO,kCAClB,CAACjH,MAAM,GAAIiH,MAAO,iEAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,sBAClB,CAACjH,MAAM,GAAIiH,MAAO,sBAClB,CAACjH,MAAM,GAAIiH,MAAO,4BAClB,CAACjH,MAAM,GAAIiH,MAAO,6B,+EC3BLC,GAjEK,SAAC,GAAiE,IAA/DC,EAA8D,EAA9DA,KAAMC,EAAwD,EAAxDA,SAAUC,EAA8C,EAA9CA,MAAOC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAkCnE,OACI,8BACI,eAAC,IAAD,CAAKC,QAAQ,gBAAb,UACI,cAAC,IAAD,CAAKC,GAAE,OAAEH,QAAF,IAAEA,IAAU,GAAnB,SACI,eAAC,KAAKI,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAMV,EAFV,SAKI,cAAC,IAAD,CAAOxG,KAAK,QAAQV,SA1CvB,SAAAC,GACjB7B,QAAQC,IAAI4B,EAAEC,OAAOH,OAChB8H,MAAM5H,EAAEC,OAAOH,OAyBhBtB,IAAQqJ,QAAQ,4BAxBZ7H,EAAEC,OAAOH,MAAQ,KAAaE,EAAEC,OAAOH,OAAS,WAChDpC,IAAM,CACFD,IAAI,yBAAD,OAA2BuC,EAAEC,OAAOH,OACvClC,OAAQ,QACTC,MAAK,SAAAC,GAAO,MAEgBA,EAAIG,KAAvB0J,EAFG,EAEHA,KAAMG,EAFH,EAEGA,SACV7J,EAAO,GACX,GAAGF,MAAMC,QAAQmJ,GAAO,CACpB,IAAIY,EAAcV,EAAKW,cAAc,qBACrCD,EAAYZ,EAAM,IAAIA,EAAM,IAA5B,OAAkCQ,QAAlC,IAAkCA,IAAQG,EAC1CT,EAAKY,eAAe,CAACC,kBAAkB,YAAKH,UAE5C9J,EAAKkJ,GAAL,OAAcQ,QAAd,IAAcA,IAAQG,EACtBT,EAAKY,eAAehK,MAGzBI,OAAM,SAAA8J,GACLhK,QAAQC,IAAI+J,UAgBR,UAGYlB,EAHZ,cAOA,sBAAM5M,UAAU,uBAAhB,SAAwC6M,SAGhD,cAAC,IAAD,CAAKO,GAAE,OAAEF,QAAF,IAAEA,IAAW,GAApB,SACI,eAAC,KAAKG,KAAN,WACI,cAAC,KAAKA,KAAN,CACIC,KAAMR,EADV,SAII,cAAC,IAAD,CAAO1G,KAAK,WAJhB,UAEY0G,EAFZ,cAMA,sBAAM9M,UAAU,uBAAhB,SAAwC+M,eC3D1DgB,I,OAAa,SAAChC,GAAD,OAAWA,EAAMiC,OAEvBC,GAAoBC,YAC7B,CAACH,KACD,SAAAC,GAAI,OAAIA,EAAKrN,eAGJwN,GAAcD,YACvB,CAACH,KACD,SAAAC,GAAI,OAAIA,EAAKI,SAGJC,GAAoBH,YAC7B,CAACH,KACD,SAAAC,GAAI,OAAEA,EAAKM,eAGFC,GAAsBL,YAC/B,CAACH,KACD,SAAAC,GAAI,OAAEA,EAAKQ,iBCqKTnO,GAAkBC,YAAyB,CAC/C0N,KAAMC,KAGO1N,eAAQF,GAARE,EAvLI,SAAC,GAA6B,IAA3ByN,EAA0B,EAA1BA,KAAMS,EAAoB,EAApBA,QAASzB,EAAW,EAAXA,KAE3B0B,EAAsGV,EAAtGU,IAAKpB,EAAiGU,EAAjGV,KAAMG,EAA2FO,EAA3FP,SAAUkB,EAAiFX,EAAjFW,QAASC,EAAwEZ,EAAxEY,IAAKC,EAAmEb,EAAnEa,QAASC,EAA0Dd,EAA1Dc,QAASC,EAAiDf,EAAjDe,aAAcC,EAAmChB,EAAnCgB,YAAaC,EAAsBjB,EAAtBiB,WAAYC,EAAUlB,EAAVkB,MAEpG,OACE,gCAEE,6KAGW,YAATT,EACA,cAAC,GAAD,CACAzB,KAAMA,EACNE,QAAS,GACTD,OAAQ,GACRJ,SAAS,iBACTE,UAAU,gBACVH,KAAK,eACLE,MAAM,iBAEN,KAIF,eAAC,KAAKO,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,YACL6B,MAAO,CAAC,CAAEC,UAAU,IACpBC,aAAcX,EAJhB,SAKE,cAAC,IAAD,CACEY,UAAQ,EACRlJ,KAAK,QACLZ,YAAY,kBAPV,6BASN,sBAAMxF,UAAU,uBAAhB,oBAGY,aAAZyO,EACE,kFACE,KAEN,eAAC,KAAKpB,KAAN,WACE,cAAC,KAAKA,KAAN,CAEE8B,MAAO,CAAC,CAAEC,UAAU,IACpB9B,KAAK,aACL+B,aAAY,OAAE/B,QAAF,IAAEA,IAAQG,EAJxB,SAKE,cAAC,IAAD,CAEErH,KAAK,QACLZ,YAAY,yEAPV,4BASN,sBAAMxF,UAAU,uBAAhB,oFAGY,QAAZyO,EACE,eAAC,WAAD,WAEgB,aAAZA,GAAsC,gBAAZA,EACtB,KACA,eAAC,KAAKpB,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAK,mBACL+B,aAAcV,EAHhB,SAIE,cAAC,IAAD,CACEvI,KAAK,QACLZ,YAAY,+MALV,wBAON,sBAAMxF,UAAU,uBAAhB,0NAIN,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,gBACL+B,aAAcR,EAHhB,SAIE,cAAC,IAAD,CACEzI,KAAK,QACLZ,YAAY,yEALV,iBAON,sBAAMxF,UAAU,uBAAhB,sFAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SAEgB,aAAZqB,EACI,eAAC,KAAKpB,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAK,oBACL+B,aAAcH,EAHhB,SAIE,cAAC,IAAD,CACE9I,KAAK,QACLZ,YAAY,kBALV,iBAON,sBAAMxF,UAAU,uBAAhB,6BAEA,eAAC,KAAKqN,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAK,YACL+B,aAAcT,EAHhB,SAIE,cAAC,IAAD,CACExI,KAAK,QACLZ,YAAY,wBALV,iBAON,sBAAMxF,UAAU,uBAAhB,wCAMV,eAAC,KAAKqN,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,gBACL+B,aAAcP,EAHhB,SAIE,cAAC,IAAD,CACEK,MAAO,CAAC,CAAEC,UAAU,IACpBhJ,KAAK,QACLZ,YAAY,0CANV,iBAQN,sBAAMxF,UAAU,uBAAhB,qDAEF,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,iBACL+B,aAAcN,EAHhB,SAIE,cAAC,IAAD,CACE3I,KAAK,QACLZ,YAAY,sDALV,iBAON,sBAAMxF,UAAU,uBAAhB,mEAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SAEgB,aAAZqB,EAEE,eAAC,KAAKpB,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,oBACL+B,aAAcL,EAHhB,SAIE,cAAC,IAAD,CACE5I,KAAK,QACLZ,YAAY,0DALV,iBAON,sBAAMxF,UAAU,uBAAhB,qEAEA,eAAC,KAAKqN,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAK,mBACL+B,aAAcJ,EAHhB,SAIE,cAAC,IAAD,CACE7I,KAAK,QACLZ,YAAY,mEALV,iBAON,sBAAMxF,UAAU,uBAAhB,sFAMV,WC5KCuP,GAAqB,CAC9B,CAAEC,UAAU,EAAM/J,MAAO,GAAIT,MAAO,IACpC,CAAEwK,UAAU,EAAM/J,MAAO,oHACzB,CAAE+J,UAAU,EAAM/J,MAAO,8EAAmBgK,WAAYlD,IACxD,CAAEiD,UAAU,EAAM/J,MAAO,8CACzB,CAAE+J,UAAU,EAAM/J,MAAO,6BALK,aAM5B+J,UAAU,EAAM/J,MAAO,wHANK,YAM8B,GAC5D,CAAE+J,UAAU,EAAM/J,MAAO,6GACzB,CAAE+J,UAAU,EAAM/J,MAAO,4GACzB,CAAE+J,UAAU,EAAM/J,MAAO,wHACzB,CAAE+J,UAAU,EAAM/J,MAAO,+CACzB,CAAE+J,UAAU,EAAM/J,MAAO,yEACzB,CAAE+J,UAAU,EAAM/J,MAAO,oEAGhBiK,GAAyB,CAClC,CAAEF,UAAU,EAAM/J,MAAO,GAAIT,MAAO,IACpC,CAAES,MAAO,mHAA0B+J,UAAU,EAAMxK,MAAO,KAC1D,CAAES,MAAO,6YAA8E+J,UAAU,EAAMxK,MAAO,KAC9G,CAAES,MAAO,8HAA2B+J,UAAU,EAAMxK,MAAO,KAC3D,CAAES,MAAO,8EAAmB+J,UAAU,EAAMxK,MAAO,KACnD,CAAES,MAAO,6CAAW+J,UAAU,EAAMxK,MAAO,KAC3C,CAAES,MAAO,4BAAS+J,UAAU,EAAMxK,MAAO,KACzC,CAAES,MAAO,2HAA6B+J,UAAU,EAAMxK,MAAO,KAC7D,CAAES,MAAO,uEAAiB+J,UAAU,EAAMxK,MAAO,KACjD,CAAES,MAAO,4GAAwB+J,UAAU,EAAMxK,MAAO,KACxD,CAAES,MAAO,wBAAU+J,UAAU,EAAMxK,MAAO,KAC1C,CAAES,MAAO,4DAAgB+J,UAAU,EAAMxK,MAAO,KAChD,CAAES,MAAO,SAAU+J,UAAU,EAAMxK,MAAO,MAGjC2K,GAAqB,CAC9B,CAAEH,UAAU,EAAM/J,MAAO,GAAIT,MAAO,IACpC,CAAES,MAAO,mHAA0B+J,UAAU,EAAMxK,MAAO,KAC1D,CAAES,MAAO,8EAAmB+J,UAAU,EAAMxK,MAAO,KACnD,CAAES,MAAO,6CAAW+J,UAAU,EAAMxK,MAAO,KAC3C,CAAES,MAAO,4BAAS+J,UAAU,EAAMxK,MAAO,KACzC,CAAES,MAAO,SAAU+J,UAAU,EAAMxK,MAAO,MAGjC4K,GAA0B,CACnC,CAAEJ,UAAU,EAAM/J,MAAO,GAAIT,MAAO,IACpC,CAAES,MAAO,mHAA0B+J,UAAU,EAAMxK,MAAO,KAC1D,CAAES,MAAO,6YAA8E+J,UAAU,EAAMxK,MAAO,KAC9G,CAAES,MAAO,8HAA2B+J,UAAU,EAAMxK,MAAO,KAC3D,CAAES,MAAO,8EAAmB+J,UAAU,EAAMxK,MAAO,KACnD,CAAES,MAAO,6CAAW+J,UAAU,EAAMxK,MAAO,KAC3C,CAAES,MAAO,4BAAS+J,UAAU,EAAMxK,MAAO,KACzC,CAAES,MAAO,4GAAwB+J,UAAU,EAAMxK,MAAO,KACxD,CAAES,MAAO,SAAU+J,UAAU,EAAMxK,MAAO,MAGjC6K,GAA6B,CACtC,CAAEL,UAAU,EAAM/J,MAAO,GAAIT,MAAO,IACpC,CAAES,MAAO,mHAA0B+J,UAAU,EAAMxK,MAAO,KAC1D,CAAES,MAAO,8EAAmB+J,UAAU,EAAMxK,MAAO,KACnD,CAAES,MAAO,6CAAW+J,UAAU,EAAMxK,MAAO,MA+BlC8K,GAAwB,SAACC,GAA+B,IAE7DC,EAFwClF,EAAoB,uDAAd,UAIlD,OAAQA,GAEJ,IAAK,eAEGkF,EAAeD,EAASrI,KAAI,SAAAuI,GACxB,MAAO,CACH,CAAET,UAAU,EAAM/J,MAAOwK,EAAO,MAAWjL,MAAO,IAClD,CAAES,MAAOwK,EAAO,MAChB,CAAExK,MAAOwK,EAAO,UAAeR,WAAYlD,IAC3C,CAAE9G,MAAOwK,EAAO,YAGXC,QAAQL,IAEzB,MAEJ,IAAK,OAEGG,EAAeD,EAASrI,KAAI,SAAAuI,GACxB,MAAO,CACH,CAAET,UAAU,EAAM/J,MAAOwK,EAAO,MAAWjL,MAAO,IAClD,CAAES,MAAOwK,EAAO,MAChB,CAAExK,MAAOwK,EAAO,UAAeR,WAAYlD,IAC3C,CAAE9G,MAAOwK,EAAO,OAChB,CAAExK,MAAOwK,EAAO,OAChB,CAAExK,MAAO0K,WAAWF,EAAO,OAAaE,WAAWF,EAAO,OAAYT,UAAU,EAAMxK,MAAO,UAGxFkL,QAAQP,IAEzB,MACJ,IAAK,YAGGK,EAAeD,EAASrI,KAAI,SAAAuI,GACxB,MAAO,CACH,CAAET,UAAU,EAAM/J,MAAOwK,EAAO,OAChC,CAAExK,MAAOwK,EAAO,MAChB,CAAExK,MAAOwK,EAAO,YAAiBR,WAAY9D,IAC7C,CAAElG,MAAOwK,EAAO,SAChB,CAAExK,MAAOwK,EAAO,UAAeR,WAAYlD,IAC3C,CAAE9G,MAAOwK,EAAO,OAChB,CAAExK,MAAOwK,EAAO,OAChB,CAAExK,MAAOwK,EAAO,aAChB,CACIxK,MAAOwK,EAAO,MAAYA,EAAO,MAAYE,WAAWF,EAAO,aAC/DT,UAAU,QAITU,QAAQN,IAEzB,MAEJ,IAAK,OAEGI,EAAeD,EAASrI,KAAI,SAACuI,EAASpL,GAClC,MAAO,CACH,CAAE2K,UAAU,EAAM/J,MAAOZ,EAAQ,EAAGG,MAAO,IAC3C,CAAES,MAAOwK,EAAQ3C,MACjB,CAAE7H,MAAOwK,EAAQG,UAAWX,WAAYlD,IACxC,CAAE9G,MAAOwK,EAAQI,OACjB,CAAE5K,MAAOwK,EAAQK,OACjB,CAAE7K,MAAOwK,EAAQI,MAAQJ,EAAQK,MAAOd,UAAU,GAClD,CAAE/J,MAAOwK,EAAQM,cACjB,CAAE9K,MAAOwK,EAAQO,MACjB,CAAE/K,MAAOwK,EAAQQ,qBACjB,CAAEhL,MAAOwK,EAAQS,WACjB,CAAEjL,MAAOwK,EAAQU,YACjB,CAAElL,MAAOwK,EAAQW,gBAGZV,QAAQX,IAEzB,MAEJ,SAEQS,EAAeD,EAASrI,KAAI,SAAAuI,GACxB,MAAO,CACH,CAAET,UAAU,EAAM/J,MAAOwK,EAAO,OAChC,CAAExK,MAAOwK,EAAO,MAChB,CAAExK,MAAOwK,EAAO,YAAiBR,WAAY9D,IAC7C,CAAElG,MAAOwK,EAAO,SAChB,CAAExK,MAAOwK,EAAO,UAAeR,WAAYlD,IAC3C,CAAE9G,MAAOwK,EAAO,OAChB,CAAExK,MAAOwK,EAAO,WAChB,CAAExK,MAAOwK,EAAO,YAChB,CAAExK,MAAOwK,EAAO,UAAeT,UAAU,GACzC,CAAE/J,MAAOwK,EAAO,aAChB,CAAExK,MAAOwK,EAAO,SAChB,CAAExK,MAAOwK,EAAO,QAAcA,EAAO,UAAeT,UAAU,GAC9D,CAAE/J,MAAOwK,EAAO,MAAWT,UAAU,QAGhCU,QAAQR,IAQjC,OAAOM,G,qBCpLEa,GAAe,SAACC,EAAQC,GACnC,MAAM,mJAAN,cAAuCD,QAAvC,IAAuCA,IAAU,cAAjD,qSAAwHC,QAAxH,IAAwHA,IAAU,aAAlI,2sBAkaI1Q,GAAkBC,YAAyB,CAC/C8N,MAAOD,GACPH,KAAMC,KAGO1N,eAAQF,GAARE,EAnaC,SAAC,GAA2B,IAAzB6N,EAAwB,EAAxBA,MAAOxN,EAAiB,EAAjBA,MAAOoN,EAAU,EAAVA,KAAU,EAE1BgD,KAAKC,UAAbjE,EAFkC,oBAGjCkE,EAAUtQ,EAAMuQ,OAAhBD,MAHiC,EAIHlP,mBAAS,CAACoP,QAASP,GAAa7C,EAAKV,QAJlC,mBAIlC+D,EAJkC,KAIrBC,EAJqB,OAKPtP,oBAAS,GALF,mBAKlCuP,EALkC,KAKvBC,EALuB,KASzCrO,qBAAU,WACL+N,GAGD7N,IAAM,CACJD,IAAI,gBAAD,OAAkB8N,GACrB3N,OAAQ,QACPC,MAAK,SAAAC,GACN,IAAIG,EAAOH,EAAIG,KACfA,EAAK6N,aAAapJ,IAAOzE,EAAK6N,cAC9B7N,EAAK8N,WAAWrJ,IAAOzE,EAAK8N,YAC5B9N,EAAK+N,QAAQtJ,IAAOzE,EAAK+N,SACzB/N,EAAKgO,WAAWvJ,IAAOzE,EAAKgO,YAC5B9N,QAAQC,IAAIH,GAEZ0N,EAAe7N,EAAIG,MACnBoJ,EAAK6E,cACLC,EAAQhC,GAAsBrM,EAAIG,KAAKmO,aAAc,WACpD/N,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,QAIf,IAGH,IAnCyC,EA+CN9L,oBAAS,GA/CH,mBA+ClCgQ,EA/CkC,KA+CxBC,EA/CwB,OAkDjBjQ,mBAAS,CAC/B2N,GACA,CACE,CAAEH,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,MAlFc,mBAkDlC0C,EAlDkC,KAkD5BJ,EAlD4B,KAwMzC,OACE,qBAAK7R,MAAO,CAACoF,QAAS,IAAtB,SACE,eAAC,KAAD,CACE8M,cAAed,EACfrE,KAAMA,EACNM,KAAK,UACL8E,SAzEe,SAACC,GACpBb,GAAa,GACb1N,QAAQC,IAAIsO,GACTnB,EACD7N,IAAM,CACJD,IAAI,gBAAD,OAAiB8N,GACpB3N,OAAQ,QACRK,KAAM,CAAC0O,IAAKD,EAAQtC,SAAUmC,KAC7B1O,MAAK,SAAAC,GACN+N,GAAa,GACV/N,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,mBAGhB9E,IAAQF,MAAM,4BAEhBH,QAAQC,IAAIN,MACXO,OAAM,SAAA8J,GACP0D,GAAa,GACbrN,IAAQF,MAAM,4BACdH,QAAQC,IAAI+J,MAGdzK,IAAM,CACJD,IAAI,eACJG,OAAQ,OACRK,KAAM,CAAC0O,IAAKD,EAAQtC,SAAUmC,KAC7B1O,MAAK,SAAAC,GACN+N,GAAa,GACV/N,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,kBAGhB9E,IAAQF,MAAM,2BAEhBH,QAAQC,IAAIN,MACXO,OAAM,SAAA8J,GACP0D,GAAa,GACbrN,IAAQF,MAAM,2BACdH,QAAQC,IAAI+J,OAmCZ0E,oBAAkB,EAClBC,iBA7KmB,CACvBrD,SAAU,sBACVsD,MAAO,CACLC,MAAO,iCACPC,OAAQ,mCAEVA,OAAQ,CACNC,MAAO,+CAgKP,UASA,sBAAK7S,UAAU,+BAAf,UACA,8CAEA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACM,cAAC,IAAD,CAAKC,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,QAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,gBAJZ,yBAMF,sBAAMxF,UAAU,uBAAhB,6BAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,UACL6B,MAAO,CAAC,CAACC,UAAU,IAHrB,SAII,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,gBALZ,2BAOF,sBAAMxF,UAAU,uBAAhB,6BAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,aAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,8BAMF,sBAAMxF,UAAU,uBAAhB,mCAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,eAHP,SAII,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,gCAMF,sBAAMxF,UAAU,uBAAhB,yCAMZ,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACA,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CAAYJ,KAAMA,EAAMyB,QAAQ,UAGlC,cAAC,IAAD,CAAKrB,GAAI,GAAT,SACE,cAAC,GAAD,CAAWJ,KAAOA,EAAOyB,QAAQ,eAKrC,sBAAKzO,UAAU,+BAAf,UACM,6CACE,cAAC,KAAKqN,KAAN,CAAWC,KAAK,UAAhB,SACE,cAAC,KAAD,CAAUlH,KAAK,QAAQ0M,KAAM,SAIvC,sBAAK9S,UAAS,uCAAkCgS,EAAW,iBAAmB,MAA9E,UACE,sBAAK/R,MAAO,CAAC6F,aAAc,GAAIC,QAAS,OAAQ+B,eAAe,iBAA/D,UACE,sBAAK7H,MAAO,CAAC8F,QAAS,QAAtB,UACI,cAAC,KAAD,CACEgN,QAAS,CACPC,cAAe,UAAY5E,GAE7B6E,UAAU,EACVC,OAAO,2DACPC,OAAO,cACPzN,SAzHW,SAACD,GAGxB,GAFA3B,QAAQC,IAAI,YAEU,QAAnB0B,EAAM2N,KAAKC,OAAe,CAAC,IAEpBC,EAAa7N,EAAM2N,KAAnBE,SAERA,EAASC,MAAM5O,SAAQ,SAACC,EAASC,GAC/BD,EAAQ,GAAGa,MAAQZ,EAAQ,EAC3BD,EAAQ,GAAG4K,UAAW,EACtB5K,EAAQ,GAAG6K,WAAa9D,GACxB/G,EAAQ,GAAG6K,WAAalD,MAG1BuF,EAAQ,CAACI,EAAK,IAAP,mBAAcoB,EAASC,SAC9BzP,QAAQC,IAAIuP,KAmGJ,SASI,cAAC,IAAD,CAAQrT,MAAO,CAACkI,YAAa,IAA7B,gCAGJ,mBAAGvC,OAAO,SAAS4N,KAAK,+CAA+CC,UAAQ,EAA/E,SACE,cAAC,IAAD,mCAKJ,cAAC,IAAD,CACEzN,KAAK,UACLE,KAAM8L,EAAW,cAAC9H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAC9ClE,QAAS,kBAAIgM,GAAgBD,IAH/B,SAIMA,EAAW,gBAAkB,oBAIzC,qBAAK/R,MAAO,CAACyT,UAAW,QAAxB,SACE,qBAAKzT,MAAO,CAAC+E,MAAO,QAApB,SACE,cAAC,IAAD,CACEpB,KAAOsO,EACPyB,cApOY,SAAAC,GAAI,OAAIA,EAAKnO,OAqOzBoO,cArMY,SAAClO,EAAGiO,EAAME,EAAGC,GAAb,OACpBH,EAAKpE,SAAW7J,EAAEqO,iBAAmB,MAqM7BC,eApOa,SAAAC,GACrBA,EAAQvP,SAAQ,WAA4BE,GAAU,EAAnC+O,KAAoC,IAA9BO,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,IAAK3O,EAAmB,EAAnBA,MAE/ByM,EAAKiC,GAAKC,GAAV,2BAAsBlC,EAAKiC,GAAKC,IAAhC,IAAsC3O,UAItCyM,EAAKiC,GAAK,GAAV,2BAAoBjC,EAAKiC,GAAK,IAA9B,IAAkC1O,MAAOyM,EAAKiC,GAAK,GAAG1O,OAASyM,EAAKiC,GAAK,GAAG1O,MAAQyM,EAAKiC,GAAK,GAAG1O,MAAQyM,EAAKiC,GAAK,GAAG1O,MAAQ,OAGjIqM,EAAQ,YAAII,WA8NX,cAAC,IAAD,CACE9L,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAI9B,YAAa,EAAGnD,MAAO,KAC9CgB,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,iBAChBD,QAlOe,WAEnB,IAAMoO,EAAY,CACd,CAAE7E,UAAU,EAAM/J,MAAOyM,EAAK3J,QAC9B,CAAE9C,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAIvB8E,EAAO,sBAAOpC,GAAP,CAAamC,IAEvBvC,EAAQwC,IA6MP,sBASA,cAAC,IAAD,CACElO,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAIjF,MAAO,KAC9BuP,QAAM,EACNvO,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,eAChBD,QAAU,WAjQQ,IAACuO,EAiQAtC,EAAK3J,OAAO,IAjQZiM,EAiQgCtC,EAAK3J,OAAO,EAhQnEzE,QAAQC,IAAIyQ,GACZtC,EAAKuC,OAAOD,EAAO,GACnB1C,EAAQ,YAAII,MAsPV,yCAaE,qBAAKlS,UAAU,+BAAf,SAER,cAAC,IAAD,CAAKmN,QAAQ,gBAAb,SACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,QAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,qFAJZ,kBAMF,sBAAMxF,UAAU,uBAAhB,sGAMI,qBAAKA,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,eAAb,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEzM,QAAS6Q,EACTmD,SAAO,EACPC,SAAS,SACT3U,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BAN/C,mFAUF,cAAC,IAAD,UACE,cAAC,IAAD,CACEA,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,YAAYlG,UAAU,6BAHpD,0DAOF,cAAC,IAAD,UACE,cAAC,IAAD,CACEkG,KAAM,cAAC,IAAD,CAAiBA,KAAK,MAAMlG,UAAU,6BAC5CuU,QAAM,EACNvU,UAAU,qBACVoG,KAAK,QAJP,kFAWN,cAAC,KAAKiH,KAAN,CACAC,KAAK,QADL,SAIE,cAAC,IAAD,CAAOtH,KAAK,YAFV,kBCvaN4O,GAAWC,KAAXD,OAiWOE,GA/VG,SAAC,GAA0C,IAAxC9H,EAAuC,EAAvCA,KAAMyB,EAAiC,EAAjCA,QAASsG,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAAgB,EAEFhT,oBAAS,GAFP,mBAEnDiT,EAFmD,KAE7BC,EAF6B,OAGhBlT,mBAAS,IAHO,mBAGnDmT,EAHmD,KAGpCC,EAHoC,KA8F1D,OACE,gCAEE,uKAEa,aAAX3G,EACE,cAAC,GAAD,CACAzB,KAAMA,EACNJ,KAAMoI,EAAY,CAACA,EAAU1H,KAAK,oBAAsB,mBACxDR,MAAOkI,EAAY,CAACA,EAAU1H,KAAM,oBAAsB,mBAC1DT,SAAS,kBAAkBE,UAAU,iBAAiBE,OAAQ,GAAIC,QAAS,KAC3E,KAGJ,eAAC,IAAD,CAAKC,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAgB,YAAZqB,EAAwB,GAAK,GAAtC,SACE,eAAC,KAAKpB,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,YAAc,WAChD6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CACE1J,SA5GW,SAAAC,GACvB7B,QAAQC,IAAI4B,EAAEC,OAAOH,OAChB8H,MAAM5H,EAAEC,OAAOH,OA8ElBtB,IAAQqJ,QAAQ,4BA7EZ7H,EAAEC,OAAOH,MAAQ,KAAaE,EAAEC,OAAOH,OAAS,UAElDpC,IAAM,CACJD,IAAG,gCAEsBuC,EAAEC,OAAOH,OAClClC,OAAQ,MAIRK,KAAM,CACJ8K,IAAK/I,EAAEC,OAAOH,SAEfjC,MAAK,SAAAC,GAAO,MAaCA,EAAIG,KAVhB8K,EAHW,EAGXA,IACAO,EAJW,EAIXA,WACAJ,EALW,EAKXA,QACAC,EANW,EAMXA,QACAI,EAPW,EAOXA,MACA5B,EARW,EAQXA,KACAG,EATW,EASXA,SAME7J,EAAO,CACTyR,SAAU3G,EACV4G,gBAAiBrG,EACjBsG,aAAc1G,EACd2G,aAAc1G,EACd2G,iBAAkBvG,EAClBwG,UAAS,OAAEpI,QAAF,IAAEA,IAAQG,EACnBkI,SAtBW,EAUX/G,IAaAgH,cAvBW,EAWX7G,aAaA8G,iBAxBW,EAYX7G,YAaA8G,gBAzBW,EAaXnH,SAsBF,GAPa,QAAVF,GACDzB,EAAKY,eAAe,CAClBwD,QAASP,GAAa7D,EAAKW,cAAc,cAApB,OAAmCL,QAAnC,IAAmCA,IAAQG,KAKjEuH,EAAU,CAAC,IAAD,EACPtH,EAAcV,EAAKW,cAAc,qBAErCD,EAAYsH,EAAU1H,MAAtB,2BAAkCI,EAAYsH,EAAU1H,OAAU1J,GAElEwR,EAAgB,UAAC3R,EAAIG,KAAKmS,gBAAV,QAAsB,IAEtC/I,EAAKY,eAAe,CAACC,kBAAkB,YAAKH,UAG5CV,EAAKY,eAAehK,MAGrBI,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,MAGdd,EAAKY,eAAe,CAClB0H,gBAAiB,KACjBC,aAAc,KACdC,aAAc,KACdC,iBAAkB,KAClBC,UAAW,KACXC,SAAU,KACVC,cAAe,KACfE,gBAAiB,QAiCX1P,KAAK,QACLZ,YAAY,iBAPTwP,EAAS,mCAA+BA,EAAUjQ,KAAQ,4BASjE,sBAAM/E,UAAU,uBAAhB,sBAGJ,eAAC,IAAD,CAAKoN,GAAgB,YAAZqB,EAAwB,EAAI,GAArC,UACE,0DACA,cAAC,KAAD,CACE/I,SA1HgB,SAACD,GACzByP,EAAwBzP,IA0HhBuQ,gBAAiB,cAACC,GAAA,EAAD,IACjBC,kBAAmB,cAACC,GAAA,EAAD,YAMvBlB,EACE,gCACE,sCACA,eAAC,KAAK5H,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,mBAAqB,kBAFzD,UAIE,cAAC,KAAKD,KAAN,UACE,eAAC,KAAD,CAAQ/C,UAAU,EAAOlE,KAAK,QAA9B,UACE,cAACwO,GAAD,CAAQnP,MAAO,EAAf,uEACA,cAACmP,GAAD,CAAQnP,MAAO,EAAf,sEACA,cAACmP,GAAD,CAAQnP,MAAO,EAAf,+DACA,cAACmP,GAAD,CAAQnP,MAAO,EAAf,8MACA,cAACmP,GAAD,CAAQnP,MAAO,EAAf,oHAIJ,sBAAMzF,UAAU,uBAAhB,+BAbI,iCAgBN,KAIHiV,EAyLG,KAxLF,gCACa,YAATxG,EAAsB,KAAO,mLAC/B,eAAC,KAAKpB,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,aAAe,YAHnD,SAKE,cAAC,IAAD,CACE5H,SAAU,SAAA0Q,GACRpJ,EAAKY,eAAe,CAClBwD,QAASP,GAAa7D,EAAKW,cAAc,cAAeyI,EAAIxQ,OAAOH,UAGvEW,KAAK,QACLZ,YAAY,yBAVV,0BAYN,sBAAMxF,UAAU,uBAAhB,oCAGY,QAAZyO,EACE,eAAC,WAAD,WAEgB,aAAZA,GAAsC,gBAAZA,EACtB,KACA,eAAC,KAAKpB,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAM,mBAAqB,kBAF1D,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,+MALV,wBAQN,sBAAMxF,UAAU,uBAAhB,0NAIN,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAGEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,gBAAkB,eAHtD,SAKE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,yEANV,iBAQN,sBAAMxF,UAAU,uBAAhB,sFAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SAEgB,aAAZqB,EACI,eAAC,KAAKpB,KAAN,WACF,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,oBAAsB,mBAF1D,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,kBALV,iBAQN,sBAAMxF,UAAU,uBAAhB,6BAEE,eAAC,KAAKqN,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,YAAc,WAFlD,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,wBALV,iBAQN,sBAAMxF,UAAU,uBAAhB,wCAMV,eAAC,KAAKqN,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,gBAAkB,eAHtD,SAKE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,0CALV,iBAON,sBAAMxF,UAAU,uBAAhB,qDAIY,aAAVyO,EACA,cAAC,IAAD,CAAKrB,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,eAAiB,cAFrD,SAIE,cAAC,KAAD,CACEhD,UAAU,EACVlE,KAAK,QACLiQ,0BAAwB,EACxB7Q,YAAY,GAJd,SAKK2P,EAAczN,KAAI,SAAAQ,GAAI,OAAE,eAAC0M,GAAD,CAAQnP,MAAOyC,EAAKwG,IAApB,UAA2BxG,EAAKwG,IAAhC,MAAyCxG,EAAKoF,cARvE,iBAWN,sBAAMtN,UAAU,uBAAhB,0BAGH,KAGH,eAAC,IAAD,CAAKmN,QAAQ,gBAAgBmJ,MAAM,UAAnC,UACE,cAAC,IAAD,CAAKlJ,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,iBAAmB,gBAFvD,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sDALV,iBAON,sBAAMxF,UAAU,uBAAhB,mEAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SAEgB,aAAZqB,EACKsG,GAAUC,EAAY,cAAC,IAAD,CACrBhV,UAAU,qBACVC,MAAO,CAAC+E,MAAO,QACfuP,QAAM,EACNnO,KAAK,QACLH,QAAS,kBAAI8O,EAAOC,EAAU1H,OALT,2BAQjB,KACN,eAAC,KAAKD,KAAN,WACA,cAAC,KAAKA,KAAN,CAEEC,KAAM0H,EAAY,CAACA,EAAU1H,KAAK,mBAAqB,kBAFzD,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,mEALV,iBAON,sBAAMxF,UAAU,uBAAhB,gFAME,aAAVyO,EACA,cAAC,IAAD,CAAKrB,GAAI,GAAT,SACE,cAAC,KAAKC,KAAN,CAEEC,KAAO0H,EAAY,CAACA,EAAU1H,KAAM,oBAAqB,mBAF3D,SAIE,cAAC,IAAD,CACEtH,KAAK,SACLI,KAAK,QACLZ,YAAY,0DANV,iCAUN,WAMJ,YCzUVoP,GAAWC,KAAXD,OAmiBFvU,GAAkBC,YAAyB,CAC/C8N,MAAOD,KAGM5N,eAAQF,GAARE,EAriBW,SAAC,GAAqB,IAAnB6N,EAAkB,EAAlBA,MAAOxN,EAAW,EAAXA,MAAW,EAE9BoQ,KAAKC,UAAbjE,EAFsC,oBAGrCuJ,EAAc3V,EAAMuQ,OAApBoF,UAHqC,EAIPvU,mBAAS,CAACwU,YAAa,IAJhB,mBAItCnF,EAJsC,KAIzBC,EAJyB,OAKPtP,qBALO,mBAKtCwU,EALsC,KAKzBC,EALyB,OAMPzU,oBAAS,GANF,mBAMtC0U,EANsC,KAMzBC,EANyB,KAQ7CxT,qBAAU,WACLoT,GAGDlT,IAAM,CACJD,IAAI,oBAAD,OAAsBmT,GACzBhT,OAAQ,QACPC,MAAK,SAAAC,GACN,IAAIG,EAAOH,EAAIG,KACfA,EAAK6N,aAAapJ,IAAOzE,EAAK6N,cAC9B7N,EAAK8N,WAAWrJ,IAAOzE,EAAK8N,YAC5B9N,EAAKgT,YAAYvO,IAAOzE,EAAKgT,aAC7BhT,EAAKiT,uBAAuBxO,IAAOzE,EAAKiT,wBACxCjT,EAAKkT,eAAezO,IAAOzE,EAAKkT,gBAChClT,EAAKgO,WAAWvJ,IAAOzE,EAAKgO,YAC5B9N,QAAQC,IAAIH,GAEZ0N,EAAe7N,EAAIG,MACnBkO,EAAQhC,GAAsBrM,EAAIG,KAAKmT,mBACvC/J,EAAK6E,iBACJ7N,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,QAIf,IAGH,IAYMkJ,EACQ,EADRA,EAES,EAFTA,EAGoB,EAHpBA,EAIQ,EAJRA,EAKU,EArD6B,EAwDVhV,oBAAS,GAxDC,mBAwDtCgQ,EAxDsC,KAwD5BC,EAxD4B,OA2DrBjQ,mBAAS,CAC/B0N,GACA,CACE,CAAEF,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAa9D,IAC1B,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAa9D,IAC1B,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAa9D,IAC1B,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAa9D,IAC1B,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,GAAI+J,UAAU,MAvHkB,mBA2DtC0C,EA3DsC,KA2DhCJ,EA3DgC,KA8P7C,OACE,qBAAK7R,MAAO,CAACoF,QAAS,IAAtB,SACE,eAAC,KAAD,CACE8M,cAAed,EACfrE,KAAMA,EACNM,KAAK,UACL8E,SAxEe,SAACC,GACpBsE,GAAe,GACf7S,QAAQC,IAAIsO,GACTkE,EACDlT,IAAM,CACJD,IAAI,oBAAD,OAAqBmT,GACxBhT,OAAQ,QACRK,KAAM,CAACqT,QAAS5E,EAAQtC,SAAUmC,KACjC1O,MAAK,SAAAC,GACHA,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,0BAEhB9E,IAAQF,MAAM,mCAEhBH,QAAQC,IAAIN,GACZkT,GAAe,MACd3S,OAAM,SAAA8J,GACP3J,IAAQF,MAAM,mCACdH,QAAQC,IAAI+J,GACZ6I,GAAe,MAGjBtT,IAAM,CACJD,IAAI,mBACJG,OAAQ,OACRK,KAAM,CAACqT,QAAS5E,EAAQtC,SAAUmC,KACjC1O,MAAK,SAAAC,GACHA,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,qBAGhB9E,IAAQF,MAAM,+BAEhBH,QAAQC,IAAIN,GACZkT,GAAe,MACd3S,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,GACZ3J,IAAQF,MAAM,+BACd0S,GAAe,OAmCfnE,oBAAkB,EAClBC,iBAlOmB,CACvBrD,SAAU,sBACVsD,MAAO,CACLC,MAAO,iCACPC,OAAQ,mCAEVA,OAAQ,CACNC,MAAO,+CAqNP,UASA,sBAAK7S,UAAU,+BAAf,UACA,+FACA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACI,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,cAFP,SAII,eAAC,KAAD,CACE5H,SAAU+Q,EACVnM,UAAU,EACVlE,KAAK,QACLZ,YAAY,eAJd,UAKI,cAAC,GAAD,CAAQC,MAAOuR,EAAf,sBACA,cAAC,GAAD,CAAQvR,MAAOuR,EAAf,wBACA,cAAC,GAAD,CAAQvR,MAAOuR,EAAf,+BACA,cAAC,GAAD,CAAQvR,MAAOuR,EAAf,uBACA,cAAC,GAAD,CAAQvR,MAAOuR,EAAf,4BAZF,yBAeF,sBAAMhX,UAAU,uBAAhB,+BAGR,cAAC,IAAD,CAAKoN,GAAIoJ,IAAcQ,GAA8BR,IAAcQ,EAA8B,GAAK,EAAtG,SACE,eAAC,KAAK3J,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,eAFP,SAGI,cAAC,IAAD,CACE6B,MAAO,CAAC,CAACC,UAAU,IACnBhJ,KAAK,QACLZ,YAAY,qBALZ,6BAOF,sBAAMxF,UAAU,uBAAhB,qCAIZ,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACM,cAAC,IAAD,CAAKC,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,YAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,oBAJZ,yBAMF,sBAAMxF,UAAU,uBAAhB,iCAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,cACL6B,MAAO,CAAC,CAACC,UAAU,IAHrB,SAII,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,oBALZ,2BAOF,sBAAMxF,UAAU,uBAAhB,iCAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,aAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,8BAMF,sBAAMxF,UAAU,uBAAhB,mCAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,eAHP,SAII,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,gCAMF,sBAAMxF,UAAU,uBAAhB,yCAMZ,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACA,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CAAYJ,KAAMA,MAGpB,cAAC,IAAD,CAAKI,GAAI,GAAT,SACE,cAAC,GAAD,CAAWJ,KAAOA,EAAOyB,QAAQ,mBAIrC,sBAAKzO,UAAS,uCAAkCgS,EAAW,iBAAmB,MAA9E,UACE,sBAAK/R,MAAO,CAAC6F,aAAc,GAAIC,QAAS,OAAQ+B,eAAe,iBAA/D,UACE,sBAAK7H,MAAO,CAAC8F,QAAS,QAAtB,UACI,cAAC,KAAD,CACEgN,QAAS,CACPC,cAAe,UAAY5E,GAE7B6E,UAAU,EACVC,OAAO,2DACPC,OAAO,cACPzN,SApJW,SAACD,GAGxB,GAFA3B,QAAQC,IAAI,YAEU,QAAnB0B,EAAM2N,KAAKC,OAAe,CAAC,IAEpBC,EAAa7N,EAAM2N,KAAnBE,SAERA,EAASC,MAAM5O,SAAQ,SAACC,EAASC,GAC/BD,EAAQ,GAAGa,MAAQZ,EAAQ,EAC3BD,EAAQ,GAAG4K,UAAW,EACtB5K,EAAQ,GAAG6K,WAAa9D,GACxB/G,EAAQ,GAAG6K,WAAalD,MAG1BuF,EAAQ,CAACI,EAAK,IAAP,mBAAcoB,EAASC,SAC9BzP,QAAQC,IAAIuP,KA8HJ,SASI,cAAC,IAAD,CAAQrT,MAAO,CAACkI,YAAa,IAA7B,gCAGJ,mBAAGvC,OAAO,SAAS4N,KAAK,+CAA+CC,UAAQ,EAA/E,SACE,cAAC,IAAD,mCAKJ,cAAC,IAAD,CACEzN,KAAK,UACLE,KAAM8L,EAAW,cAAC9H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAC9ClE,QAAS,kBAAIgM,GAAgBD,IAH/B,SAIMA,EAAW,gBAAkB,oBAIzC,qBAAK/R,MAAO,CAACyT,UAAW,QAAxB,SACE,qBAAKzT,MAAO,CAAC+E,MAAO,QAApB,SACE,cAAC,IAAD,CACEpB,KAAOsO,EACPyB,cA7QY,SAAAC,GAAI,OAAIA,EAAKnO,OA8QzBoO,cA/NY,SAAClO,EAAGiO,EAAME,EAAGC,GAAb,OACpBH,EAAKpE,SAAW7J,EAAEqO,iBAAmB,MA+N7BC,eA9Qa,SAAAC,GACrBA,EAAQvP,SAAQ,WAA4BE,GAAU,EAAnC+O,KAAoC,IAA9BO,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,IAAK3O,EAAmB,EAAnBA,MAE/ByM,EAAKiC,GAAKC,GAAV,2BAAsBlC,EAAKiC,GAAKC,IAAhC,IAAsC3O,UAItC,IAAIyR,EAAc/G,WAAW+B,EAAKiC,GAAK,GAAG1O,OAAS0K,WAAW+B,EAAKiC,GAAK,GAAG1O,OACvE0R,EAAchH,WAAW+G,EAAchF,EAAKiC,GAAK,GAAG1O,MAAQ,KAEhEyM,EAAKiC,GAAK,GAAG,CAAE1O,MAAO0K,WAAWgH,GAAc3H,UAAU,GAEzD,IAAI4H,EAAWjH,WAAW+G,EAAc/G,WAAW+B,EAAKiC,GAAK,IAAI1O,OAAS,KAE1EyM,EAAKiC,GAAK,IAAM,CAAE1O,MAAO2R,EAAU5H,UAAU,GAE7C0C,EAAKiC,GAAK,IAAM,CAAE1O,MAAOyR,EAAc/G,WAAW+G,EAAcC,EAAcC,EAAWjH,WAAW+B,EAAKiC,GAAK,GAAG1O,MAAO,GAAI,GAAK,EAAG+J,UAAU,MAIjJsC,EAAQ,YAAII,WA8PX,cAAC,IAAD,CACE9L,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAI9B,YAAa,EAAGnD,MAAO,KAC9CgB,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,iBAChBD,QAlQe,WAEnB,IAAMoO,EAAY,CAChB,CAAE7E,UAAU,EAAM/J,MAAUyM,EAAK3J,QACjC,CAAE9C,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAa9D,IAC1B,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,GAAI+J,UAAU,IAGrB8E,EAAO,sBAAOpC,GAAP,CAAamC,IAEvBvC,EAAQwC,IAuOP,sBASA,cAAC,IAAD,CACElO,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAIjF,MAAO,KAC9BuP,QAAM,EACNvO,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,eAChBD,QAAU,WA7SQ,IAACuO,EA6SAtC,EAAK3J,OAAO,IA7SZiM,EA6SgCtC,EAAK3J,OAAO,EA5SnEzE,QAAQC,IAAIyQ,GAEZ1Q,QAAQC,IAAImO,GACZA,EAAKuC,OAAOD,EAAO,GACnB1Q,QAAQC,IAAImO,GACZJ,EAAQ,YAAII,MA+RV,yCAWE,sBAAKlS,UAAU,+BAAf,UAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,gBAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,iGAJZ,kBAMF,sBAAMxF,UAAU,uBAAhB,8GAGJ,cAAC,IAAD,CAAKoN,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,yBAFH,SAGA,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,iGAJZ,0CAMF,sBAAMxF,UAAU,uBAAhB,8GAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,cAAC,GAAD,CACEN,MAAM,WACNF,KAAK,WACLG,UAAU,oHACVF,SAAS,2BACTI,OAAQ,GACRC,QAAS,GACTF,KAAMA,SAQtB,cAAC,IAAD,CAAKG,QAAQ,gBAAb,SACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,QAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,qFAJZ,kBAMF,sBAAMxF,UAAU,uBAAhB,uGAMI,qBAAKA,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,eAAb,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEzM,QAASgW,EACThC,SAAO,EACPC,SAAS,SACT3U,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BAN/C,mFAUF,cAAC,IAAD,UACE,cAAC,IAAD,CACEA,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,YAAYlG,UAAU,6BAHpD,0DAOF,cAAC,IAAD,UACE,cAAC,IAAD,CACEkG,KAAM,cAAC,IAAD,CAAiBA,KAAK,MAAMlG,UAAU,6BAC5CuU,QAAM,EACNvU,UAAU,qBACVoG,KAAK,QAJP,kFAUN,cAAC,KAAKiH,KAAN,CAEJC,KAAK,YAFD,SAIF,cAAC,IAAD,CACAtH,KAAK,YAJH,qBAQJ,cAAC,KAAKqH,KAAN,CAEAC,KAAK,mBAFL,SAIE,cAAC,IAAD,CACAtH,KAAK,YAJH,qCC1iBGqR,GAET,8CAKSC,GAAa,CAClB/L,EAAG,CAAChF,MAAO,UAAWzG,KAAM,oBAC5B0L,EAAG,CAACjF,MAAO,UAAWzG,KAAM,cAC5B2L,EAAG,CAAClF,MAAO,UAAWzG,KAAM,SAC5B4L,EAAG,CAACnF,MAAO,UAAWzG,KAAM,YAC5ByX,EAAG,CAAChR,MAAO,UAAWzG,KAAM,eCU9BO,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,GAARE,EArBK,SAAC,GAAqB,IAAnBK,EAAkB,EAAlBA,MAAOoN,EAAW,EAAXA,KAEnBuI,EAAa3V,EAAMuQ,OAAnBoF,UAGP,OACI,qBAAKtW,MAAO,CAACuX,OAAQ,GAAInS,QAAS,IAAlC,SACI,uBACAL,MAAM,OACNyS,OAAO,QACPC,IAAG,UAAKL,GAAL,oCAAyCd,EAAzC,YAAsDvI,EAAK2J,SAA3D,YAAuE3J,EAAKU,KAC/E1I,KAAK,yBCCF4R,GAZM,SAAC,GAAe,IAAbhX,EAAY,EAAZA,MACpB,OACI,gCACI,cAAC,IAAD,CAAOiX,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ+N,UAAWnN,IAC/C,cAAC,IAAD,CAAOkN,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,WAA0B+N,UAAWC,KACtD,cAAC,IAAD,CAAOF,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,oBAAmC+N,UAAWE,KAC/D,cAAC,IAAD,CAAOH,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,oBAAmC+N,UAAWC,S,8BCJ5DE,I,OARM,CACjBC,cAAe,gBACfC,QAAS,UACTC,cAAe,gBACfC,iBAAkB,mBAClBC,mBAAoB,uBCGXC,GAAS,iBAAO,CACzBvS,KAAMiS,GAAaE,UCwIR5X,eAAQ,MAJI,SAAAC,GAAQ,MAAI,CACnCgY,QAAS,SAAA5U,GAAI,OAAIpD,ED7HS,SAAAoD,GAAI,MAAG,CACjCoC,KAAMiS,GAAaI,iBACnBzW,QAASgC,GC2HiB6U,CAAe7U,QAG9BrD,CAAkCE,aAtI5B,SAAC,GAAkC,IAAhCiY,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,MAAOH,EAAc,EAAdA,QAAc,EAIvBxW,mBAAS,IAJc,mBAI5C4W,EAJ4C,KAIpCC,EAJoC,OAKT7W,mBAAS,IALA,mBAK5C8W,EAL4C,KAK7BC,EAL6B,OAMjB/W,oBAAS,GANQ,mBAM5CgX,EAN4C,KAMjCC,EANiC,OAOjBjX,mBAAS,CACvCkX,iBAAkB,EAClBC,kBAAmB,EACnBC,aAAa,EACbC,YAAa,EACbC,aAAa,IAZkC,mBAO5CC,EAP4C,KAOhCC,EAPgC,KAcnDrW,qBAAU,WACN0V,EAAU,CACNY,QAA6B,aAApBf,EAASgB,SAClBzC,QAASyB,EAASgB,SAAS7S,SAAS,YACpC8S,SAAUjB,EAASgB,SAAS7S,SAAS,aACrC+S,YAAalB,EAASgB,SAAS7S,SAAS,gBACxCyL,IAAKoG,EAASgB,SAAS7S,SAAS,QAChCgT,IAAKnB,EAASgB,SAAS7S,SAAS,QAChCiT,QAASpB,EAASgB,SAAS7S,SAAS,kBACpCkT,aAAcrB,EAASgB,SAAS7S,SAAS,qBAE9C,CAAC6R,EAASgB,WAEb,IAAMM,EAAa,WACff,GAAa,IAoBjB,OAjBA9V,qBAAU,WACNE,IAAM,CACFE,OAAQ,MACRH,IAAK,oBACNI,MAAK,SAAAC,GAAM,IACFqV,EAAkBrV,EAAIG,KAAtBkV,cACRN,EAAQ/U,EAAIG,MACZmV,EAAiBD,GACdpV,MAAMC,QAAQmV,IAAkBA,EAAcvQ,QAC7C0Q,GAAa,GAEjBO,EAAc/V,EAAIG,SACnBI,OAAM,SAAA8J,GACLhK,QAAQC,IAAI+J,QAEjB,IAGC,sBAAK9N,UAAU,wCAAf,UAEI,cAAC,KAAD,CACAia,UAAW,CAACjV,MAAO,QACnBhE,MAAM,gBACN+F,QAASiS,EACTkB,KAAMF,EACN7Q,SAAU6Q,EACVG,kBAAmB,CAACla,MAAO,CAAC8F,QAAS,SANrC,SASQ+S,EAAcpR,KAAI,SAAC0S,EAAGvV,GAAJ,OAAY,sBAAK5E,MAAO,CAAC6F,aAAc,IAA3B,UAC1B,+BAAKjB,EAAM,EAAX,KAAgBuV,EAAEC,YAClB,gCAAK,cAAC,KAAD,CACLpa,MAAO,CAACkI,YAAa,IACjB5B,MAAO+Q,GAAW8C,EAAEE,YAAY/T,MAF/B,SAGI+Q,GAAW8C,EAAEE,YAAYxa,OAEjCuI,IAAO+R,EAAExI,YAAYtJ,OAAO,4BAE7B,8BAAO8R,EAAEG,UACT,+BAMZ,qBAAKva,UAAU,sCAAf,SACI,sBAAKA,UAAU,4CAAf,UACI,cAAC,IAAD,CAAM2I,GAAG,WAAT,SACI,sBAAK3I,UAAS,uBAAkB4Y,EAAOa,QAAU,SAAW,IAA5D,UACI,cAAC,IAAD,CAAiBvT,KAAK,SAD1B,oBAIJ,cAAC,IAAD,CAAMyC,GAAG,mBAAT,SACQ,sBAAK3I,UAAS,uBAAkB4Y,EAAO3B,QAAU,SAAW,IAA5D,UACI,cAAC,IAAD,CAAiB/Q,KAAK,eAAelG,UAAU,gBADnD,WAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAOkJ,EAAWL,wBAG9D,cAAC,IAAD,CAAMvQ,GAAG,oBAAT,SACI,sBAAK3I,UAAS,uBAAkB4Y,EAAOe,SAAW,SAAW,IAA7D,UACI,cAAC,IAAD,CAAiBzT,KAAK,gBAAgBlG,UAAU,gBADpD,aAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAOkJ,EAAWJ,yBAG1D,cAAC,IAAD,CAAMxQ,GAAG,eAAT,SACI,sBAAK3I,UAAS,uBAAkB4Y,EAAOtG,IAAM,SAAW,IAAxD,UACI,cAAC,IAAD,CAAiBpM,KAAM,CAAC,MAAO,YAAalG,UAAU,gBAD1D,OAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAOkJ,EAAWH,oBAG1D,cAAC,IAAD,CAAMzQ,GAAG,uBAAT,SACI,sBAAK3I,UAAS,uBAAkB4Y,EAAOgB,YAAc,SAAW,IAAhE,UACI,cAAC,IAAD,CAAiB1T,KAAK,iBAAiBlG,UAAU,gBADrD,cAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAOkJ,EAAWF,mBAG1D,cAAC,IAAD,CAAM1Q,GAAG,eAAT,SACI,sBAAK3I,UAAS,uBAAkB4Y,EAAOiB,IAAM,SAAW,IAAxD,UACI,cAAC,IAAD,CAAiB3T,KAAM,CAAC,MAAO,gBAAiBlG,UAAU,gBAD9D,OAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAOkJ,EAAWD,oBAItDX,EACE,cAAC,IAAD,CAAMhQ,GAAG,sBAAT,SACE,sBAAK3I,UAAS,uBAAkB4Y,EAAOmB,aAAe,SAAW,IAAjE,UACI,cAAC,IAAD,CAAiB7T,KAAM,CAAC,MAAO,QAAUlG,UAAU,gBADvD,gBAEI,cAAC,KAAD,CAAOC,MAAO,CAACua,WAAY,IAAKnK,MAAO,SAG7C,iB,mBClHXoK,GAXG,SAAC,GAAY,IAAV7W,EAAS,EAATA,KACV5C,EAA6B4C,EAA7B5C,MAAOkF,EAAsBtC,EAAtBsC,KAAMK,EAAgB3C,EAAhB2C,MAAO8J,EAASzM,EAATyM,MAC3B,OACA,eAAC,KAAD,CAAMrQ,UAAU,uBAAhB,UACI,qBAAKA,UAAS,2CAAsCuG,GAApD,SAA8D,cAAC,IAAD,CAAiBL,KAAMA,EAAMlG,UAAU,sBACrG,qBAAKA,UAAU,mBAAf,SAAmCgB,IACnC,qBAAKhB,UAAU,qBAAf,SAAqCqQ,QC4IvChQ,I,OAAkBC,YAAyB,CAC7CgO,YAAaD,MAGF9N,eAAQF,GAARE,EAhJK,SAAC,GAAqB,IAAnB+N,EAAkB,EAAlBA,YAAkB,EAEHtM,mBAAS,GAFN,mBAE9BqJ,EAF8B,KAEnBC,EAFmB,cAGQgD,QAHR,IAGQA,IAAe,GAQtDoM,EAAe,CACjB,CACI1Z,MAAO,WACPqP,MAd6B,EAG7BsK,OAYAzU,KAAM,qBACNK,MAAO,SACPqU,OAAQ,mBACRC,WAAY,8BAEhB,CACI7Z,MAAO,YACPqP,MAtB6B,EAGrByK,QAoBR5U,KAAM,mBACNK,MAAO,QACPqU,OAAQ,qBACRC,WAAY,6BAEhB,CACI7Z,MAAO,cACPqP,MA9B6B,EAGZ0K,SA4BjB7U,KAAM,MACNK,MAAO,OACPqU,OAAQ,eACRC,WAAY,+BAEhB,CACI7Z,MAAO,YACPqP,MAtC6B,EAGF2K,MAoC3B9U,KAAM,CAAC,MAAO,YACdK,MAAO,SACPqU,OAAQ,uBACRC,WAAY,6BAKdI,EAAc,CAChB/Z,eAAe,mBAAD,OAAqBmK,EAArB,OACd6P,cAAe,cACf3Z,eAAgB,0BAChBF,kBAAmB,UACnBQ,kBAAmB,4BACnBC,QAAS,CACL2G,KAAkB,IAAZ4C,EACNvC,OAAoB,IAAZuC,EACR1B,MAAM,GAEV5H,WAAY,CACR,CACIf,MAAO,gBACPuD,UAAW,QACXW,cAAc,GAElB,CACIlE,MAAO,cACPuD,UAAW,UACXiD,cAAc,EACdC,QAAS,CAAC,UAAW,MAAO,WAAY,cAAe,QAE3D,CACIzG,MAAO,kBACPuD,UAAW,aACXW,cAAc,GAElB,CACIlE,MAAO,WACPuD,UAAW,aACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,gBACPuD,UAAW,YACXW,cAAc,GAElB,CACIlE,MAAO,UACPuD,UAAW,YACXW,cAAc,EACdF,MAAO,KAEX,CACIhE,MAAO,eACPuD,UAAW,WACXW,cAAc,GAElB,CACIlE,MAAO,SACPuD,UAAW,SACXiD,cAAc,EACdxC,MAAO,GACPyC,QAAS,CACL,CAAChC,MAAO,EAAG3F,KAAM,eACjB,CAAC2F,MAAO,EAAG3F,KAAM,qBACjB,CAAC2F,MAAO,EAAG3F,KAAM,iBACjB,CAAC2F,MAAO,EAAG3F,KAAM,uBACjB,CAAC2F,MAAO,EAAG3F,KAAM,yBACjB,CAAC2F,MAAO,EAAG3F,KAAM,oBACjB,CAAC2F,MAAO,EAAG3F,KAAM,qBAEzB,CACIkB,MAAO,oBACPuD,UAAW,aACXsD,SAAU,UAKtB,OACI,qBAAK7H,UAAU,8BAAf,SACI,sBAAKA,UAAU,6BAAf,UACI,cAAC,IAAD,CAAKmb,OAAQ,CAAC,GAAI,IAAlB,SAEQT,EAAahT,KAAI,SAAC9D,EAAMiB,GAAP,OAAe,cAAC,IAAD,CAAKoB,QAAS,kBAAIqF,EAAazG,IAAQuI,GAAI,EAA3C,SAC5B,cAAC,GAAD,CAAWxJ,KAAMA,WAK7B,cAAC,EAAD,CACI5C,MA/HD,CACXoa,EAAG,qBACH7P,EAAG,sBACHC,EAAG,wBACHC,EAAG,uBA2HwBJ,GACfpK,OAAQga,YC8XtB5a,GAAkBC,YAAyB,CAC/C8N,MAAOD,KAGM5N,eAAQF,GAARE,EA/fS,SAAC,GAAqB,IAAnB6N,EAAkB,EAAlBA,MAAOxN,EAAW,EAAXA,MAAW,EAE5BoQ,KAAKC,UAAbjE,EAFoC,oBAGnCqO,EAAkBza,EAAMuQ,OAAxBkK,cAHmC,EAILrZ,qBAJK,mBAIpCqP,EAJoC,KAIvBC,EAJuB,OAKTtP,oBAAS,GALA,mBAKpCuP,EALoC,KAKzB+J,EALyB,KAQ3CnY,qBAAU,WACLkY,GAGDhY,IAAM,CACJD,IAAI,wBAAD,OAA0BiY,GAC7B9X,OAAQ,QACPC,MAAK,SAAAC,GACN,IAAIG,EAAOH,EAAIG,KACfA,EAAK6N,aAAapJ,IAAOzE,EAAK6N,cAC9B7N,EAAK8N,WAAWrJ,IAAOzE,EAAK8N,YAC5B9N,EAAK2X,wBAAwBlT,IAAOzE,EAAK2X,yBACzC3X,EAAKiT,uBAAuBxO,IAAOzE,EAAKiT,wBACxCjT,EAAK4X,yBAAyBnT,IAAOzE,EAAK4X,0BAC1C5X,EAAKgO,WAAWvJ,IAAOzE,EAAKgO,YAE5BN,EAAe1N,GACfoJ,EAAK6E,cACLC,EAAQhC,GAAsBrM,EAAIG,KAAKmM,SAAU,mBAChD/L,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,QAIf,IAGH,IAnC2C,EAgDR9L,oBAAS,GAhDD,mBAgDpCgQ,EAhDoC,KAgD1BC,EAhD0B,OAmDnBjQ,mBAAS,CAC/B6N,GACA,CACE,CAAEL,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,OA3E8B,mBAmDpCyM,EAnDoC,KAmD9BJ,EAnD8B,KAyN3C,OACE,qBAAK7R,MAAO,CAACoF,QAAS,IAAtB,SACE,eAAC,KAAD,CACE8M,cAAed,EACfrE,KAAMA,EACNM,KAAK,UACL8E,SAvEe,SAACC,GACpBiJ,GAAa,GACbxX,QAAQC,IAAIsO,GACTgJ,EACDhY,IAAM,CACJD,IAAI,wBAAD,OAAyBiY,GAC5B9X,OAAQ,QACRK,KAAM,CAAC6X,IAAKpJ,EAAQtC,SAAUmC,KAC7B1O,MAAK,SAAAC,GACNK,QAAQC,IAAIN,GACZ6X,GAAa,GACV7X,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,6BAGhB9E,IAAQF,MAAM,0CAEfD,OAAM,SAAA8J,GACPwN,GAAa,GACbnX,IAAQF,MAAM,uCACdH,QAAQC,IAAI+J,MAGdzK,IAAM,CACJD,IAAI,uBACJG,OAAQ,OACRK,KAAM,CAAC6X,IAAKpJ,EAAQtC,SAAUmC,KAC7B1O,MAAK,SAAAC,GACN6X,GAAa,GACV7X,EAAIG,KAAK2O,GACVpO,IAAQ8E,QAAQ,yBAEhB9E,IAAQF,MAAM,kCAGhBH,QAAQC,IAAIN,MACXO,OAAM,SAAA8J,GACPwN,GAAa,GACbnX,IAAQF,MAAM,kCACdH,QAAQC,IAAI+J,OAiCZ0E,oBAAkB,EAClBC,iBA9LmB,CACvBrD,SAAU,sBACVsD,MAAO,CACLC,MAAO,iCACPC,OAAQ,mCAEVA,OAAQ,CACNC,MAAO,+CAiLP,UASA,sBAAK7S,UAAU,+BAAf,UACA,6CAEA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACM,cAAC,IAAD,CAAKC,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,gBAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,yBAJZ,yBAMF,sBAAMxF,UAAU,uBAAhB,sCAIN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,sBAAKnN,MAAO,CAAC8F,QAAS,OAAQ+B,eAAgB,iBAA9C,UACF,eAAC,KAAKuF,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,yBACL6B,MAAO,CAAC,CAACC,UAAU,IAHrB,SAII,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,qBALZ,2BAOF,sBAAMxF,UAAU,uBAAhB,gCAGN,eAAC,KAAKqN,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,0BACL6B,MAAO,CAAC,CAACC,UAAU,IAHrB,SAII,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,wBALZ,kCAOF,sBAAMxF,UAAU,uBAAhB,wCAIN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,aAHP,SAII,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,8BAMF,sBAAMxF,UAAU,uBAAhB,mCAGN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACA,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAACC,UAAU,IAEnB9B,KAAK,eAHP,SAII,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,sBAJZ,gCAMF,sBAAMxF,UAAU,uBAAhB,yCAMZ,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACA,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CAAYqB,QAAQ,kBAGtB,cAAC,IAAD,CAAKrB,GAAI,GAAT,SACE,cAAC,GAAD,CAAWJ,KAAOA,EAAOyB,QAAQ,uBAIrC,sBAAKzO,UAAS,uCAAkCgS,EAAW,iBAAmB,MAA9E,UACE,sBAAK/R,MAAO,CAAC6F,aAAc,GAAIC,QAAS,OAAQ+B,eAAe,iBAA/D,UACE,sBAAK7H,MAAO,CAAC8F,QAAS,QAAtB,UACI,cAAC,KAAD,CACEgN,QAAS,CACPC,cAAe,UAAY5E,GAE7B6E,UAAU,EACVC,OAAO,2DACPC,OAAO,cACPzN,SA/HW,SAACD,GAGxB,GAFA3B,QAAQC,IAAI,YAEU,QAAnB0B,EAAM2N,KAAKC,OAAe,CAAC,IAEpBC,EAAa7N,EAAM2N,KAAnBE,SAERA,EAASC,MAAM5O,SAAQ,SAACC,EAASC,GAC/BD,EAAQ,GAAGa,MAAQZ,EAAQ,EAC3BD,EAAQ,GAAG4K,UAAW,EACtB5K,EAAQ,GAAG6K,WAAalD,MAG1BuF,EAAQ,CAACI,EAAK,IAAP,mBAAcoB,EAASC,SAC9BzP,QAAQC,IAAIuP,KA0GJ,SASI,cAAC,IAAD,CAAQrT,MAAO,CAACkI,YAAa,IAA7B,gCAGJ,mBAAGvC,OAAO,SAAS4N,KAAK,+CAA+CC,UAAQ,EAA/E,SACE,cAAC,IAAD,mCAKJ,cAAC,IAAD,CACEzN,KAAK,UACLE,KAAM8L,EAAW,cAAC9H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAC9ClE,QAAS,kBAAIgM,GAAgBD,IAH/B,SAIMA,EAAW,gBAAkB,oBAIzC,qBAAK/R,MAAO,CAACyT,UAAW,QAAxB,SACE,qBAAKzT,MAAO,CAAC+E,MAAO,QAApB,SACE,cAAC,IAAD,CACEpB,KAAOsO,EACPyB,cAjOY,SAAAC,GAAI,OAAIA,EAAKnO,OAkOzBoO,cA1MY,SAAClO,EAAGiO,EAAME,EAAGC,GAAb,OACpBH,EAAKpE,SAAW7J,EAAEqO,iBAAmB,MA0M7BC,eAlOa,SAAAC,GACrBA,EAAQvP,SAAQ,WAA4BE,GAAU,EAAnC+O,KAAoC,IAA9BO,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,IAAK3O,EAAmB,EAAnBA,MAE/ByM,EAAKiC,GAAKC,GAAV,2BAAsBlC,EAAKiC,GAAKC,IAAhC,IAAsC3O,aAGzCqM,EAAQ,YAAII,WAgOX,cAAC,IAAD,CACE9L,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAI9B,YAAa,EAAGnD,MAAO,KAC9CgB,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,iBAChBD,QApOe,WAEnB,IAAMoO,EAAY,CAChB,CAAE7E,UAAU,EAAM/J,MAAUyM,EAAK3J,QACjC,CAAE9C,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,KAGP6O,EAAO,sBAAOpC,GAAP,CAAamC,IAEvBvC,EAAQwC,IAkNP,sBASA,cAAC,IAAD,CACElO,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAIjF,MAAO,KAC9BuP,QAAM,EACNvO,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,eAChBD,QAAU,WAjQQ,IAACuO,EAiQAtC,EAAK3J,OAAO,IAjQZiM,EAiQgCtC,EAAK3J,OAAO,EAhQnEzE,QAAQC,IAAIyQ,GAEZ1Q,QAAQC,IAAImO,GACZA,EAAKuC,OAAOD,EAAO,GACnB1Q,QAAQC,IAAImO,GACZJ,EAAQ,YAAII,MAmPV,yCAWE,qBAAKlS,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACA,cAAC,IAAD,CAAKC,GAAI,EAAT,SACI,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,WAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,2BACZE,SAjTG,SAAAC,GACjB,IAAIyQ,EAAMzQ,EAAEC,OAAOH,MACf8H,MAAM6I,GA0BRjS,IAAQqJ,QAAQ,4BAxBb4I,EAAM,KAAaA,EAAI,WACxB/S,IAAM,CACJE,OAAQ,MACRH,IAAK,qBAAqBgT,IAE3B5S,MAAK,SAAAC,GAAM,IAAD,EAOLA,EAAIG,KALN0J,EAFO,EAEPA,KACAG,EAHO,EAGPA,SACAiO,EAJO,EAIPA,aACAC,EALO,EAKPA,QACAC,EANO,EAMPA,QAEF9X,QAAQC,IAAIsE,IAAO,uBAAuBwT,UAC1C7O,EAAKY,eAAe,CAClBkO,SAAQ,OAAErO,QAAF,IAAEA,IAAYH,EACtBkO,yBAA0BnT,IAAOqT,GAAcG,SAAWxT,IAAOqT,GAAgB,KACjFK,sBAAuBJ,EACvBK,oBAAqBJ,WAsRf,0BASF,sBAAM5b,UAAU,uBAAhB,2CAGJ,cAAC,IAAD,CAAKoN,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,WAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,wBAJZ,eAMF,sBAAMxF,UAAU,uBAAhB,qCAGJ,cAAC,IAAD,CAAKoN,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,iBAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,0CAJZ,yDAMF,sBAAMxF,UAAU,uBAAhB,uDAIJ,cAAC,IAAD,CAAKoN,GAAI,EAAT,SAEI,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,sBAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,iIAJZ,4BAMF,sBAAMxF,UAAU,uBAAhB,8IAKhB,cAAC,IAAD,CAAKoN,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,wBAFH,SAGA,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,gIAJZ,kBAMF,sBAAMxF,UAAU,uBAAhB,6IAGJ,cAAC,IAAD,CAAKoN,GAAI,EAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEFC,KAAK,2BAFH,SAGA,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,0HAJZ,kBAMF,sBAAMxF,UAAU,uBAAhB,4IAMI,qBAAKA,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,eAAb,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEzM,QAAS6Q,EACTmD,SAAO,EACPC,SAAS,SACT3U,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BAN/C,mFAUF,cAAC,IAAD,UACE,cAAC,IAAD,CACEA,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,YAAYlG,UAAU,6BAHpD,0DAOF,cAAC,IAAD,UACE,cAAC,IAAD,CACEkG,KAAM,cAAC,IAAD,CAAiBA,KAAK,MAAMlG,UAAU,6BAC5CuU,QAAM,EACNvU,UAAU,qBACVoG,KAAK,QAJP,kFAUN,cAAC,KAAKiH,KAAN,CACEC,KAAK,gBADP,SAIE,cAAC,IAAD,CAAOtH,KAAK,YAFR,kBAIN,cAAC,KAAKqH,KAAN,CACEC,KAAK,uBADP,SAIE,cAAC,IAAD,CAAOtH,KAAK,YAFR,kCCtfDiW,GAXU,SAAC,GAAe,IAAbrb,EAAY,EAAZA,MACxB,OACI,gCACI,cAAC,IAAD,CAAOiX,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ7C,OAAQ,kBAAI,cAAC,EAAD,CAAU4D,IAAI,mBAC9D,cAAC,IAAD,CAAO+M,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,WAA0B+N,UAAWoE,KACtD,cAAC,IAAD,CAAOrE,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,wBAAuC+N,UAAWoE,KACnE,cAAC,IAAD,CAAOrE,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAWoE,SCYjE7b,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,GAARE,EArBC,SAAC,GAAqB,IAAnBK,EAAkB,EAAlBA,MAAOoN,EAAW,EAAXA,KAEfkD,EAAStQ,EAAMuQ,OAAfD,MAGP,OACI,qBAAKjR,MAAO,CAACuX,OAAQ,GAAInS,QAAS,IAAlC,SACI,uBACAL,MAAM,OACNyS,OAAO,QACPC,IAAG,UAAKL,GAAL,gCAAqCnG,EAArC,YAA8ClD,EAAK2J,SAAnD,YAA+D3J,EAAKU,KACvE1I,KAAK,yBCAFmW,GAXQ,SAAC,GAAe,IAAbvb,EAAY,EAAZA,MACtB,OACI,gCACI,cAAC,IAAD,CAAOiX,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ7C,OAAQ,kBAAI,cAAC,EAAD,CAAU4D,IAAI,WAC9D,cAAC,IAAD,CAAO+M,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,WAA0B+N,UAAYsE,KACvD,cAAC,IAAD,CAAOvE,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAYsE,KAC5D,cAAC,IAAD,CAAOvE,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAYuE,S,oBCohBlEhc,GAAkBC,YAAyB,CAC/C8N,MAAOD,KAGM5N,eAAQF,GAARE,EA7gBW,SAAC,GAAsB,IAApB6N,EAAmB,EAAnBA,MAAOxN,EAAY,EAAZA,MAAY,EAE/BoQ,KAAKC,UAAbjE,EAFuC,oBAGtCsP,EAAe1b,EAAMuQ,OAArBmL,WAHsC,EAIRta,qBAJQ,mBAIvCqP,EAJuC,KAI1BC,EAJ0B,OAKZtP,oBAAS,GALG,mBAKvCuP,EALuC,KAK5B+J,EAL4B,KAO9CnY,qBAAU,WACJmZ,GAGFjZ,IAAM,CACJD,IAAI,qBAAD,OAAuBkZ,GAC1B/Y,OAAQ,QACPC,MAAK,SAAAC,GACN,IAAIG,EAAOH,EAAIG,KACfA,EAAK6N,aAAepJ,IAAOzE,EAAK6N,cAChC7N,EAAK8N,WAAarJ,IAAOzE,EAAK8N,YAC9B9N,EAAK2Y,mBAAqBlU,IAAOzE,EAAK2Y,oBACtC3Y,EAAKgO,WAAavJ,IAAOzE,EAAKgO,YAC9BhO,EAAK4Y,MAAQ5Y,EAAK6Y,eAClB7Y,EAAKiK,kBAAoBjK,EAAKiK,kBAAkBnG,KAAI,SAAAgV,GAAU,IAE1D7N,EAeE6N,EAfF7N,QACAC,EAcE4N,EAdF5N,QACA6N,EAaED,EAbFC,WACAC,EAYEF,EAZFE,WACAC,EAWEH,EAXFG,SACA7N,EAUE0N,EAVF1N,YACA8N,EASEJ,EATFI,OACAC,EAQEL,EARFK,OACAC,EAOEN,EAPFM,YACA1P,EAMEoP,EANFpP,KACA2P,EAKEP,EALFO,KACAvO,EAIEgO,EAJFhO,IAIEgO,EAHFQ,UAGER,EAFFS,YAEET,EADFU,aAEF,MAAO,CACL7H,aAAc1G,EACd2G,aAAc1G,EACduO,YAAaV,EACbW,gBAAiBV,EACjBhH,cAAeiH,EACfhH,iBAAkB7G,EAClBuO,iBAAkBT,EAClBU,iBAAkBT,EAClBtH,iBAAkBuH,EAClBtH,UAAWpI,EACX2P,OACA5H,SAAU3G,MAGd5K,QAAQC,IAAIH,GAEZ0N,EAAe1N,GACfkO,EAAQhC,GAAsBrM,EAAIG,KAAK6Z,kBAAmB,aAC1DzQ,EAAK6E,iBACJ7N,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,QAIf,IAGH,IAnE8C,EA+EX9L,oBAAS,GA/EE,mBA+EvCgQ,EA/EuC,KA+E7BC,EA/E6B,OAiFtBjQ,mBAAS,CAC/B4N,GACA,CACE,CAAEJ,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAY9D,IACzB,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAYlD,IACzB,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAY9D,IACzB,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAYlD,IACzB,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAY9D,IACzB,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAYlD,IACzB,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAEzB,CACE,CAAEA,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAY9D,IACzB,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAYlD,IACzB,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,MA7HmB,mBAiFvC0C,EAjFuC,KAiFjCJ,EAjFiC,KAuP9C,OACE,qBAAK7R,MAAO,CAAEoF,QAAS,IAAvB,SACE,eAAC,KAAD,CACE8M,cAAed,EACfrE,KAAMA,EACNM,KAAK,UACL8E,SAzEe,SAACC,GACpBvO,QAAQC,IAAIsO,GACZiJ,GAAa,GACb,IAAIkB,EAAQnK,EAAOmK,MAAM9U,KAAI,SAACgW,EAAM7Y,GAAP,mBAAC,eAAsB6Y,GAAvB,IAA6BC,MAAO9Y,EAAQ,OACrE+Y,EAAWvL,EAAOxE,yBACfwE,EAAOmK,aACPnK,EAAOxE,kBACVyO,EACFjZ,IAAM,CACJD,IAAI,qBAAD,OAAuBkZ,GAC1B/Y,OAAQ,QACRK,KAAM,CAAE+V,SAAUtH,EAAQtC,SAAUmC,EAAMsK,MAAOA,EAAO3O,kBAAmB+P,KAC1Epa,MAAK,SAAAC,GACNK,QAAQC,IAAIN,GACRA,EAAIG,KAAK2O,GACXpO,IAAQ8E,QAAQ,yBAEhB9E,IAAQF,MAAM,kCAEhBqX,GAAa,MACZtX,OAAM,SAAA8J,GACP3J,IAAQF,MAAM,kCACdH,QAAQC,IAAI+J,GACZwN,GAAa,MAGfjY,IAAM,CACJD,IAAK,oBACLG,OAAQ,OACRK,KAAM,CAAE+V,SAAUtH,EAAQtC,SAAUmC,EAAMsK,MAAOA,EAAO3O,kBAAmB+P,KAC1Epa,MAAK,SAAAC,GACNK,QAAQC,IAAIN,GACRA,EAAIG,KAAK2O,GACXpO,IAAQ8E,QAAQ,8BAEhB9E,IAAQF,MAAM,+BAEhBqX,GAAa,MACZtX,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,GACZ3J,IAAQF,MAAM,+BACdqX,GAAa,OAiCb9I,oBAAkB,EAClBC,iBA5LmB,CACvBrD,SAAU,sBACVsD,MAAO,CACLC,MAAO,iCACPC,OAAQ,mCAEVA,OAAQ,CACNC,MAAO,+CA+KP,UASE,sBAAK7S,UAAU,+BAAf,UACE,2CAEA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,eAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,UAJV,yBAMN,sBAAMxF,UAAU,uBAAhB,uBAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,sBAAKnN,MAAO,CAAE8F,QAAS,OAAQ+B,eAAgB,iBAA/C,UACE,eAAC,KAAKuF,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,eACL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAIE,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,qBALV,2BAON,sBAAMxF,UAAU,uBAAhB,gCAGF,eAAC,KAAKqN,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,qBACL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAIE,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,wBALV,kCAON,sBAAMxF,UAAU,uBAAhB,wCAIN,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,aAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJV,8BAMN,sBAAMxF,UAAU,uBAAhB,mCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,gBAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,oBAJV,gCAMN,sBAAMxF,UAAU,uBAAhB,uCAMR,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CAAYqB,QAAQ,WAAWzB,KAAMA,MAGzC,cAAC,KAAK6Q,KAAN,CAAWvQ,KAAK,oBAAhB,SACG,SAACwQ,EAAD,OAAWjgB,EAAX,EAAWA,IAAKkX,EAAhB,EAAgBA,OAAhB,OACC,qCACK+I,EAAOpW,KAAI,SAAAO,GAAK,OACf,cAAC,IAAD,CAAK8V,GAAI,GAAT,SACE,cAAC,GAAD,CAEE/I,UAAW/M,EACX8M,OAAQA,EACRtG,QAAQ,WACRzB,KAAMA,GAJD/E,EAAMlD,UAOnB,cAAC,KAAKsI,KAAN,UACE,cAAC,IAAD,CACEjH,KAAK,QACLpG,UAAU,qBACVC,MAAO,CAAC+E,MAAM,QACdgB,KAAK,SACLC,QAAS,kBAAMpI,KACfqI,KAAM,cAAC8X,GAAA,EAAD,IANR,8CAgBV,sBAAKhe,UAAS,uCAAkCgS,EAAW,iBAAmB,MAA9E,UACE,sBAAK/R,MAAO,CAAE6F,aAAc,GAAIC,QAAS,OAAQ+B,eAAgB,iBAAjE,UACE,sBAAK7H,MAAO,CAAE8F,QAAS,QAAvB,UACE,cAAC,KAAD,CACEgN,QAAS,CACPC,cAAe,UAAY5E,GAE7B6E,UAAU,EACVC,OAAO,2DACPC,OAAO,cACPzN,SAvJY,SAACD,GAEzB,GAAyB,QAArBA,EAAM2N,KAAKC,OAAkB,CAAC,IAExBC,EAAa7N,EAAM2N,KAAnBE,SAERA,EAASC,MAAM5O,SAAQ,SAACC,EAASC,GAC/BD,EAAQ,GAAGa,MAAQZ,EAAQ,EAC3BD,EAAQ,GAAG4K,UAAW,EACtB5K,EAAQ,GAAG6K,WAAalD,MAG1BuF,EAAQ,CAACI,EAAK,IAAP,mBAAcoB,EAASC,SAC9BzP,QAAQC,IAAIuP,KAmIJ,SASE,cAAC,IAAD,CAAQrT,MAAO,CAAEkI,YAAa,IAA9B,gCAGF,mBAAGvC,OAAO,SAAS4N,KAAK,gDAAgDC,UAAQ,EAAhF,SACE,cAAC,IAAD,mCAKJ,cAAC,IAAD,CACEzN,KAAK,UACLE,KAAM8L,EAAW,cAAC9H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAC9ClE,QAAS,kBAAMgM,GAAgBD,IAHjC,SAIGA,EAAW,gBAAkB,oBAIlC,qBAAK/R,MAAO,CAAEyT,UAAW,QAAzB,SACE,qBAAKzT,MAAO,CAAE+E,MAAO,QAArB,SACE,cAAC,IAAD,CACEpB,KAAMsO,EACNyB,cA1QQ,SAAAC,GAAI,OAAIA,EAAKnO,OA2QrBoO,cArOQ,SAAClO,EAAGiO,EAAME,EAAGC,GAAb,OACpBH,EAAKpE,SAAW7J,EAAEqO,iBAAmB,MAqOzBC,eA3QS,SAAAC,GACrBA,EAAQvP,SAAQ,WAA4BE,GAAU,EAAnC+O,KAAoC,IAA9BO,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,IAAK3O,EAAmB,EAAnBA,MAEjCyM,EAAKiC,GAAKC,GAAV,2BAAsBlC,EAAKiC,GAAKC,IAAhC,IAAsC3O,UAItCyM,EAAKiC,GAAK,GAAG1O,MAAQyM,EAAKiC,GAAK,GAAG1O,OAASyM,EAAKiC,GAAK,GAAG1O,MACpD0K,WAAW+B,EAAKiC,GAAK,GAAG1O,OAAS0K,WAAW+B,EAAKiC,GAAK,GAAG1O,OACzD0K,WAAW+B,EAAKiC,GAAK,GAAG1O,MAAQyM,EAAKiC,GAAK,GAAG1O,MAAQ,GACrD,KAKNqM,EAAQ,YAAII,WAgQN,cAAC,IAAD,CACE9L,KAAK,QACLnG,MAAO,CAAEgK,UAAW,GAAI9B,YAAa,EAAGnD,MAAO,KAC/CgB,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAAEkI,YAAa,GACtBjC,KAAM,CAAC,MAAO,iBAChBD,QApQW,WAEnB,IAAMoO,EAAY,CAChB,CAAE7E,UAAU,EAAM/J,MAAOyM,EAAK3J,QAC9B,CAAE9C,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAY9D,IACzB,CAAElG,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAYlD,IACzB,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,IAGrB8E,EAAO,sBAAOpC,GAAP,CAAamC,IAExBvC,EAAQwC,IA6OF,sBASA,cAAC,IAAD,CACElO,KAAK,QACLnG,MAAO,CAAEgK,UAAW,GAAIjF,MAAO,KAC/BuP,QAAM,EACNvO,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAAEkI,YAAa,GACtBjC,KAAM,CAAC,MAAO,eAChBD,QAAS,WAtSK,IAACuO,EAsSMtC,EAAK3J,OAAS,IAtSpBiM,EAsSyCtC,EAAK3J,OAAS,EArS9E2J,EAAKuC,OAAOD,EAAO,GACnB1C,EAAQ,YAAII,MA4RN,yCAWF,sBAAKlS,UAAU,+BAAf,UACE,qDACA,cAAC,KAAK6d,KAAN,CAAWvQ,KAAK,QAAhB,SACG,SAACwQ,EAAD,OAAWjgB,EAAX,EAAWA,IAAKkX,EAAhB,EAAgBA,OAAhB,OACC,qCACG+I,EAAOpW,KAAI,SAAAO,GAAK,OACf,eAAC,IAAD,CAAqBhI,MAAO,CAAE8F,QAAS,OAAQD,aAAc,GAAKwQ,MAAM,WAAxE,UACE,cAAC,IAAD,CAAKyH,GAAI,GAAT,SACE,eAAC,KAAK1Q,KAAN,WACE,cAAC,KAAKA,KAAN,2BACMpF,GADN,IAEEqF,KAAM,CAACrF,EAAMqF,KAAM,SACnB2Q,SAAU,CAAChW,EAAMgW,SAAU,SAC3B9O,MAAO,CAAC,CAAEC,UAAU,IAJtB,SAME,cAAC,IAAD,CACEpP,UAAU,sBACVoG,KAAK,QACLZ,YAAY,mBACZ0Y,WACE,cAAC,IAAD,CACEhY,KAAM,CAAC,MAAO,gBACdD,QAAS,kBAAM8O,EAAO9M,EAAMqF,cAEpC,sBAAMtN,UAAU,uBAAhB,mCAGJ,cAAC,IAAD,CAAK+d,GAAI,GAAT,SACE,cAAC,KAAK1Q,KAAN,2BACMpF,GADN,IAEEqF,KAAM,CAACrF,EAAMqF,KAAM,QACnB2Q,SAAU,CAAChW,EAAMgW,SAAU,QAC3B9O,MAAO,CAAC,CAAEC,UAAU,IAJtB,SAME,cAAC,KAAD,CAAU0D,KAAM,EAAGtN,YAAY,iBAAiBY,KAAK,eAIzD,cAAC,KAAD,MAhCQ6B,EAAMlD,QAmClB,cAAC,KAAKsI,KAAN,UACE,cAAC,IAAD,CAAQjH,KAAK,QAAQJ,KAAK,SAASC,QAAS,kBAAMpI,KAAOsgB,OAAK,EAACjY,KAAM,cAAC8X,GAAA,EAAD,IAArE,wCAQV,qBAAKhe,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,eAAb,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEuH,SAAO,EACPC,SAAS,SACTjU,QAAS6Q,EACTvR,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BAN/C,mFAUF,cAAC,IAAD,UACE,cAAC,IAAD,CACEA,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,YAAYlG,UAAU,6BAHpD,0DAOF,cAAC,IAAD,UACE,cAAC,IAAD,CACEkG,KAAM,cAAC,IAAD,CAAiBA,KAAK,MAAMlG,UAAU,6BAC5CuU,QAAM,EACNvU,UAAU,qBACVoG,KAAK,QAJP,kFAUN,cAAC,KAAKiH,KAAN,CACEC,KAAK,aADP,SAIE,cAAC,IAAD,CAAOtH,KAAK,YAFR,wBChgBR3F,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,GAARE,EArBM,SAAC,GAAqB,IAAnBK,EAAkB,EAAlBA,MAAOoN,EAAW,EAAXA,KAEpBsO,EAAc1b,EAAMuQ,OAApBmL,WAGP,OACI,qBAAKrc,MAAO,CAACuX,OAAQ,GAAInS,QAAS,IAAlC,SACI,uBACAL,MAAM,OACNyS,OAAO,QACPC,IAAG,UAAKL,GAAL,qCAA0CiF,EAA1C,YAAwDtO,EAAK2J,SAA7D,YAAyE3J,EAAKU,KACjF1I,KAAK,yBCAFoY,GAXa,SAAC,GAAe,IAAbxd,EAAY,EAAZA,MAC3B,OACI,gCACI,cAAC,IAAD,CAAOiX,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ7C,OAAQ,kBAAM,cAAC,EAAD,CAAU4D,IAAI,gBAChE,cAAC,IAAD,CAAO+M,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,WAA0B+N,UAAWuG,KACtD,cAAC,IAAD,CAAOxG,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,qBAAoC+N,UAAWuG,KAChE,cAAC,IAAD,CAAOxG,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,qBAAoC+N,UAAWwG,S,UCksBtEje,GAAkBC,YAAyB,CAC/C8N,MAAOD,GACPH,KAAMC,KAGO1N,eAAQF,GAARE,EA7rBC,SAAC,GAA4B,IAA1BK,EAAyB,EAAzBA,MAAOwN,EAAkB,EAAlBA,MAAkB,KAAXJ,KAEhBgD,KAAKC,WAAbjE,EAFmC,oBAGlCuR,EAAU3d,EAAMuQ,OAAhBoN,MAHkC,EAIJvc,qBAJI,mBAInCqP,EAJmC,KAItBC,EAJsB,OAKRtP,oBAAS,GALD,mBAKnCuP,EALmC,KAKxBC,EALwB,OAUPxP,oBAAS,GAVF,mBAUnCgQ,EAVmC,KAUzBC,EAVyB,OAalBjQ,mBAAS,CAC/BuN,GACA,CACE,CAAEC,UAAU,EAAM/J,MAAO,GACzB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAM,GACxB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAM,GACxB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,KAEX,CACE,CAAE+J,UAAU,EAAM/J,MAAM,GACxB,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,OArE6B,mBAanCyM,EAbmC,KAa7BJ,EAb6B,KAkJ1C3O,qBAAU,WACJob,GAGFlb,IAAM,CACJD,IAAI,gBAAD,OAAkBmb,GACrBhb,OAAQ,QACPC,MAAK,SAAAC,GACN,IAAIG,EAAOH,EAAIG,KACfA,EAAK6N,aAAepJ,IAAOzE,EAAK6N,cAChC7N,EAAK8N,WAAarJ,IAAOzE,EAAK8N,YAC9B9N,EAAK4a,YAAcnW,IAAOzE,EAAK4a,aAC/B5a,EAAK6a,eAAiBpW,IAAOzE,EAAK6a,gBAClC7a,EAAKgO,WAAavJ,IAAOzE,EAAKgO,YAC9B9N,QAAQC,IAAIH,GAEZ0N,EAAe7N,EAAIG,MACnBoJ,EAAK6E,cACLC,EAAQhC,GAAsBrM,EAAIG,KAAKmM,SAAU,WAChD/L,OAAM,SAAA8J,GACPhK,QAAQC,IAAI+J,QAIf,IAwDH,OACE,qBAAK7N,MAAO,CAAEoF,QAAS,IAAvB,SACE,eAAC,KAAD,CACE8M,cAAed,EACfrE,KAAMA,EACNM,KAAK,UACL8E,SA7Ce,SAACC,GACpBb,GAAa,GACb1N,QAAQC,IAAIsO,GACRkM,EACFlb,IAAM,CACJD,IAAI,gBAAD,OAAkBmb,GACrBhb,OAAQ,QACRK,KAAM,CAAEiW,IAAKxH,EAAQtC,SAAUmC,KAC9B1O,MAAK,SAAAC,GACN+N,GAAa,GACbrN,IAAQ8E,QAAQ,mBAChBnF,QAAQC,IAAIN,MACXO,OAAM,SAAA8J,GACP0D,GAAa,GACbrN,IAAQF,MAAM,4BACdH,QAAQC,IAAI+J,MAGdzK,IAAM,CACJD,IAAK,eACLG,OAAQ,OACRK,KAAM,CAAEiW,IAAKxH,EAAQtC,SAAUmC,KAC9B1O,MAAK,SAAAC,GACN+N,GAAa,GACbrN,IAAQ8E,QAAQ,kBAChBnF,QAAQC,IAAIN,MACXO,OAAM,SAAA8J,GACP0D,GAAa,GACbrN,IAAQF,MAAM,2BACdH,QAAQC,IAAI+J,OAiBZ0E,oBAAkB,EAClBC,iBA7DmB,CACvBrD,SAAU,sBACVsD,MAAO,CACLC,MAAO,iCACPC,OAAQ,mCAEVA,OAAQ,CACNC,MAAO,+CAgDP,UASE,sBAAK7S,UAAU,+BAAf,UACE,8CAEA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,YAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,gBAJV,yBAMN,sBAAMxF,UAAU,uBAAhB,6BAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,cACL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAIE,cAAC,KAAD,CACEhJ,KAAK,QACLZ,YAAY,gBALV,2BAON,sBAAMxF,UAAU,uBAAhB,6BAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,cAAC,KAAKC,KAAN,CACEC,KAAK,eAEL+B,aAAc,EAHhB,SAKE,cAAC,KAAMqP,MAAP,CAAaze,MAAO,CAAE+E,MAAO,QAAU2Z,QAAS,CAC9C,CAAEjS,MAAO,2BAA4BjH,MAAO,GAC5C,CAAEiH,MAAO,2BAA4BjH,MAAO,IAE5CmZ,WAAW,YAPT,wBAcZ,qBAAK5e,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,aAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJV,8BAMN,sBAAMxF,UAAU,uBAAhB,mCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,eAHP,SAIE,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,sBAJV,gCAMN,sBAAMxF,UAAU,uBAAhB,mCAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,eAHP,SAIE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,sBAJV,2CAMN,sBAAMxF,UAAU,uBAAhB,uCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACE8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,iBAHP,SAIE,cAAC,KAAD,CACElH,KAAK,QACLZ,YAAY,sBAJV,+CAMN,sBAAMxF,UAAU,uBAAhB,4CAMR,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,aAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CAAOhJ,KAAK,QAAQZ,YAAY,6BAH5B,cAKN,sBAAMxF,UAAU,uBAAhB,0CAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,aAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CAAOhJ,KAAK,QAAQZ,YAAY,oBAH5B,cAKN,sBAAMxF,UAAU,uBAAhB,iCAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,cAAC,KAAKC,KAAN,CACEC,KAAK,cAEL+B,aAAc,EAHhB,SAKE,cAAC,KAAMqP,MAAP,CAAaze,MAAO,CAAE+E,MAAO,QAAU2Z,QAAS,CAC9C,CAAEjS,MAAO,UAAWjH,MAAO,GAC3B,CAAEiH,MAAO,gBAAiBjH,MAAO,IAEjCmZ,WAAW,YAPT,iBAYR,cAAC,IAAD,CAAKxR,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,eAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CAAOhJ,KAAK,QAAQZ,YAAY,2BAH5B,gBAKN,sBAAMxF,UAAU,uBAAhB,wCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,eAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CAAOhJ,KAAK,QAAQZ,YAAY,kBAH5B,oBAKN,sBAAMxF,UAAU,uBAAhB,+BAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,YAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHtB,SAKE,cAAC,IAAD,CAAOhJ,KAAK,QAAQZ,YAAY,mBAH5B,aAKN,sBAAMxF,UAAU,uBAAhB,qCAMR,qBAAKA,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CAAYJ,KAAMA,EAAMyB,QAAQ,UAGlC,cAAC,IAAD,CAAKrB,GAAI,GAAT,SACE,cAAC,GAAD,CAAWJ,KAAMA,EAAMyB,QAAQ,eAKrC,qBAAKzO,UAAU,+BAAf,SAEE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,cAAC,GAAD,CACEJ,KAAMA,EACNF,MAAM,cACNF,KAAK,aACLG,UAAU,gBACVF,SAAS,qBAGb,cAAC,IAAD,CAAKO,GAAI,GAAT,SACE,cAAC,GAAD,CACEJ,KAAMA,EACNF,MAAM,eACNF,KAAK,cACLG,UAAU,kBACVF,SAAS,4BAKjB,qBAAK7M,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,iBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,kBAIN,sBAAMpG,UAAU,uBAAhB,kCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,mBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,oBAIN,sBAAMpG,UAAU,uBAAhB,mCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,sBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,uBAIN,sBAAMpG,UAAU,uBAAhB,qCAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,yBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,0BAIN,sBAAMpG,UAAU,uBAAhB,6CAMR,qBAAKA,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UAEE,cAAC,IAAD,CAAKC,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,WADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,YAIN,sBAAMpG,UAAU,uBAAhB,4BAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,WADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,YAIN,sBAAMpG,UAAU,uBAAhB,8BAGJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,iBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,kBAIN,sBAAMpG,UAAU,uBAAhB,6CAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,iBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,kBAIN,sBAAMpG,UAAU,uBAAhB,8CAKJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CAEEC,KAAK,eAFP,SAGE,cAAC,IAAD,CACElH,KAAK,QACLZ,YAAY,qFAJV,kBAMN,sBAAMxF,UAAU,uBAAhB,kGAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,mBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,oBAIN,sBAAMpG,UAAU,uBAAhB,iCAIJ,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACE,eAAC,KAAKC,KAAN,WACE,cAAC,KAAKA,KAAN,CACEC,KAAK,yBADP,SAIE,cAAC,IAAD,CAAOlH,KAAK,WAFR,0BAIN,sBAAMpG,UAAU,uBAAhB,iDAOR,sBAAKA,UAAS,uCAAkCgS,EAAW,iBAAmB,MAA9E,UACA,sBAAK/R,MAAO,CAAC6F,aAAc,GAAIC,QAAS,OAAQ+B,eAAe,iBAA/D,UACE,sBAAK7H,MAAO,CAAC8F,QAAS,QAAtB,UACI,cAAC,KAAD,CACEgN,QAAS,CACPC,cAAe,UAAY5E,GAE7B6E,UAAU,EACVC,OAAO,2DACPC,OAAO,cACPzN,SAxhBW,SAACD,GAGxB,GAFA3B,QAAQC,IAAI,YAEU,QAAnB0B,EAAM2N,KAAKC,OAAe,CAAC,IAEpBC,EAAa7N,EAAM2N,KAAnBE,SAERA,EAASC,MAAM5O,SAAQ,SAACC,EAASC,GAC/BD,EAAQ,GAAGa,MAAQZ,EAAQ,EAC3BD,EAAQ,GAAG4K,UAAW,EACtB5K,EAAQ,GAAG6K,WAAa9D,GACxB/G,EAAQ,GAAG6K,WAAalD,MAG1BuF,EAAQ,CAACI,EAAK,IAAP,mBAAcoB,EAASC,SAC9BzP,QAAQC,IAAIuP,KAkgBJ,SASI,cAAC,IAAD,CAAQrT,MAAO,CAACkI,YAAa,IAA7B,gCAGJ,mBAAGvC,OAAO,SAAS4N,KAAK,+CAA+CC,UAAQ,EAA/E,SACE,cAAC,IAAD,mCAKJ,cAAC,IAAD,CACEzN,KAAK,UACLE,KAAM8L,EAAW,cAAC9H,EAAA,EAAD,IAA6B,cAACC,EAAA,EAAD,IAC9ClE,QAAS,kBAAIgM,GAAgBD,IAH/B,SAIMA,EAAW,gBAAkB,oBAIzC,qBAAK/R,MAAO,CAACyT,UAAW,QAAxB,SACE,qBAAKzT,MAAO,CAAC+E,MAAO,QAApB,SACE,cAAC,IAAD,CACEpB,KAAOsO,EACPyB,cArhBY,SAAAC,GAAI,OAAIA,EAAKnO,OAshBzBoO,cA9eY,SAAClO,EAAGiO,EAAME,EAAGC,GAAb,OACpBH,EAAKpE,SAAW7J,EAAEqO,iBAAmB,MA8e7BC,eAthBa,SAAAC,GACrBA,EAAQvP,SAAQ,WAA4BE,GAAU,EAAnC+O,KAAoC,IAAD,IAA7BO,EAA6B,EAA7BA,IAAKC,EAAwB,EAAxBA,IAAK3O,EAAmB,EAAnBA,MAE/ByM,EAAKiC,GAAKC,GAAV,2BAAsBlC,EAAKiC,GAAKC,IAAhC,IAAsC3O,UAItC,IAAIyR,EAAc/G,WAAU,UAAC+B,EAAKiC,GAAK,GAAG1O,aAAd,QAAqB,GAAK0K,WAAU,UAAC+B,EAAKiC,GAAK,GAAG1O,aAAd,QAAqB,GAErFyM,EAAKiC,GAAK,GAAV,2BAAmBjC,EAAKiC,GAAK,IAA7B,IAAiC1O,MAAK,OAAEyR,QAAF,IAAEA,IAAe,OAK1DpF,EAAQ,YAAII,WA4gBX,cAAC,IAAD,CACE9L,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAI9B,YAAa,EAAGnD,MAAO,KAC9CgB,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,iBAChBD,QAhhBe,WAEnB,IAAMoO,EAAY,CAChB,CAAE7E,UAAU,EAAM/J,MAAUyM,EAAK3J,QACjC,CAAE9C,MAAO,IACT,CAAEA,MAAO,GAAIgK,WAAalD,IAC1B,CAAE9G,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,GAAI+J,UAAU,GACvB,CAAE/J,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,IACT,CAAEA,MAAO,KAGP6O,EAAO,sBAAOpC,GAAP,CAAamC,IAEvBvC,EAAQwC,IAsfP,sBASA,cAAC,IAAD,CACElO,KAAK,QACLnG,MAAO,CAACgK,UAAW,GAAIjF,MAAO,KAC9BuP,QAAM,EACNvO,KAAK,UACLE,KAAM,cAAC,IAAD,CACJjG,MAAO,CAACkI,YAAa,GACrBjC,KAAM,CAAC,MAAO,eAChBD,QAAU,WAljBQ,IAACuO,EAkjBAtC,EAAK3J,OAAO,IAljBZiM,EAkjBgCtC,EAAK3J,OAAO,EAhjBnE2J,EAAKuC,OAAOD,EAAO,GACnB1C,EAAQ,YAAII,MAuiBV,yCAWE,qBAAKlS,UAAU,+BAAf,SACE,eAAC,IAAD,CAAKmN,QAAQ,eAAb,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEzM,QAAS6Q,EACTmD,SAAO,EACPC,SAAS,SACT3U,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BAN/C,mFAUF,cAAC,IAAD,UACE,cAAC,IAAD,CACEA,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,YAAYlG,UAAU,6BAHpD,0DAOF,cAAC,IAAD,UACE,cAAC,IAAD,CACEkG,KAAM,cAAC,IAAD,CAAiBA,KAAK,MAAMlG,UAAU,6BAC5CuU,QAAM,EACNvU,UAAU,qBACVoG,KAAK,QAJP,0FCvqBR/F,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,GAARE,EArBC,SAAC,GAAqB,IAAnBK,EAAkB,EAAlBA,MAAOoN,EAAW,EAAXA,KAEfuQ,EAAS3d,EAAMuQ,OAAfoN,MAGP,OACI,qBAAKte,MAAO,CAACuX,OAAQ,GAAInS,QAAS,IAAlC,SACI,uBACAL,MAAM,OACNyS,OAAO,QACPC,IAAG,UAAKL,GAAL,gCAAqCkH,EAArC,YAA8CvQ,EAAK2J,SAAnD,YAA+D3J,EAAKU,KACvE1I,KAAK,yBCAF6Y,GAXQ,SAAC,GAAe,IAAbje,EAAY,EAAZA,MACtB,OACI,gCACI,cAAC,IAAD,CAAOiX,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ7C,OAAQ,kBAAI,cAAC,EAAD,CAAU4D,IAAI,WAC9D,cAAC,IAAD,CAAO+M,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,WAA0B+N,UAAYgH,KACvD,cAAC,IAAD,CAAOjH,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAYgH,KAC5D,cAAC,IAAD,CAAOjH,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAYiH,S,mBC4CzDC,GAjDO,WAAO,IAAD,EAEAhd,mBAAS,IAFT,mBAEjB4B,EAFiB,KAEX4U,EAFW,OAGMxW,oBAAS,GAHf,mBAGjBtB,EAHiB,KAGRue,EAHQ,KAqBxB,OAfA9b,qBAAU,WACN8b,GAAW,GACX5b,IAAM,CACFD,IAAK,uBACLG,OAAQ,QACTC,MAAK,SAAAC,GACJ+U,EAAQ/U,EAAIG,MACZqb,GAAW,MACZjb,OAAM,SAAAkb,GACLpb,QAAQC,IAAImb,GACZD,GAAW,QAGhB,IAGC,sBAAKjf,UAAU,+BAA+BC,MAAO,CAAEuX,OAAQ,IAA/D,UACI,+CACA,cAAC,KAAD,CACI9W,QAASA,EACT6J,WAAY3G,EACZlB,YAAU,EACVyc,WAAY,SAAC/E,GAAD,OACR,cAAC,KAAK/M,KAAN,UACI,sBAAKpN,MAAO,CAAE6F,aAAc,IAA5B,UACI,6BAAKsU,EAAEC,WACP,gCACI,cAAC,KAAD,CACIpa,MAAO,CAAEkI,YAAa,IACtB5B,MAAO+Q,GAAW8C,EAAEE,YAAY/T,MAFpC,SAGK+Q,GAAW8C,EAAEE,YAAYxa,OAE7BuI,IAAO+R,EAAExI,YAAYtJ,OAAO,4BAEjC,8BAAM8R,EAAEG,sBCkF9Bla,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,IARI,SAAAG,GAAQ,MAAG,CAClC4e,YAAa,SAACpR,GAAD,OAAQxN,EflHF,SAAAwN,GAAI,MAAG,CAC1BhI,KAAMiS,GAAaG,cACnBxW,QAASoM,GegHqBqR,CAAQrR,QAO3BzN,EA3HK,SAAC,GAAyB,IAAxByN,EAAuB,EAAvBA,KAAMoR,EAAiB,EAAjBA,YAAiB,EAE1BpO,KAAKC,UAAbjE,EAFkC,sBAGXhL,oBAAS,GAHE,mBAGlCtB,EAHkC,KAGzBue,EAHyB,KA6DzC,OAEQ,cAAC,KAAD,CACI9M,cAAenE,EACfoE,SA5DG,SAACC,GACZvO,QAAQC,IAAIsO,GACZ4M,GAAW,GACX5b,IAAM,CACFE,OAAQ,QACRK,KAAMyO,EACNjP,IAAI,oBAAD,OAAsB4K,EAAKpF,MAC/BpF,MAAK,SAAAC,GACJwb,GAAW,GACXG,EAAY3b,EAAIG,MAChBO,IAAQ8E,QAAQ,2BACjBjF,OAAM,SAAA8J,GACLmR,GAAW,GACXnb,QAAQC,IAAI+J,OAgDRd,KAAMA,EAHV,SAKI,eAAC,IAAD,CAAKG,QAAQ,gBAAb,UACI,cAAC,IAAD,CAAKC,GAAI,GAAT,SACI,eAAC,KAAKC,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAK,MAFT,SAII,cAAC,IAAD,CACI6B,MAAO,CAAC,CAAEC,UAAU,IACpBhJ,KAAK,QACLkJ,UAAQ,KAPhB,iCAUA,sBAAMtP,UAAU,uBAAhB,uBA3DT,CACX,CACIsN,KAAM,OACNZ,MAAO,QAEX,CACIY,KAAM,UACNZ,MAAO,UAEX,CACIY,KAAM,OACNZ,MAAO,QAEX,CACIY,KAAM,eACNZ,MAAO,YAEX,CACIY,KAAM,aACNZ,MAAO,YAEX,CACIY,KAAM,QACNZ,MAAO,aAEX,CACIY,KAAM,UACNZ,MAAO,eAEX,CACIY,KAAM,MACNZ,MAAO,OAEX,CACIY,KAAM,UACNZ,MAAO,sCA4BYhF,KAAI,SAAAO,GAAK,OAAI,cAAC,IAAD,CAAKmF,GAAI,GAAT,SAChB,eAAC,KAAKC,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAMrF,EAAMqF,KAFhB,SAII,cAAC,IAAD,CACI6B,MAAO,CAAC,CAAEC,UAAU,IACpBhJ,KAAK,WANb,oCACsC6B,EAAMqF,OAQ5C,sBAAMtN,UAAU,uBAAhB,SAAwCiI,EAAMyE,gBAI3D,cAAC,IAAD,CAAKU,GAAI,GAAT,SACK,cAAC,IAAD,CACIuH,SAAS,SACTjU,QAASA,EACTV,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BALjD,+BCjGTsf,GAXM,WACjB,OACI,8BACI,cAAC,EAAD,CACAvU,UAAQ,EACRD,IAAI,qBCuDDyU,GA3DQ,WAAO,IAAD,EAEKvd,oBAAS,GAFd,mBAElBtB,EAFkB,UASzB,OACI,8BACI,cAAC,KAAD,CACI0R,SARS,SAAAC,GACjBvO,QAAQC,IAAIsO,IAMR,SAGI,eAAC,IAAD,CAAKlF,QAAQ,gBAAb,UACI,cAAC,IAAD,CAAKC,GAAI,GAAT,SACI,eAAC,KAAKC,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAK,WAFT,SAII,cAAC,IAAMkS,SAAP,CACIrQ,MAAO,CAAC,CAAEC,UAAU,IACpBhJ,KAAK,WANb,iCASA,sBAAMpG,UAAU,uBAAhB,8BAGR,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACI,eAAC,KAAKC,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAK,mBAFT,SAII,cAAC,IAAMkS,SAAP,CACIrQ,MAAO,CAAC,CAAEC,UAAU,IACpBhJ,KAAK,WANb,iCASA,sBAAMpG,UAAU,uBAAhB,oCAGR,cAAC,IAAD,CAAKoN,GAAI,GAAT,SACI,cAAC,IAAD,CACIuH,SAAS,SACTjU,QAASA,EACTV,UAAU,8BACVoG,KAAK,QACLF,KAAM,cAAC,IAAD,CAAiBA,KAAK,OAAOlG,UAAU,6BALjD,+BC1ChB6K,GAAYD,IAAZC,QAuBO4U,GArBU,WAMrB,OAAO,qBAAKzf,UAAU,+BAA+BC,MAAO,CAAEuX,OAAQ,IAA/D,SACH,eAAC,IAAD,CAAM9R,SALW,SAAA0Q,GACjBtS,QAAQC,IAAIqS,IAIkBpQ,KAAK,OAAnC,UACI,cAAC,GAAD,CAAS0Z,IAAI,yBAAb,SACI,cAAC,GAAD,KADsC,KAG1C,cAAC,GAAD,CAASA,IAAI,qBAAb,SACI,cAAC,GAAD,KADkC,KAGtC,cAAC,GAAD,CAASA,IAAI,gBAAb,SACI,cAAC,GAAD,KAD6B,WCqB9Bjf,gBA7BM,SAAC,GAAe,IAAbG,EAAY,EAAZA,MACpB,OACI,8BACI,eAAC,IAAD,CAAKuM,QAAQ,eAAb,UACG,cAAC,IAAD,CAAKC,GAAI,EAAGuS,GAAI,EAAhB,SACK,cAAC,GAAD,MAEL,eAAC,IAAD,CAAKvS,GAAI,GAAIuS,GAAI,GAAjB,UACK,cAAC,IAAD,CAAO9H,OAAK,EAAC9N,KAAMnJ,EAAMmJ,KAAM+N,UAAY8H,KAE3C,cAAC,IAAD,CAAO7V,KAAI,UAAKnJ,EAAMmJ,KAAX,YAA2B+N,UAAYF,KAElD,cAAC,IAAD,CAAO7N,KAAI,UAAKnJ,EAAMmJ,KAAX,gBAA+B+N,UAAYmE,KAEtD,cAAC,IAAD,CAAOlS,KAAI,UAAKnJ,EAAMmJ,KAAX,QAAuB+N,UAAYqE,KAE9C,cAAC,IAAD,CAAOpS,KAAI,UAAKnJ,EAAMmJ,KAAX,aAA4B+N,UAAYsG,KAEnD,cAAC,IAAD,CAAOrU,KAAI,UAAKnJ,EAAMmJ,KAAX,QAAuB+N,UAAY+G,KAE9C,cAAC,IAAD,CAAO9U,KAAI,UAAKnJ,EAAMmJ,KAAX,kBAAiC+N,UAAYkH,KAExD,cAAC,IAAD,CAAOjV,KAAI,UAAKnJ,EAAMmJ,KAAX,YAA2B+N,UAAY2H,gB,2ECavDI,GAzCW,SAAC,GAA6B,EAA3BC,OAA2B,EAAnBC,aAChBC,eAATC,KAD6C,IAE/CC,EACF,eAAC,KAAD,WACI,eAAC,KAAK7S,KAAN,CAAWpH,QAAS,aAApB,UAII,qBAAKhG,MAAO,CAAE+E,MAAO,GAAIoD,aAAc,OAAS+X,IAAI,YAAYzI,IAAI,mBAJxE,WAMA,eAAC,KAAKrK,KAAN,CAAWpH,QAAS,aAApB,UAII,qBAAKhG,MAAO,CAAE+E,MAAO,GAAIoD,aAAc,OAAS+X,IAAI,YAAYzI,IAAI,mBAJxE,UAMA,eAAC,KAAKrK,KAAN,CAAWpH,QAAS,aAApB,UAII,qBAAKhG,MAAO,CAAE+E,MAAO,GAAIoD,aAAc,OAAS+X,IAAI,YAAYzI,IAAI,mBAJxE,aASR,OAAQ,sBAAM1X,UAAU,2BAAhB,SACJ,cAAC,KAAD,CAAUogB,QAASF,EAAnB,SACI,qBAAKjgB,MAAO,CAAE+E,MAAO,GAAIoD,aAAc,MAAOD,YAAY,IAAMgY,IAAI,YAAYzI,IAAG,wBCEhF2I,I,OA/BK,SAAC,GAAc,IAAZzH,EAAW,EAAXA,OAEnB,OACI,qBAAK5Y,UAAS,wCAAmC4Y,EAAS,WAAa,UAAvE,SACQ,sBAAK5Y,UAAU,yBAAf,UACI,8BACI,cAAC,IAAD,CAAS0I,UAAU,OAAOnC,MAAM,UAAUvF,MAAM,cAAhD,SACI,cAAC,IAAD,CAAM2H,GAAG,QAAT,SACI,cAAC,IAAD,CAAiBzC,KAAK,eAIlC,8BACI,cAAC,IAAD,CAASwC,UAAU,OAAOnC,MAAM,UAAUvF,MAAM,gBAAhD,SACI,cAAC,IAAD,CAAM2H,GAAG,yBAAT,SACI,cAAC,IAAD,CAAiBzC,KAAM,CAAC,MAAO,gBAI3C,8BACI,cAAC,IAAD,CAASlF,MAAM,UAAUuF,MAAM,UAAUmC,UAAU,OAAnD,SACI,cAAC,IAAD,CAAMC,GAAG,mBAAT,SAA4B,cAAC,IAAD,CAAiBzC,KAAK,mBAI1D,8BAAK,cAAC,IAAD,CAAMyC,GAAG,YAAT,SAAqB,cAAC,IAAD,CAAiBzC,KAAK,+BC6C9D7F,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,IARI,SAAAG,GAAQ,MAAI,CACnC+X,OAAQ,kBAAI/X,EAAS+X,UAOVhY,CAA6CE,aAlE7C,SAAC,GAA6B,IAA3BuN,EAA0B,EAA1BA,KAAMuK,EAAoB,EAApBA,OAAoB,EAAZG,SAE5B4H,OAAOC,SAAW,kBAAI1H,GAAU,IAFQ,MAGZ7W,oBAAS,GAHG,mBAGjC4W,EAHiC,KAGzBC,EAHyB,KAIxC,OAAO,gCAAK,sBAAK7Y,UAAU,uCAAf,UACJ,qBAAKC,MAAO,CAACugB,UAAW,QAASnb,QAAS,WAAY+B,gBAAiB,mBAAvE,4CACJ,qBAAKpH,UAAU,kCAAf,SACI,sBAAKA,UAAU,yBAAf,UACI,+BACI,eAAC,IAAD,CAAM2I,GAAG,IAAT,UACI,qBAAK3I,UAAU,kBAAkB0X,IAAI,oBAAoByI,IAAI,gBADjE,IACkF,uBAAMlgB,MAAO,CAACwgB,SAAU,GAAIla,MAAO,QAASma,WAAY,QAAxD,mBAAuE,sBAAMzgB,MAAO,CAAEsG,MAAO,kBAAtB,6BAG7J,sBAAKvG,UAAU,sBAAf,UAEQgO,EACI,sBAAKhO,UAAU,gBAAgBC,MAAO,CAAC8F,QAAS,OAAQ4a,WAAY,UAApE,UACI,cAAC,IAAD,CAAiB3gB,UAAU,qBAAqBkG,KAAK,WADzD,KACsE,wBAAQjG,MAAO,CAACua,WAAY,IAA5B,0BAErE,KAET,cAAC,GAAD,IAEIxM,EACA,sBAAKhO,UAAU,gBAAf,UACI,2CADJ,KAC6BgO,EAAKU,OAEhC,KAGFV,EACA,qBAAKhO,UAAU,gBAAf,SAEI,cAAC,IAAD,CAASgB,MAAM,mBAAf,SACI,qBAAKf,MAAO,CAAC2gB,OAAQ,WAAY3a,QAASsS,EAA1C,SACI,cAAC,IAAD,CAAiBrS,KAAK,cAAclG,UAAU,6BAIxD,cAAC,IAAD,CAASgB,MAAM,iBAAf,SACF,cAAC,IAAD,CAAM2H,GAAG,cAAT,SACI,cAAC,IAAD,CAAiBzC,KAAK,cAAclG,UAAU,2BAMlD,cAAC,KAAD,CAAWA,UAAU,cAAc6gB,QAASjI,EAAQkI,OAAQjI,eAMhF,cAAC,GAAD,CAAaD,OAAQA,WCrDVmI,GAXF,SAAC,GAIV,OAJgB,gBAIV,8BACF,2BCRRC,OAAOC,UAAUC,UAAY,SAASC,EAAUC,GAC5C,IAAIC,EAAOpV,KACPqV,EAAS,GACb,GAAgB,IAAZH,EAAgB,CAmBhB,IAnBgB,IAUZI,EAAU,GAQVC,GALIH,EADUF,aAAoBM,OAAS,UAAY,cACjCN,GAAU,SAASO,EAAG5N,EAAGnO,GAE/C,OADA4b,EAAQzc,KAAK,CAAEW,MAAOic,EAAG7c,MAAOiP,IAZpC,SAAkBrO,GAGd,IAFA,IAAIkc,EAAwB,KAAZlc,EAAM,GAAY,IAAM,IACpCmc,EAAQ,GACH9N,EAAI,EAAGA,EAAIrO,EAAM8C,OAAQuL,IAC9B8N,GAASD,EAEb,OAAOC,EAOAC,CAASH,MAGJ,GACP5N,EAAI,EAAGA,EAAIyN,EAAQhZ,OAAQuL,IAAK,CACrC,IAAI4N,EAAIH,EAAQzN,GACZgO,EAAqB,GAATV,EAAgBM,EAAE7c,MAAQ6c,EAAE7c,MAAQ6c,EAAEjc,MAAM8C,OAC5D,GAAIuZ,GAAaN,EAAW,CACxB,IAAI9D,EAAO2D,EAAKU,UAAUP,EAAWM,GACrCR,EAAOxc,KAAK4Y,GACZ8D,EAAYM,GAGpB,GAAIN,EAAYH,EAAK9Y,OAAQ,CACrBmV,EAAO2D,EAAKU,UAAUP,EAAWH,EAAK9Y,QAC1C+Y,EAAOxc,KAAK4Y,SAGhB4D,EAAOzjB,IAAIwjB,GAEf,OAAOC,GAGJ,IAAMU,GAAS,CAClBC,KAAiD,WAA3C3B,OAAO5H,SAASwJ,SAAStb,cAA6B,wBAA0B,wBAA0B,oBAChHub,aAAc,SAASC,EAASC,EAAUpe,GACtC,GAAKqc,OAAOgC,UAAZ,CAKA,IAAIC,EACJ,IACIA,EAAS,IAAID,UAAUrW,KAAKgW,KAC9B,MAAOtc,GACL1B,EAAM0B,GAEV4c,EAAOC,QAAU,SAAS7c,GAClB1B,GACAA,EAAM0B,IAEd4c,EAAOE,UAAY,SAASC,GACxB,IAAI9e,EAAO+e,KAAKC,MAAMF,EAAM9e,MAC5B2e,EAAOM,QACPR,EAASK,EAAO9e,IAEpB2e,EAAOO,OAAS,WACZP,EAAOQ,KAAKJ,KAAKK,UAAUZ,UApBvBne,GACAA,KAsBZgf,QAAS,SAASZ,EAAUpe,GACxB,GAAKqc,OAAOgC,UAAZ,CAKA,IAAIC,EACJ,IACIA,EAAS,IAAID,UAAUrW,KAAKgW,KAC9B,MAAOtc,GACL1B,EAAM0B,GAEV4c,EAAOC,QAAU,SAAS7c,GAClB1B,GACAA,EAAM0B,IAEd4c,EAAOE,UAAY,SAASC,GACxB,IAAI9e,EAAO+e,KAAKC,MAAMF,EAAM9e,MAC5B2e,EAAOM,QACPR,EAASK,EAAO9e,IAEpB2e,EAAOO,OAAS,WAEZP,EAAOQ,KAAKJ,KAAKK,UADT,CAAE1V,KAAM,mBApBZrJ,GACAA,KAuBZif,OAAQ,SAASb,EAAUpe,GACvB,GAAKqc,OAAOgC,UAAZ,CAKA,IAAIC,EACJ,IACIA,EAAS,IAAID,UAAUrW,KAAKgW,KAC9B,MAAOtc,GACL1B,EAAM0B,GAEV4c,EAAOC,QAAU,SAAS7c,GAClB1B,GACAA,EAAM0B,IAEd4c,EAAOE,UAAY,SAASC,GACxB,IAAI9e,EAAO+e,KAAKC,MAAMF,EAAM9e,MAC5B2e,EAAOM,QACPR,EAASK,EAAO9e,IAEpB2e,EAAOO,OAAS,WAEZP,EAAOQ,KAAKJ,KAAKK,UADT,CAAE1V,KAAM,kBApBZrJ,GACAA,KAuBZkf,OAAQ,SAASC,EAAcf,EAAUpe,GACrC,GAAKqc,OAAOgC,UAAZ,CAKA,IAAIC,EACJ,IACIA,EAAS,IAAID,UAAUrW,KAAKgW,KAC9B,MAAOtc,GACL1B,EAAM0B,GAEV4c,EAAOC,QAAU,SAAS7c,GAClB1B,GACAA,EAAM0B,IAEd4c,EAAOE,UAAY,SAASC,GACxB,IAAI9e,EAAO+e,KAAKC,MAAMF,EAAM9e,MAC5B2e,EAAOM,QACPR,EAASK,EAAO9e,IAEpB2e,EAAOO,OAAS,WACZ,IAAIO,EAAI,CAAE/V,KAAM,SAAUgW,UAAWF,GACrCb,EAAOQ,KAAKJ,KAAKK,UAAUK,UArBvBpf,GACAA,MAyBHsf,GAAc,CACvBC,SAAS,EACTC,SAAU,CACN,2BAA4B,oIAEhCC,aAAc,SAASza,EAAS0a,GAC5B3B,GAAOiB,SAAQ,SAASP,EAAO9e,GAC3B,IAAqB,IAAjBA,EAAKqF,QACL,GAAIrF,EAAKggB,OAAShgB,EAAKigB,MAAO,CAC1B,IAAIC,EAA0C,IAAvBC,SAASngB,EAAKggB,OAAeG,SAASngB,EAAKigB,OAClEN,GAAYC,QAAUM,GAAoB,IAC1C7a,EAAQrF,EAAKggB,MAAOhgB,EAAKigB,YAEzBF,EAAK,KAAM,oCAGfA,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,UAGhBse,eAAgB,SAAShb,EAAS0a,GAC9B3B,GAAOmB,OAAOI,GAAYE,UAAU,SAASf,EAAO9e,GAC5CA,EAAKqF,QACLA,IAEA0a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,UAGhBue,gBAAiB,SAASC,EAAWC,EAAWnb,EAAS0a,GACrD,IAAI3b,EAAQ,GACRqc,EAAS,GACRd,GAAYC,QAmBbD,GAAYe,eAAeH,EAAWC,EAAWpc,EAAOqc,GAAQ,SAASE,GACrEhB,GAAYiB,WAAWL,EAAWC,EAAWpc,EAAOqc,GAAQ,SAASI,GACjElB,GAAYmB,aAAaP,EAAWC,EAAWpc,EAAOqc,GAAQ,SAASM,GACnE,GAAqB,IAAjB3c,EAAMO,QAAgB8b,EAAO9b,OAAS,EACtCob,EAAKU,EAAO,GAAG1e,EAAG0e,EAAO,GAAGO,OACzB,CACH,IAAIC,EAAU,KACO,IAAjB7c,EAAMO,SACFgc,EACAM,EAAUN,EACHE,EACPI,EAAUJ,EACHE,IACPE,EAAUF,IAGlB1b,EAAQjB,EAAO6c,aAlC/BtB,GAAYuB,cAAcX,EAAWC,EAAWpc,EAAOqc,GAAQ,SAASE,GACpEhB,GAAYwB,UAAUZ,EAAWC,EAAWpc,EAAOqc,GAAQ,SAASI,GAChE,GAAqB,IAAjBzc,EAAMO,QAAgB8b,EAAO9b,OAAS,EACtCob,EAAKU,EAAO,GAAG1e,EAAG0e,EAAO,GAAGO,OACzB,CACH,IAAIC,EAAU,KACO,IAAjB7c,EAAMO,SACFgc,EACAM,EAAUN,EACHE,IACPI,EAAUJ,IAGlBxb,EAAQjB,EAAO6c,WA4BnCG,QAAS,SAASC,EAAYhc,EAAS0a,EAAMuB,GACzC,GAAID,EAAY,CACZ,IAAIE,EAAKF,EACO,YAAZE,EAAGnf,KACHgc,GAAOG,aAAa,CAAEiD,OAAQ,UAAW9X,KAAM,WAAYgW,UAAW,CAAC6B,EAAGE,KAAMF,EAAGpb,KAAMob,EAAG7X,KAAM6X,EAAGG,gBAAiB,SAAS5C,EAAO9e,GAClI,GAAIA,EAAKqF,QAAS,CACd,IAAIL,EAAKhF,EAAK2hB,MACdtc,EAAQL,QAER+a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,SAEO,QAAZwf,EAAGnf,KACVgc,GAAOG,aAAa,CAAEiD,OAAQ,MAAO9X,KAAM,WAAYgW,UAAW,CAAC6B,EAAGE,KAAMF,EAAGpb,KAAMob,EAAG7X,KAAM6X,EAAGK,SAAU,SAAS9C,EAAO9e,GACvH,GAAIA,EAAKqF,QAAS,CACd,IAAIL,EAAKhF,EAAK2hB,MACVL,EACAlD,GAAOG,aAAa,CAAE7U,KAAM,kBAAmB8X,OAAQ,MAAO9B,UAAW,CAAC1a,KAAO,SAAS8Z,EAAO9e,GACzFA,EAAKqF,QACLA,EAAQL,GAER+a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,SAGZsD,EAAQL,QAGZ+a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,SAEO,SAAZwf,EAAGnf,MACVgc,GAAOG,aAAa,CAAEiD,OAAQ,OAAQ9X,KAAM,WAAYgW,UAAW,CAAC6B,EAAGM,WAAY,SAAS/C,EAAO9e,GAC/F,GAAIA,EAAKqF,QAAS,CACd,IAAIL,EAAKhF,EAAK2hB,MACVL,EACAlD,GAAOG,aAAa,CAAEiD,OAAQ,OAAQ9X,KAAM,aAAcgW,UAAW,CAAC1a,EAAI,OAAQ,SAAS8Z,EAAO9e,GAC1FA,EAAKqF,QACLA,EAAQL,GAER+a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,SAGZsD,EAAQL,QAGZ+a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,WAKxB+f,kBAAmB,SAAST,EAAYhc,EAAS0a,GAC7C,GAAIsB,EAAY,CACZ,IAAIE,EAAKF,EACO,QAAZE,EAAGnf,KACHgc,GAAOG,aAAa,CAAEiD,OAAQ,MAAO9X,KAAM,WAAYgW,UAAW,CAAC6B,EAAGE,KAAMF,EAAGpb,KAAMob,EAAG7X,KAAM6X,EAAGK,SAAU,SAAS9C,EAAO9e,GACvH,GAAIA,EAAKqF,QAAS,CACd,IAAIL,EAAKhF,EAAK2hB,MACdvD,GAAOG,aAAa,CAAE7U,KAAM,kBAAmB8X,OAAQ,MAAO9B,UAAW,CAAC1a,KAAO,SAAS8Z,EAAO9e,GACzFA,EAAKqF,QACLA,IAEA0a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,cAGZge,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,SAEO,SAAZwf,EAAGnf,MACVgc,GAAOG,aAAa,CAAEiD,OAAQ,OAAQ9X,KAAM,WAAYgW,UAAW,CAAC6B,EAAGM,WAAY,SAAS/C,EAAO9e,GAC/F,GAAIA,EAAKqF,QAAS,CACd,IAAIL,EAAKhF,EAAK2hB,MACdvD,GAAOG,aAAa,CAAE7U,KAAM,aAAc8X,OAAQ,OAAQ9B,UAAW,CAAC1a,EAAI,OAAQ,SAAS8Z,EAAO9e,GAC1FA,EAAKqF,QACLA,IAEA0a,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,cAGZge,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,WAKxBggB,YAAa,SAAS/c,EAAIhF,EAAMgiB,EAAa3c,EAAS0a,GAClD3B,GAAOG,aAAa,CAAEiD,OAAQ,QAAS9X,KAAM,eAAgBgW,UAAW,CAACuC,KAAKjiB,GAAOgF,EAAI,QAAS,SAAS8Z,EAAO9e,GAC9G,GAAIA,EAAKqF,QAAS,CACd,IAAI6c,EAAQliB,EAAKmiB,SACjB,GAAIH,EAAa,CACb,IAAII,EAAKpiB,EAAKqiB,qBACdL,EAAYhiB,EAAKsiB,eAAe,SAASC,GACrCnE,GAAOG,aAAa,CAAEiD,OAAQ,QAAS9X,KAAM,+BAAgCgW,UAAW,CAACwC,EAAOE,EAAIG,KAAQ,SAASzD,EAAO9e,GACxH,GAAIA,EAAKqF,QAAS,CACd,IAAImd,EAAWxiB,EAAKmiB,SACpB9c,EAAQmd,QAERzC,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,WAEbge,QAEH1a,EAAQ6c,QAGZnC,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,UAGhB0gB,oBAAqB,SAASzd,EAAIhF,EAAMgiB,EAAa3c,EAAS0a,GAC1D3B,GAAOG,aAAa,CAAEiD,OAAQ,QAAS9X,KAAM,wBAAyBgW,UAAW,CAAC1f,EAAMgF,KAAO,SAAS8Z,EAAO9e,GAC3G,GAAIA,EAAKqF,QAAS,CACd,IAAI6c,EAAQliB,EAAKmiB,SACjB,GAAIH,EAAa,CACb,IAAII,EAAKpiB,EAAKqiB,qBACdL,EAAYhiB,EAAKsiB,eAAe,SAASC,GACrCnE,GAAOG,aAAa,CAAEiD,OAAQ,QAAS9X,KAAM,+BAAgCgW,UAAW,CAACwC,EAAOE,EAAIG,KAAQ,SAASzD,EAAO9e,GACxH,GAAIA,EAAKqF,QAAS,CACd,IAAImd,EAAWxiB,EAAKmiB,SACpB9c,EAAQmd,QAERzC,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,WAEbge,QAEH1a,EAAQ6c,QAGZnC,EAAK,KAAM/f,EAAKogB,WAErB,SAASre,GACRge,EAAKhe,EAAG,UAGhB2gB,YAAa,SAASC,EAAGC,GACrB,IAAI/iB,EAAM8iB,EAAErF,UAAU,aAAa,GACnC,IAAK,IAAIpN,KAAKrQ,EAAK,CACf,IAAI2W,EAAI3W,EAAIqQ,GAAG2S,QAAQ3S,EAAI,EAAI,IAAM,IAAM0S,EAAI,KAC/C,IAAW,IAAPpM,EACA,OAAO3W,EAAIqQ,GAAG4S,MAAMtM,EAAIoM,EAAEje,OAAS,GAAKuL,EAAI,EAAI,EAAI,IAG5D,MAAO,IAEX6S,yBAA0B,SAASxC,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAUC,EAAW1V,EAAQkR,GAC7F0B,SAAS8C,GAAa,EAAID,EAASre,OACnC8Z,EAASlR,GAGb6Q,GAAOG,aAAa,CAAEiD,OAAQ,UAAW9X,KAAM,oBAAqBgW,UAAW,CAACsD,EAASC,MAAe,SAASnE,EAAO9e,GACpH,GAAIA,EAAKqF,QACL,IAAK,IAAI6d,KAAOljB,EAAKmjB,aAAc,CAC/B,IAAIC,EAAKpjB,EAAKmjB,aAAaD,GACvB3B,EAAK,CACLE,KAAM2B,EAAG3B,KACTtb,KAAMid,EAAGjd,KACTuD,KAAM0Z,EAAG1Z,KACTgY,aAAc0B,EAAG1B,aACjB2B,YAAaD,EAAGC,YAChBC,UAAW,IAAIC,KAAKH,EAAGE,WACvBE,QAAS,IAAID,KAAKH,EAAGI,SACrBC,WAAYL,EAAGK,WACfC,iBAAkBN,EAAGM,iBACrBC,GAAIhE,GAAY+C,YAAYU,EAAGC,YAAa,MAC5CO,IAAKjE,GAAY+C,YAAYU,EAAGC,YAAa,YAC7CQ,EAAGlE,GAAY+C,YAAYU,EAAGC,YAAa,KAC3CS,EAAGnE,GAAY+C,YAAYU,EAAGC,YAAa,KAC3CjhB,KAAM,WAEV,GAAKmf,EAAGqC,IAAR,CAEA,IAAIG,EAASxD,EAAUgB,EAAI2B,GACL,IAAlB3V,EAAO5I,QACP4I,EAAOrM,KAAK6iB,GAEhB,IAAIC,EAAMxD,EAAUuD,EAAQxC,GAC5Bnd,EAAMlD,KAAK8iB,SAGfvD,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,SAE1BT,GAAYoD,yBAAyBxC,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU7C,SAAS8C,GAAa,EAAG1V,EAAQkR,MACtH,SAAS1c,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB4d,GAAYoD,yBAAyBxC,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU7C,SAAS8C,GAAa,EAAG1V,EAAQkR,OAG7HyC,cAAe,SAASX,EAAWC,EAAWpc,EAAOqc,EAAQhC,GACzD,IAAIuE,EAAW,GACf5E,GAAOG,aAAa,CAAEiD,OAAQ,UAAW9X,KAAM,eAAgB,SAASoV,EAAO9e,GAC3E,GAAIA,EAAKqF,SACL,IAAK,IAAI6d,KAAOljB,EAAKikB,MAEjB,GADAjB,EAAS9hB,KAAKlB,EAAKikB,MAAMf,IACrB/C,SAAS+C,GAAO,GAAKljB,EAAKikB,MAAMtf,OAAQ,CAExCgb,GAAYoD,yBAAyBxC,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU,EADvE,IACkF,SAASzV,GACpGkR,EAASlR,EAAO,aAK5BkT,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,YAE3B,SAASre,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB0c,QAGRyF,qBAAsB,SAAS3D,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAUC,EAAW1V,EAAQkR,GACzF0B,SAAS8C,GAAa,EAAID,EAASre,OACnC8Z,EAASlR,GAGb6Q,GAAOG,aAAa,CAAEiD,OAAQ,MAAO9X,KAAM,oBAAqBgW,UAAW,CAACsD,EAASC,MAAe,SAASnE,EAAO9e,GAChH,GAAIA,EAAKqF,QACL,IAAK,IAAI6d,KAAOljB,EAAKmjB,aAAc,CAC/B,IAAIC,EAAKpjB,EAAKmjB,aAAaD,GACvBiB,EAAcf,EAAGxB,MAAMwC,cAE3BD,GADAA,EAAcA,EAAYzkB,QAAQ,oBAAqB,SAC7BA,QAAQ,oBAAqB,UACvD,IAAI6hB,EAAK,CACLE,KAAM2B,EAAG3B,KACTtb,KAAMid,EAAGjd,KACTuD,KAAM0Z,EAAG1Z,KACTkY,MAAOwB,EAAGxB,MACVF,aAAc/B,GAAY+C,YAAYyB,EAAa,gBACnDb,UAAW,IAAIC,KAAK5D,GAAY+C,YAAYyB,EAAa,aAAazkB,QAAQ,MAAO,KAAKA,QAAQ,IAAK,MACvG8jB,QAAS,IAAID,KAAK5D,GAAY+C,YAAYyB,EAAa,WAAWzkB,QAAQ,MAAO,KAAKA,QAAQ,IAAK,MACnGikB,GAAIhE,GAAY+C,YAAYyB,EAAa,MACzCP,IAAMjE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OACvIE,IAAK1E,GAAY+C,YAAYyB,EAAa,OAC1CN,EAAGlE,GAAY+C,YAAYyB,EAAa,KACxCL,EAAGnE,GAAY+C,YAAYyB,EAAa,KACxC/hB,KAAM,OAEV,GAAKmf,EAAGqC,IAAR,CAEA,IAAIG,EAASxD,EAAUgB,EAAI2B,GACL,IAAlB3V,EAAO5I,QACP4I,EAAOrM,KAAK6iB,GAEhB,IAAIC,EAAMxD,EAAUuD,EAAQxC,GAC5Bnd,EAAMlD,KAAK8iB,SAGfvD,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,SAE1BT,GAAYuE,qBAAqB3D,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU7C,SAAS8C,GAAa,EAAG1V,EAAQkR,MAClH,SAAS1c,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB4d,GAAYuE,qBAAqB3D,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU7C,SAAS8C,GAAa,EAAG1V,EAAQkR,OAGzH0C,UAAW,SAASZ,EAAWC,EAAWpc,EAAOqc,EAAQhC,GACrD,IAAIuE,EAAW,GACf5E,GAAOG,aAAa,CAAEiD,OAAQ,MAAO9X,KAAM,eAAgB,SAASoV,EAAO9e,GACvE,GAAIA,EAAKqF,QAAS,CACd,IAAI4e,EAAQjkB,EAAKikB,MACjB,IAAK,IAAIf,KAAOe,EAEZ,GADAjB,EAAS9hB,KAAKlB,EAAKikB,MAAMf,IACrB/C,SAAS+C,GAAO,GAAKljB,EAAKikB,MAAMtf,OAAQ,CAExCgb,GAAYuE,qBAAqB3D,EAAWC,EAAWpc,EAAOqc,EAAQuC,EAAU,EADnE,IAC8E,SAASzV,GAChGkR,EAASlR,EAAO,aAK5BkT,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,YAE3B,SAASre,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB0c,QAGRiC,eAAgB,SAASH,EAAWC,EAAWpc,EAAOqc,EAAQhC,GAC1D,IAAI6F,EACJlG,GAAOG,aAAa,CAAEiD,OAAQ,UAAW9X,KAAM,0BAA2B,SAASoV,EAAO9e,GACtF,GAAIA,EAAKqF,QACL,IAAK,IAAI6d,KAAOljB,EAAKmjB,aAAc,CAC/B,IAAIC,EAAKpjB,EAAKmjB,aAAaD,GACvB3B,EAAK,CACLE,KAAM2B,EAAG3B,KACTtb,KAAMid,EAAGjd,KACTuD,KAAM0Z,EAAG1Z,KACTgY,aAAc0B,EAAG1B,aACjB2B,YAAaD,EAAGC,YAChBC,UAAW,IAAIC,KAAKH,EAAGE,WACvBE,QAAS,IAAID,KAAKH,EAAGI,SACrBC,WAAYL,EAAGK,WACfC,iBAAkBN,EAAGM,iBACrBC,GAAIhE,GAAY+C,YAAYU,EAAGC,YAAa,MAC5CO,IAAKjE,GAAY+C,YAAYU,EAAGC,YAAa,YAC7CQ,EAAGlE,GAAY+C,YAAYU,EAAGC,YAAa,KAC3CS,EAAGnE,GAAY+C,YAAYU,EAAGC,YAAa,KAC3CjhB,KAAM,WAEV,GAAKmf,EAAGqC,IAAR,CAEA,IAAIG,EAASxD,EAAUgB,EAAI2B,GACtBoB,IACDA,EAAUP,GAEd,IAAIC,EAAMxD,EAAUuD,EAAQxC,GAC5Bnd,EAAMlD,KAAK8iB,SAGfvD,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,SAE1B3B,EAAS6F,MACV,SAASviB,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB0c,EAAS6F,OAGjB1D,WAAY,SAASL,EAAWC,EAAWpc,EAAOqc,EAAQhC,GACtD,IAAI6F,EACJlG,GAAOG,aAAa,CAAEiD,OAAQ,MAAO9X,KAAM,0BAA2B,SAASoV,EAAO9e,GAClF,GAAIA,EAAKqF,QACL,IAAK,IAAI6d,KAAOljB,EAAKmjB,aAAc,CAC/B,IAAIC,EAAKpjB,EAAKmjB,aAAaD,GACvBiB,EAAcf,EAAGxB,MAAMwC,cAE3BD,GADAA,EAAcA,EAAYzkB,QAAQ,oBAAqB,SAC7BA,QAAQ,oBAAqB,UACvD,IAAI6hB,EAAK,CACLE,KAAM2B,EAAG3B,KACTtb,KAAMid,EAAGjd,KACTuD,KAAM0Z,EAAG1Z,KACTkY,MAAOwB,EAAGxB,MACVF,aAAc/B,GAAY+C,YAAYyB,EAAa,gBACnDb,UAAW,IAAIC,KAAK5D,GAAY+C,YAAYyB,EAAa,aAAazkB,QAAQ,MAAO,KAAKA,QAAQ,IAAK,MACvG8jB,QAAS,IAAID,KAAK5D,GAAY+C,YAAYyB,EAAa,WAAWzkB,QAAQ,MAAO,KAAKA,QAAQ,IAAK,MACnGikB,GAAIhE,GAAY+C,YAAYyB,EAAa,MACzCP,IAAMjE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OACvIE,IAAK1E,GAAY+C,YAAYyB,EAAa,OAC1CN,EAAGlE,GAAY+C,YAAYyB,EAAa,KACxCL,EAAGnE,GAAY+C,YAAYyB,EAAa,KACxC/hB,KAAM,OAEV,GAAKmf,EAAGqC,IAAR,CAEA,IAAIG,EAASxD,EAAUgB,EAAI2B,GACtBoB,IACDA,EAAUP,GAEd,IAAIC,EAAMxD,EAAUuD,EAAQxC,GAC5Bnd,EAAMlD,KAAK8iB,SAGfvD,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,SAE1B3B,EAAS6F,MACV,SAASviB,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB0c,EAAS6F,OAGjBxD,aAAc,SAASP,EAAWC,EAAWpc,EAAOqc,EAAQhC,GACxD,IAAI6F,EACJlG,GAAOG,aAAa,CAAEiD,OAAQ,OAAQ9X,KAAM,gBAAiBgW,UAAW,CAAC,MAAO,SAASZ,EAAO9e,GAC5F,GAAIA,EAAKqF,QACL,IAAK,IAAI6d,KAAOljB,EAAKukB,OAAQ,CACzB,IAAInB,EAAKpjB,EAAKukB,OAAOrB,GACjBiB,EAAcf,EAAGoB,KAAKJ,cAE1BD,GADAA,EAAcA,EAAYzkB,QAAQ,oBAAqB,SAC7BA,QAAQ,oBAAqB,UACvD,IAAI6hB,EAAK,CACLM,QAASuB,EAAGvB,QACZ4C,WAAYrB,EAAGqB,WACfC,UAAWtB,EAAGsB,UACdF,KAAMpB,EAAGoB,KACT9C,aAAc/B,GAAY+C,YAAYyB,EAAa,gBACnDb,UAAW,IAAIC,KAAK5D,GAAY+C,YAAYyB,EAAa,cACzDX,QAAS,IAAID,KAAK5D,GAAY+C,YAAYyB,EAAa,YACvDR,GAAIhE,GAAY+C,YAAYyB,EAAa,MACzCP,IAAMjE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OAASxE,GAAY+C,YAAYyB,EAAa,OACvIE,IAAK1E,GAAY+C,YAAYyB,EAAa,OAC1CN,EAAGlE,GAAY+C,YAAYyB,EAAa,KACxCL,EAAGnE,GAAY+C,YAAYyB,EAAa,KACxC/hB,KAAM,QAEV,GAAKmf,EAAGqC,IAAR,CAEA,IAAIG,EAASxD,EAAUgB,EAAI2B,GACtBoB,IACDA,EAAUP,GAEd,IAAIC,EAAMxD,EAAUuD,EAAQxC,GAC5Bnd,EAAMlD,KAAK8iB,SAGfvD,EAAOvf,KAAK,CAAE8f,EAAGhhB,EAAKogB,SAE1B3B,EAAS6F,MACV,SAASviB,GACR0e,EAAOvf,KAAK,CAAEa,EAAGA,IACjB0c,EAAS6F,QClaN3nB,I,OA7NIsU,KAAXD,OA6NOrU,YAAQ,MALI,SAAAC,GAAQ,MAAK,CACpC+nB,eAAgB,SAAC3kB,GAAD,OAAUpD,EzBlOH,SAAAoD,GAAI,MAAK,CAChCoC,KAAMiS,GAAaC,cACnBtW,QAASgC,GyBgO0B4kB,CAAY5kB,KAC/C6kB,aAAc,SAAA7kB,GAAI,OAAEpD,EzBhNQ,SAAAoD,GAAI,MAAG,CACnCoC,KAAMiS,GAAaK,mBACnB1W,QAASgC,GyB8MoB8kB,CAAiB9kB,QAGnCrD,CAAkCE,aA3NnC,SAAC,GAA+C,IAA7C8nB,EAA4C,EAA5CA,eAAgBI,EAA4B,EAA5BA,QAASF,EAAmB,EAAnBA,aAAmB,EAE/BzmB,mBAAS,IAFsB,mBAElD4mB,EAFkD,KAE3CC,EAF2C,OAIvB7mB,mBAAS,GAJc,mBAIlDqJ,EAJkD,KAIvCC,EAJuC,KAMzDnI,qBAAU,WACNogB,GAAYW,iBAAgB,SAAUb,EAAGvP,GAGrC,MADa,OAASuP,EAAEiC,aAAe,IAAMxR,KAE9C,SAAUgV,EAAQC,GACjBH,EAAM9jB,KAAK,CAAEW,MAAOqjB,EAAQhpB,KAAMipB,IAClCF,EAAS,YAAID,IACb9kB,QAAQC,IAAIglB,GACZjlB,QAAQC,IAAI6kB,MAEb,SAAU5gB,EAAO6c,GAChB/gB,QAAQC,IAAIiE,EAAO6c,MAIpB,SAAUlf,EAAGif,GACZ9gB,QAAQC,IAAQ6gB,GAChBzgB,IAAQF,MAAM,kFAEnB,IA1BsD,MA6BvBjC,oBAAS,GA7Bc,mBA6BlDuP,EA7BkD,KA6BvC+J,EA7BuC,OA8BjBtZ,oBAAS,GA9BQ,mBA8BlDgnB,EA9BkD,KAgCnDvW,GAhCmD,KAgChC,CACrBrD,SAAU,wBAsEd,OACI,qBAAKpP,UAAU,uBAAf,SACI,cAAC,IAAD,CAAKmN,QAAQ,eAAb,SACI,cAAC,IAAD,CAAKC,GAAI,GAAT,SAEsB,IAAd/B,EACI,sBAAKrL,UAAU,wBAAf,UACI,eAAC,KAAD,CACIsN,KAAK,QACL8E,SA9CR,SAAA3M,GAEpB3B,QAAQC,IAAI0B,GAEZ8d,GAAYyB,QACRvf,EAAMV,IAAIjF,MACV,SAAA8I,GACI9E,QAAQC,IAAI6E,GACZ2a,GAAYoC,YAAY/c,EAAI,kBACxB,SAAAqgB,GACInlB,QAAQC,IAAIklB,MAEhB,SAACtjB,EAAGif,GACA9gB,QAAQC,IAAI,KAAM4B,GAClB7B,QAAQC,IAAI,KAAM6gB,SAG9B,SAAUjf,EAAGif,GACT9gB,QAAQC,IAAI,cAAe4B,GAC3B7B,QAAQC,IAAI,cAAe6gB,MAGnCrB,GAAYoC,YACRlgB,EAAMV,IACN,0BACA,MACA,SAAAkkB,GACInlB,QAAQC,IAAIklB,MAEhB,SAACtjB,EAAGif,GACA9gB,QAAQC,IAAI4B,GACZ7B,QAAQC,IAAI6gB,OAgBQpS,oBAAkB,EAClBC,iBAAkBA,EAJtB,UAMI,qBAAKxS,MAAO,CACRipB,UAAW,IACXC,UAAW,OACXC,OAAQ,iBACRhhB,aAAc,GACdtC,aAAc,GACdT,QAAS,IANb,SAQA,cAAC,KAAKgI,KAAN,CACIC,KAAK,MADT,SAEI,cAAC,KAAMoR,MAAP,CACItY,KAAK,QADT,SAGQwiB,EAAMlhB,KAAI,SAAA9D,GAAI,OAAI,cAAC,KAAD,CAAwB6B,MAAO7B,EAA/B,SACd,sBAAK5D,UAAU,uBAAf,UACI,wCAAW4D,EAAK9D,KAAKynB,GAArB,OACA,yCAAY3jB,EAAK9D,KAAK0nB,OACtB,8CAAiB5jB,EAAK9D,KAAK2nB,KAC3B,uDACKpf,IAAOzE,EAAK9D,KAAKsnB,SAAS9e,OAAO,gCANhB1E,EAAK6B,gBAc/C,cAAC,KAAK4H,KAAN,UACI,cAAC,IAAD,CACI3M,QAASsoB,EACT/oB,MAAO,CAAE8F,QAAS,QAASf,MAAO,QAClChF,UAAU,8BACVoG,KAAK,QACLuO,SAAS,SACTzO,KAAM,cAAC,IAAD,CAAiBA,KAAK,cAC5BlG,UAAU,6BAPd,yBAYR,qBAAKiG,QAAS,kBAAIqF,EAAa,IAAIrL,MAAO,CAAEugB,UAAW,SAAUI,OAAQ,WAAzE,4CAGJ,sBAAK5gB,UAAU,wBAAf,UACI,4DACA,eAAC,KAAD,CACIsN,KAAK,WACL8E,SA/HX,SAAA3M,GACjB6V,GAAa,GACbxX,QAAQC,IAAI0B,GACZpC,IAAM,CACFD,IAAK,8BACLQ,KAAM6B,EACNlC,OAAQ,SACTC,MAAK,SAAAC,GACJ8kB,EAAe9kB,EAAIG,MACnB0X,GAAa,GACbmN,EAAa,CACT,CACInb,KAAM,4CACNoB,IAAK,UACL9F,GAAI,GAER,CACI0E,KAAM,eACNoB,IAAK,UACL9F,GAAI,KAGZ+f,EAAQ7jB,KAAK,0BACdd,OAAM,SAAA8J,GACLhK,QAAQC,IAAI+J,GACZwN,GAAa,GACbnX,IAAQF,MAAM,mCAsGUuO,oBAAkB,EAClBC,iBAAkBA,EAJtB,UAMI,eAAC,KAAKpF,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAK,MACL6B,MAAO,CAAC,CAAEC,UAAU,IAHxB,SAII,cAAC,IAAD,CACIhJ,KAAK,QACLZ,YAAY,UALZ,6BAOR,sBAAMxF,UAAU,uBAAhB,qBAEJ,eAAC,KAAKqN,KAAN,WACI,cAAC,KAAKA,KAAN,CAEIC,KAAK,WACL6B,MAAO,CAAC,CAAEC,UAAU,IAHxB,SAII,cAAC,IAAMoQ,SAAP,CACIpZ,KAAK,QACLZ,YAAY,WALZ,6BAOR,sBAAMxF,UAAU,uBAAhB,sBAGJ,cAAC,KAAKqN,KAAN,UACI,cAAC,IAAD,CACI3M,QAAS6Q,EACTtR,MAAO,CAAE8F,QAAS,QAASf,MAAO,QAClChF,UAAU,8BACVoG,KAAK,QACLuO,SAAS,SACTzO,KAAM,cAAC,IAAD,CAAiBA,KAAK,cAAclG,UAAU,6BANxD,yBAWR,qBAAKC,MAAO,CAACugB,UAAW,SAAUI,OAAQ,WAAY3a,QAAS,kBAAIqF,EAAa,IAAhF,+CCzK1BjL,I,OAAkBC,YAAyB,CAC7C+oB,UAAW9a,MAGAhO,eAAQF,GAARE,CAAyBE,aA1ClB,SAAC,GAA4B,IAA1BkoB,EAAyB,EAAzBA,QAASU,EAAgB,EAAhBA,UAE9B,OAAQ,qBAAKrpB,UAAU,gCAAf,SACJ,sBAAKA,UAAU,+BAAf,UACI,cAAC,IAAD,CACIiG,QAAS,WAAQ0iB,EAAQW,UACzBtjB,KAAK,UAELE,KAAM,cAAC,IAAD,CACFjG,MAAO,CAAEkI,YAAa,IACtBjC,KAAK,sBANb,kBASA,oBAAIjG,MAAO,CAAEugB,UAAW,UAAxB,iIACA,qBAAKxgB,UAAU,mBAAf,SAEQqpB,EAAU3hB,KAAI,SAAA6hB,GAAI,OAAI,sBAAKtjB,QAAS,kBAAM0iB,EAAQ7jB,KAAK,aAAa9E,UAAU,eAAxD,UAClB,qBAAKA,UAAU,eAAf,SACKupB,EAAKjc,OAGV,sBAAKtN,UAAU,eAAf,UACI,sBACIA,UAAU,cACVC,MAAO,CAAEuX,OAAQ,EAAGnS,QAAS,GAFjC,SAGEkkB,EAAK7a,MACP,2DCNtBrO,GAAkBC,YAAyB,CAC7C0N,KAAMC,KAGK1N,eAAQF,GAARE,EAxBU,SAAC,GAAqB,IAAnBK,EAAkB,EAAlBA,MAAOoN,EAAW,EAAXA,KAE/B,OADAlK,QAAQC,IAAIiK,GAER,gCACI,cAAC,IAAD,CAAO6J,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,MAAQ+N,UAAYiJ,KAEhD,cAAC,IAAD,CACIlJ,MAAM,gBACN9N,KAAI,UAAKnJ,EAAMmJ,KAAX,kBACJ+N,UAAW0R,KAEf,cAAC,IAAD,CACI3R,OAAK,EACL9N,KAAI,UAAKnJ,EAAMmJ,KAAX,UACJ7C,OAAQ,kBAAI8G,EAAO,cAAE,IAAF,CAAWrF,GAAI,aAAgB,cAAC,GAAD,aClB1DiM,GAAWC,KAAXD,OA2KO6U,GAzKU,SAAC,GAAe,IAAb7oB,EAAY,EAAZA,MAAY,EAErBoQ,KAAKC,UAAbjE,EAF6B,sBAGNhL,oBAAS,GAHH,mBAG7BtB,EAH6B,KAGpBue,EAHoB,KAI5ByK,EAAmB9oB,EAAMuQ,OAAzBuY,eAERvmB,qBAAU,WACHumB,GACCrmB,IAAM,CACFD,IAAI,wBAAwBsmB,EAC5BnmB,OAAQ,QAEXC,MAAK,SAAAC,GACFuJ,EAAKY,eAAenK,EAAIG,SAE3BI,OAAM,SAAA8J,GACHhK,QAAQC,IAAI+J,QAGtB,IAwBF,OACI,qBAAK7N,MAAO,CAACgK,UAAW,IAAxB,SACI,cAAC,KAAD,CACI+C,KAAMA,EACNoF,SA1BS,SAAAC,GAEjB4M,GAAW,GACX5b,IAAM,CACFE,OAASmmB,EAAiB,QAAU,OACpC9lB,KAAMyO,EACNjP,IAAKsmB,EAAiB,yBAAyBA,EAAkB,0BAClElmB,MAAK,SAAAC,GACDA,EAAIG,KAAK2O,GACRpO,IAAQ8E,QAAQ,0BAEhB9E,IAAQF,MAAM,mCAElBgb,GAAW,MACZjb,OAAM,SAAA8J,GACLhK,QAAQC,IAAI+J,GACZ3J,IAAQF,MAAM,oCACdgb,GAAW,OAUPzM,oBAAkB,EAHtB,SAKI,sBAAKxS,UAAU,+BAAf,UACA,uDACA,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACI,eAAC,IAAD,CAAKC,GAAI,GAAT,UACI,eAAC,KAAKC,KAAN,WACI,cAAC,KAAKA,KAAN,CACI8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,WAHT,SAII,cAAC,IAAD,CACIlH,KAAK,WAHL,yBAMR,sBAAMpG,UAAU,uBAAhB,6CAEJ,eAAC,KAAKqN,KAAN,WACI,cAAC,KAAKA,KAAN,CACI8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,WAHT,SAII,cAAC,IAAD,CACIlH,KAAK,WAHL,yBAMR,sBAAMpG,UAAU,uBAAhB,6CAEJ,eAAC,KAAKqN,KAAN,WACI,cAAC,KAAKA,KAAN,CACI8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,WAHT,SAII,cAAC,IAAD,CACIlH,KAAK,WAHL,yBAMR,sBAAMpG,UAAU,uBAAhB,6CAGJ,eAAC,KAAKqN,KAAN,WACI,cAAC,KAAKA,KAAN,CACI8B,MAAO,CAAC,CAAEC,UAAU,IAEpB9B,KAAK,aAHT,SAII,eAAC,KAAD,CACIhD,UAAU,EACVlE,KAAK,QACLkH,KAAK,aACL+I,0BAAwB,EAJ5B,UAMI,cAAC,GAAD,CAAQ5Q,MAAO,EAAf,kCACA,cAAC,GAAD,CAAQA,MAAO,EAAf,4BACA,cAAC,GAAD,CAAQA,MAAO,EAAf,uBACA,cAAC,GAAD,CAAQA,MAAO,EAAf,0BACA,cAAC,GAAD,CAAQA,MAAO,EAAf,gCAZA,yBAeR,sBAAMzF,UAAU,uBAAhB,uCAEJ,eAAC,IAAD,CAAKmN,QAAQ,gBAAb,UACI,cAAC,IAAD,CAAKC,GAAI,GAAT,SACI,cAAC,KAAKC,KAAN,CACIX,MAAM,SACNY,KAAK,WACLqc,cAAc,UACdxa,MAAO,CAAC,CAAEC,UAAU,IAJxB,SAMI,cAAC,KAAD,QAGR,cAAC,IAAD,CAAKhC,GAAI,GAAT,SACI,cAAC,KAAKC,KAAN,UACI,cAAC,IAAD,CACI3M,QAASA,EACTT,MAAO,CAAC+E,MAAO,QACfoB,KAAK,QACLuO,SAAS,SACT3U,UAAU,8BALd,+BAYhB,eAAC,IAAD,CAAKoN,GAAI,GAAT,UACI,cAAC,KAAKC,KAAN,CACIC,KAAK,UAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHxB,SAKI,cAAC,KAAD,CACI5J,YAAY,UACZsN,KAAM,EAAG1M,KAAK,YAEtB,cAAC,KAAKiH,KAAN,CAEIC,KAAK,UACL6B,MAAO,CAAC,CAAEC,UAAU,IAHxB,SAKI,cAAC,KAAD,CAAU0D,KAAM,EACZtN,YAAY,UACZY,KAAK,YAEb,cAAC,KAAKiH,KAAN,CACIC,KAAK,UAEL6B,MAAO,CAAC,CAAEC,UAAU,IAHxB,SAKI,cAAC,KAAD,CACI5J,YAAY,UACZsN,KAAM,EAAG1M,KAAK,0BCzI/B3F,gBAtBU,SAAC,GAAe,IAAbG,EAAY,EAAZA,MACxB,OACI,8BACI,eAAC,IAAD,CAAKuM,QAAQ,eAAb,UACI,cAAC,IAAD,CAAKC,GAAI,EAAGuS,GAAI,EAAhB,SACI,cAAC,GAAD,CAAchH,OAAK,MAEvB,eAAC,IAAD,CAAKvL,GAAI,GAAIuS,GAAI,GAAjB,UACI,cAAC,IAAD,CACI9H,OAAK,EACL9N,KAAI,UAAKnJ,EAAMmJ,KAAX,iBACJ7C,OAAQ,kBAAI,cAAC,EAAD,CACZ4D,IAAI,eACJC,UAAQ,OACZ,cAAC,IAAD,CAAO8M,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,wBAAuC+N,UAAY2R,KACpE,cAAC,IAAD,CAAO5R,OAAK,EAAC9N,KAAI,UAAKnJ,EAAMmJ,KAAX,sCAAqD+N,UAAY2R,gBCyChGppB,GAAkBC,YAAyB,CAC7C0N,KAAMC,GACNG,MAAOD,KAOI5N,eAAQF,IAJI,SAAAG,GAAQ,MAAK,CACpCopB,QAAS,kBAAMppB,EAAS+X,UAGbhY,EAtDH,SAAC,GAA8B,IAA5ByN,EAA2B,EAA3BA,KAAMI,EAAqB,EAArBA,MAAOwb,EAAc,EAAdA,QAuBxB,OArBAvhB,IAAOyX,OAAO,WACdzc,IAAMwmB,SAASC,QAAUzS,GAEzBhU,IAAM0mB,aAAazW,SAAS0W,KAAI,SAAAvmB,GAQ5B,OANAK,QAAQC,IAAIN,GAEO,MAAfA,EAAI4P,QACJuW,IAGGnmB,KACR,SAAAkC,GAEC,OAAOskB,QAAQC,OAAOvkB,MAG1BtC,IAAMwmB,SAAS9W,QAAQoX,OAAvB,cAAiD,UAAY/b,EAKzD,sBAAKpO,UAAU,MAAf,UACI,cAAC,GAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAO6X,OAAK,EAAC9N,KAAK,IACd7C,OACI,kBAAM,cAAE,IAAF,CAAWyB,GAAG,aAE5B,cAAC,IAAD,CAAOoB,KAAK,QACR+N,UAAWsS,KAEf,cAAC,IAAD,CAAOrgB,KAAK,WACR7C,OAAQ,kBAAM8G,EAAO,cAAC,GAAD,IAAmB,cAAC,IAAD,CAAUrF,GAAG,mBAEzD,cAAC,IAAD,CAAOoB,KAAK,SACR7C,OAAQ,kBAAmB,IAAf8G,EAAKqc,QAAa,cAAC,GAAD,IAAuB,cAAC,IAAD,CAAU1hB,GAAG,sBC5CvE2hB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhnB,MAAK,YAAkD,IAA/CinB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,kDCLRO,GAAgB,CAClBnqB,YAAa,KACbyN,MAAO,KACPE,YAAa,KACbE,cAAe,IAkCJuc,GA/BK,WAAoC,IAAnChf,EAAkC,uDAA1B+e,GAAe5X,EAAW,uCAEnD,OAAQA,EAAOlN,MAEX,KAAKiS,GAAaK,mBACd,OAAO,2BAAKvM,GAAZ,IAAmByC,cAAe0E,EAAOtR,UAE7C,KAAKqW,GAAaI,iBACd,OAAO,2BAAKtM,GAAZ,IAAoBuC,YAAa4E,EAAOtR,UAE5C,KAAKqW,GAAaG,cACd,OAAO,2BAAIrM,GAAX,IACIpL,YAAcuS,EAAOtR,UAG7B,KAAKqW,GAAaC,cACd,OAAO,2BAAInM,GAAX,IACIif,SAAU9X,EAAOtR,QAAQoM,KAAO,OAAS,UACzCrN,YAAauS,EAAOtR,QAAQoM,KAAOkF,EAAOtR,QAAQoM,KAAOkF,EAAOtR,QAAQqpB,QACxE7c,MAAO8E,EAAOtR,QAAQwM,QAG9B,KAAK6J,GAAaE,QACd,OAAO,2BAAIpM,GAAX,IAAkBpL,YAAa,KAAMyN,MAAO,OAEhD,QACI,OAAOrC,IC7Bbmf,GAAgB,CAClBnmB,IAAK,OACLomB,Q,QAAAA,EACAC,UAAW,CAAC,SAGVC,GAAcC,aAAgB,CAChCtd,KAAM+c,KAGKQ,gBAAeL,GAAeG,I,sDCdpBG,IAAV,SAAUA,KAAV,kEACX,OADW,SACLC,aAAI,IADC,wCCKf,IAAMC,GAAiBC,eAEjBC,GAAc,CAACF,IAErBE,GAAY9mB,KAAK+mB,MAMV,IAAMC,GAAQC,aAAYV,GAAaW,KAAe,WAAf,EAAmBJ,KAEjEF,GAAeO,IAAIT,IAEZ,IAAMU,GAAYC,aAAaL,I,UCXtCM,IAASllB,OACP,cAAC,IAAD,CAAU4kB,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,KAAD,CAAaI,UAAWA,GAAxB,SACE,cAAC,IAAMG,WAAP,UACE,cAAC,GAAD,YAKRC,SAASC,eAAe,SAM1BjC,O","file":"static/js/main.46f7af03.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport {\r\n    faAddressCard,\r\n    faCertificate,\r\n    faCheckSquare,\r\n    faHome,\r\n    faInfoCircle,\r\n    faQuestionCircle,\r\n    faUserCog,\r\n    faBan,\r\n    faSignature,\r\n    faSave,\r\n    faFileContract,\r\n    faFileInvoice,\r\n    faFileSignature,\r\n    faFileInvoiceDollar,\r\n    faSignInAlt,\r\n    faCloudDownloadAlt,\r\n    faCloudUploadAlt,\r\n    faWallet,\r\n    faArrowCircleLeft\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport {\r\n    faBell,\r\n    faBookmark,\r\n    faCheckCircle,\r\n    faClock,\r\n    faClone,\r\n    faFileAlt,\r\n    faFileArchive,\r\n    faNewspaper,\r\n    faPlusSquare,\r\n    faTimesCircle,\r\n    faTrashAlt,\r\n\r\n} from '@fortawesome/free-regular-svg-icons'\r\n\r\nlibrary.add(\r\n    faBan,\r\n    faHome,\r\n    faNewspaper,\r\n    fab,\r\n    faInfoCircle,\r\n    faUserCog,\r\n    faCertificate,\r\n    faCheckSquare,\r\n    faQuestionCircle,\r\n    faAddressCard,\r\n    faPlusSquare,\r\n    faClone,\r\n    faTrashAlt,\r\n    faSignature,\r\n    faSave,\r\n    faFileAlt,\r\n    faFileContract,\r\n    faFileInvoice,\r\n    faFileSignature,\r\n    faFileArchive,\r\n    faFileInvoiceDollar,\r\n    faClock,\r\n    faCheckCircle,\r\n    faBookmark,\r\n    faSignInAlt,\r\n    faCloudDownloadAlt,\r\n    faCloudUploadAlt,\r\n    faTimesCircle,\r\n    faBell,\r\n    faWallet,\r\n    faArrowCircleLeft\r\n)","import React from 'react';\r\nimport ReactHtmlParser from 'react-html-parser'\r\n\r\n\r\nconst RichTextParser = ({text, ...otherProps})=>(\r\n    <div className=\"ql-snow\" {...otherProps}>\r\n        <div className=\"ql-editor\" style={{paddingLeft: 0}} data-gramm=\"false\">\r\n            {ReactHtmlParser(text)}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default RichTextParser;","import React, { useState } from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport { Table, Tooltip, Input, Button, Space, Popconfirm, message } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './dyna-grid.style.scss';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n//import { setItemToBeEdited, triggerFetchStart, triggerActionWithPayload } from '../../redux/admin/admin.actions';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n//import { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { \r\n  EditOutlined, \r\n  DeleteOutlined, \r\n  EyeOutlined, \r\n  SearchOutlined, \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\n//import { RESOURCES_PATH } from '../../env';\r\nimport RichTextParser from '../rich-text-parser/rich-text-parser.component';\r\nimport { useEffect } from 'react';\r\n\r\nconst DynaGrid = ({\r\n  loading,                //loading state of table\r\n  currentUser,            //Provided by the comonent\r\n  match,                  //Provided by the comonent\r\n  setItemToBeEdited,      //Provided by the comonent\r\n  triggerAction,          //Provided by the comonent, redux action consumer\r\n  triggerActionWithPayload, //Provided by comonent, redux action and payload consumer\r\n  title,                  //title of DynaGrid\r\n  //dataSource,             //data source for the component\r\n  config:{                //Config object\r\n    dataSourcePath,       //data source path for the table should be pagination\r\n    addElementViewPath,     //add element to the core\r\n    deleteRequestPath,    //delete request path for API server \r\n    replaceInViewPath,\r\n    approveRequestPath,   //approve request path for API server \r\n    viewActionPath,       //UI route to view the element\r\n    editActionPath,\r\n    resultsViewPath,      //view path to see the results\r\n    triggerReload,        //action to triggere when delete, approve is done\r\n    triggerWithPayload,   //Trigger action with payload\r\n    payload,              //Payload to trigger action\r\n    deleteConfirmText,    //Delete confirm text\r\n    actions,              //Object of actions to allow\r\n                          //  {\r\n                          //    add: true,\r\n                          //    edit: true,\r\n                          //    delete: true,\r\n                          //    approve: true,\r\n                          //    view: true\r\n                          //  }\r\n    allColumns,           // array of columns to show\r\n                          //  [\r\n                          //    dataIndex: name of the data in the source object  \r\n                          //    dataType: \"image\" | to show image, \r\n                          //              \"array\" | to show array of strings\r\n                          //               \"rich-text\" | to show rich text format\r\n                          //              \"object\" | if dataIndex value is object,\r\n                          //                    then you have to provide \"items\" array to show certain properties of object\r\n                          //               \"rich-text\": if dataIndex value includes HTML tags \r\n                          //    isSearchable: true | false \r\n                          //    isFilterable: true | false\r\n                          //    filters: [\"item1\", \"item2\"]  filter options\r\n                          //  ]\r\n  }\r\n})=> {\r\n\r\n\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchedColumn, setSearchedColumn] = useState('');\r\n  const [filteredInfo, setFilteredInfo] = useState(null);\r\n  const [isFulliew, toggleFullView] = useState(false);\r\n  \r\n  const [pagination, setPagination] = useState({current: 1, pageSize: 10})\r\n  const [totalDataCount, setTotalDataCount] = useState(0);\r\n  const [ajaxDataSource, setAjaxDataSource] = useState([])\r\n  const [loadingSource, setLoadingResource] = useState(false);\r\n\r\n\r\n  let searchInput = null;\r\n\r\n  //#region PAGINATION PART\r\n  useEffect(()=>{\r\n\r\n    let url = `${dataSourcePath}&page=${pagination.current}&limit=${pagination.pageSize}${searchText ? `&search=${searchText}&searchFrom=${searchedColumn}` : ''}`\r\n\r\n    setLoadingResource(true)\r\n    axios({\r\n      url: url.replace(/[ ]+/g, \"\"),\r\n      method: \"GET\"\r\n    }).then(res=>{\r\n\r\n      if (Array.isArray(res.data.data)){\r\n        setAjaxDataSource(res.data.data);\r\n        setTotalDataCount(res.data.total)\r\n      }else{\r\n        console.log(res);\r\n      }\r\n      setLoadingResource(false)\r\n    }).catch(error=>{\r\n      console.log(error);\r\n      setLoadingResource(false)\r\n    })\r\n  }, [pagination, dataSourcePath, searchText, searchedColumn])\r\n  //#endregion PAGINATION PART\r\n\r\n  \r\n  //#region PopConfirm functions\r\n  const confirmDelete = (record) => {\r\n\r\n    //setVisible(false);\r\n    \r\n    axios({\r\n      url: `/${deleteRequestPath}/${record.id}`, \r\n      method: 'delete',\r\n      data: {creator: record.creator}\r\n      })\r\n      .then(res=>{\r\n        \r\n        if(triggerReload){\r\n          triggerAction(triggerReload)\r\n        }\r\n\r\n        if(triggerWithPayload){\r\n          triggerActionWithPayload(triggerActionWithPayload, payload)\r\n        }\r\n        //setAction(Math.random())\r\n        message.success(`${record.id} is deleted!`);\r\n      }).catch(error=>{\r\n        message.error('Failed to delete!');\r\n        console.error(error);\r\n        \r\n      })\r\n  };\r\n\r\n  const confirmApprove = (record) => {\r\n\r\n    //setVisible(false);\r\n    axios.patch(`/${approveRequestPath}/${record.id}`, \r\n      {userId: currentUser.id},)\r\n    .then(res=>{\r\n      if(triggerReload){\r\n        triggerAction(triggerReload)\r\n      }\r\n      \r\n      if(triggerWithPayload){\r\n        triggerActionWithPayload(triggerActionWithPayload, payload)\r\n      }\r\n      //setAction(Math.random())\r\n      message.success(`${record.id} is approved!`);\r\n    }).catch(error=>{\r\n      message.error('Failed to approve!');\r\n      console.error(error);\r\n      \r\n    })\r\n  };\r\n\r\n  const cancel = () => {\r\n    //setVisible(false);\r\n    message.error('Action cancelled!');\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region getColumnSearchProps\r\n  const getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            searchInput = node;\r\n          }}\r\n          placeholder={`${dataIndex} qidirish`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Qidirish\r\n          </Button>\r\n          <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Qaytarish\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n    record[dataIndex] \r\n      ? record[dataIndex].toString().toLowerCase().includes(value.toString().toLowerCase()) \r\n      : false,\r\n      onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.select());\r\n      }\r\n    },\r\n    render: text =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={ text ? text.toString() : null}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  //#endregion\r\n\r\n  //#region handleSearch\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex)\r\n\r\n  };\r\n\r\n  const handleReset = clearFilters => {\r\n    console.log(clearFilters)\r\n    \r\n    clearFilters();\r\n    setSearchText('')\r\n  \r\n  };\r\n\r\n  const handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    setPagination(pagination)\r\n    setFilteredInfo(filters);\r\n    //setSortedInfo(sorter);\r\n\r\n  };\r\n  //#endregion\r\n\r\n  const columns =[]\r\n\r\n  //#region column config\r\n  allColumns.forEach((element, index)=> {\r\n    columns.push(\r\n      {\r\n        dataIndex: element.dataIndex,\r\n        title: element.title,\r\n        key: element.dataIndex,\r\n        width: element.width ? element.width : 90,\r\n        ellipsis: element.dataIndex==='detail' || element.dataIndex ==='description' ? true : false,     \r\n      });\r\n\r\n    if(element.isSearchable) \r\n    {\r\n        columns[index] = {...columns[index], ...getColumnSearchProps(element.dataIndex)}\r\n    }\r\n\r\n    if(element.isFilterable)\r\n    {\r\n      columns[index] = {...columns[index], \r\n        filters: element.filters.map(univer=>({text: univer.text ?? univer, value: univer.value ?? univer})), \r\n        onFilter: (value, record) => {\r\n          setSearchText(value.toString().toLowerCase())\r\n          setSearchedColumn(element.dataIndex)\r\n          return ajaxDataSource;\r\n        }}//record[element.dataIndex].toString().toLowerCase().includes(value.toString().toLowerCase()),}\r\n    }\r\n\r\n    if(element.isBoolean){\r\n      columns[index] = {...columns[index], \r\n      dataIndex: null,\r\n      render: (record)=><div>{record[element.dataIndex] ? 1 : 0}</div>}\r\n    }\r\n\r\n    if(element.isBoolean && element.isFilterable){\r\n      columns[index] = {...columns[index], \r\n      dataIndex: null,\r\n      filters: [{text: 1, value: true}, {text: 0, value: false}], \r\n      onFilter: (value, record) =>!!record[element.dataIndex] === !!value,\r\n      render: (record)=><div>{record[element.dataIndex] ? 1 : 0}</div>}\r\n    }\r\n    \r\n    // if(element.dataType === 'image'){\r\n    //   columns[index] = { \r\n    //     ...columns[index],\r\n    //     dataIndex: null,\r\n    //     width: 170,\r\n    //     render: (record)=><div style={{textAlign: \"center\"}}>\r\n    //       <img style={{width: 80, height: 80 }} src={`${RESOURCES_PATH}/${record[element.dataIndex]}`} alt={`${record[element.dataIndex]}`} />\r\n    //     </div>\r\n    //   }\r\n    // }\r\n\r\n    if(element.dataType === 'rich-text'){\r\n      columns[index] = { \r\n        ...columns[index],\r\n        dataIndex: null,\r\n        render: (record)=><RichTextParser text={record[element.dataIndex]} />\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'object'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        render: record=><div style={{display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap'}}>\r\n          {\r\n            record[element.dataIndex] \r\n          ? element.items.map((field, index)=><div key={`sub-dyna-field-${index}`}>{`${field}: `}{ record[element.dataIndex][field] }</div>)\r\n            : \"Nothing found!\"\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'array'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        onFilter: (value, record) => record[element.dataIndex].includes(value),\r\n        render: record=><div>\r\n          {\r\n            record[element.dataIndex].map(item => <span style={{ backgroundColor: '#4870c7', color: 'white', padding: 3, marginRight: 5, marginBottom: 5, borderRadius: 3 }}>{item} </span>)\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n    if (element.dataType === \"date\") {\r\n      columns[index]={\r\n        ...columns[index],\r\n        width: 150,\r\n        dataIndex: null,\r\n        render: record=><span>{ moment(record[element.dataIndex]).format('MMMM Do YYYY, H:mm:ss') }</span>\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'array-count'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        onFilter: (value, record) => record[element.dataIndex].includes(value),\r\n        render: record=><div>\r\n          {\r\n            record[element.dataIndex].length\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n  });\r\n    //#endregion\r\n    \r\n    //Actions\r\n    columns.push({\r\n      title: \" \",\r\n      key: 'actions',\r\n      width: 90,\r\n      fixed: 'right',\r\n      render: (record) => \r\n        <div className=\"dyna-grid-actions\">\r\n          {actions.edit \r\n          ? <Tooltip placement=\"left\" title=\"O'zgartirish\">\r\n              <Link \r\n                to={`${editActionPath}/${record.id}`}>\r\n                  <EditOutlined style={{color: 'blue'}}/>\r\n              </Link>\r\n            </Tooltip>\r\n          : null\r\n          }\r\n\r\n          {actions.delete \r\n          ? <Tooltip placement=\"bottom\" title=\"O'chirish\">\r\n              <Popconfirm\r\n                title={ deleteConfirmText ? deleteConfirmText : \"O'chirilsin?\" }\r\n                onConfirm={()=>{confirmDelete(record)}}\r\n                onCancel={cancel}\r\n                okText=\"Ha\"\r\n                cancelText=\"Yo'q\"\r\n              >\r\n              <DeleteOutlined style={{color: 'red'}} />\r\n            </Popconfirm>\r\n          </Tooltip>\r\n          : null\r\n          }\r\n          \r\n          {actions.approve \r\n            ? <Tooltip placement=\"bottom\" title=\"Tasdiqlash\">\r\n                <Popconfirm\r\n                  title=\"Approve this news?\"\r\n                  onConfirm={()=>{confirmApprove(record)}}\r\n                  onCancel={cancel}\r\n                  okText=\"Yes\"\r\n                  cancelText=\"No\"\r\n                >\r\n                  <FontAwesomeIcon style={{color: 'green'}} icon=\"check-circle\" />\r\n                </Popconfirm>\r\n              </Tooltip>\r\n          : null\r\n          }\r\n\r\n          {actions.view \r\n          ? <Tooltip placement=\"bottom\" title=\"Ko'rish\" >\r\n                <Link to={`${ replaceInViewPath \r\n                  ? viewActionPath.replace(`{${replaceInViewPath}}`, record[replaceInViewPath]) \r\n                  : viewActionPath}/${record.id}`}><EyeOutlined /></Link>\r\n              </Tooltip>\r\n          : null  \r\n          }\r\n\r\n          {actions.chart\r\n          ?\r\n            <Tooltip placement=\"bottomLeft\" title=\"Natijalar\">\r\n              <Link to={`${resultsViewPath}/${record.id}`}>\r\n                <FontAwesomeIcon icon=\"chart-line\" style={{color: '#fb8c00'}} />\r\n              </Link>\r\n            </Tooltip>\r\n          : null\r\n          }\r\n\r\n          {\r\n            actions.addElement\r\n            ?\r\n              <Tooltip placement=\"bottomLeft\" title=\"Qoshimcha  qoshish\">\r\n                <Link to={`${match.path}/${addElementViewPath}/${record.id}`}>\r\n                  <FontAwesomeIcon style={{color: \"#e91e63\"}} icon=\"plus-circle\" />\r\n                </Link>\r\n              </Tooltip>\r\n            :null\r\n          }\r\n        </div>,\r\n    })\r\n\r\n    return (\r\n    <div className={`dyna-grid-main-container ${isFulliew ? 'akhadjon-dyna-grid-full-view' : null}`} >\r\n      <div onDoubleClick={()=>toggleFullView(!isFulliew)} \r\n        \r\n        style={{marginTop: 40, marginBottom: 10, display: \"flex\", justifyContent: \"space-between\"}}>\r\n        <Button \r\n          \r\n          onClick={()=>{toggleFullView(!isFulliew)}} \r\n          type=\"primary\" \r\n          icon={isFulliew ? <FullscreenExitOutlined /> : <FullscreenOutlined />}>\r\n            { isFulliew ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n          </Button>\r\n        <div>\r\n          <h3>{title}</h3>\r\n        </div>\r\n      </div>\r\n      <Table\r\n        \r\n        loading={loadingSource}\r\n        rowKey=\"id\"\r\n        onChange={handleChange} \r\n        bordered \r\n        pagination={pagination}\r\n        columns={columns} \r\n          dataSource={ajaxDataSource} \r\n        scroll={{ x: allColumns.length * 120, }}//y: window.innerHeight - window.innerHeight / 13 }} \r\n        pagination={{position: ['bottomCenter'], total: totalDataCount}}\r\n      />\r\n    </div>);\r\n  }\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  //currentUser: selectCurrentUser,\r\n})\r\n\r\nconst dispatchMapStateToPros = (dispatch)=>({\r\n  //setItemToBeEdited: (item)=>dispatch(setItemToBeEdited(item)),\r\n  //triggerAction: (action)=>dispatch(triggerFetchStart(action)),\r\n  //triggerActionWithPayload: (action, payload)=>dispatch(triggerActionWithPayload(action, payload))\r\n})\r\n\r\nexport default connect(mapStateToProps, dispatchMapStateToPros)(withRouter(DynaGrid));","import React, { useState, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport './home.style.scss';\r\nimport DynaGrid from '../../../components/dyna-grid/dyna-grid.component';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { get_home_config } from '../../../utils/home.config.provider';\r\n\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst HomePage = ({ doc, hideTabs })=> {\r\n\r\n    const tabs = {\r\n        1: \"in\",\r\n        2: \"out\",\r\n        3: \"saved\",\r\n        4: \"all\"\r\n    }\r\n\r\n    const { title, createTitle, createUrl, gridSourceUrl, gridConfig } = get_home_config(doc);\r\n\r\n    const [activeTab, setActiveTab] = useState(1);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    return (\r\n        <div className=\"factura-home-page-container\">\r\n            <div className=\"factura-home-sub-con\">\r\n                <div className=\"factura-home-title\">\r\n                    <h2>{ title }</h2>\r\n                    <Link to={ createUrl }><span>{ createTitle }</span></Link>\r\n                </div>\r\n                {\r\n                    hideTabs\r\n                    ? null\r\n                    : <div className=\"factura-home-list-tabs\">\r\n                    <div className=\"factura-home-list-tab-con\">\r\n                        <div onClick={()=>setActiveTab(1)} className={`status-tab-bar ${activeTab===1 ? 'active-tab' : ''}`}>\r\n                            Kiruvchi hujjatlar    \r\n                        </div> \r\n                        <div onClick={()=>setActiveTab(2)} className={`status-tab-bar ${activeTab===2 ? 'active-tab' : ''}`}>\r\n                            Yuborilganlar\r\n                        </div>\r\n                        <div onClick={()=>setActiveTab(3)} className={`status-tab-bar ${activeTab===3 ? 'active-tab' : ''}`}>\r\n                            Saqlanganlar\r\n                        </div>\r\n                        <div onClick={()=>setActiveTab(4)} className={`status-tab-bar ${activeTab===4 ? 'active-tab' : ''}`}>\r\n                            Barchasi\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                }\r\n                \r\n                \r\n                <div>\r\n                    <DynaGrid    \r\n                        config={{ ...gridConfig, dataSourcePath: `${gridSourceUrl}?tab=${tabs[activeTab]}`}}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","export const get_home_config = doc => {\r\n    switch (doc) {\r\n\r\n        case \"user-products\":\r\n            return {\r\n                title: \"Maxsulotlaringiz\",\r\n                createTitle: \"Maxsulotlarni yuklash\",\r\n                gridSourceUrl: \"/api/v1/products\",\r\n                createUrl: \"/cabinet/products\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/user-products',\r\n                    deleteConfirmText: \"Shu productni ochirilsinmi?\",\r\n                    actions: {\r\n                        delete: true,\r\n                    },\r\n                    allColumns: [{\r\n                        title: \"Katalog kodi\",\r\n                        dataIndex: 'CatalogCode',\r\n                        isSearchable: true,\r\n                        width: 200\r\n                    },\r\n                    {\r\n                        title: \"Klass kodi\",\r\n                        dataIndex: 'ClassCode',\r\n                        isSearchable: true,\r\n                        width: 200\r\n                    },\r\n                    {\r\n                        title: \"Nomi\",\r\n                        dataIndex: 'CatalogName',\r\n                        isSearchable: true,\r\n                        width: 300,\r\n                        \r\n\r\n                    },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'notification':\r\n            return {\r\n                title: \"Notifications\",\r\n                createTitle: \"Notification yaratish\",\r\n                createUrl: \"/admin/notification/create\",\r\n                gridSourceUrl: \"/api/v1/notifications\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/notifications',\r\n                    viewActionPath: '/admin/notification/view',\r\n                    editActionPath: '/admin/notification/edit',\r\n                    deleteConfirmText: \"Shu notification ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Sarlavha\",\r\n                            dataIndex: 'title_uz',\r\n                            isSearchable: true,\r\n                            width: 300\r\n                        },\r\n                        {\r\n                            title: \"Mazmuni\",\r\n                            dataIndex: 'body_uz',\r\n                            isSearchable: true,\r\n                            width: 400\r\n                        },\r\n                        {\r\n                            title: \"Muhimligi\",\r\n                            dataIndex: 'importance',\r\n                            isFilterable: true,\r\n                            width: 100,\r\n                            filters: [\r\n                                { value: 1, text: \"1 - Uncha muxim emas\" },\r\n                                { value: 2, text: \"2 - Muxim emas\" },\r\n                                { value: 3, text: \"3 - Muxim\" },\r\n                                { value: 4, text: \"4 - Muximroq\" },\r\n                                { value: 5, text: \"5 - O'ta muxim\" },\r\n                            ]\r\n\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: \"isActive\",\r\n                            isFilterable: true,\r\n                            width: 100,\r\n                            filters: [\r\n                                { value: 0, text: \"Aktiv emas\" },\r\n                                { value: 1, text: \"Aktiv\" },\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'act':\r\n            return {\r\n                title: \"Aktlar\",\r\n                createTitle: \"Akt yaratish\",\r\n                createUrl: \"/cabinet/act/create\",\r\n                gridSourceUrl: \"/api/v1/acts\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/atcs',\r\n                    viewActionPath: '/cabinet/act/view',\r\n                    editActionPath: '/cabinet/act/edit',\r\n                    deleteConfirmText: \"Shu akt ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Akt \",\r\n                            dataIndex: 'actNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Kontrkt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'contract':\r\n            return {\r\n                title: \"Shartnomalar\",\r\n                createTitle: \"Shartnoma yaratish\",\r\n                createUrl: \"/cabinet/contract/create\",\r\n                gridSourceUrl: \"/api/v1/contracts\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/contracts',\r\n                    viewActionPath: '/cabinet/contracts/view',\r\n                    editActionPath: '/cabinet/contract/edit',\r\n                    deleteConfirmText: \"Shu kontrakt ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Kontrkt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case \"empowerment\":\r\n            return {\r\n                title: \"Ishonchnomalar\",\r\n                createTitle: \"Ishonchnoma yaratish\",\r\n                createUrl: \"/cabinet/empowerment/create\",\r\n                gridSourceUrl: \"/api/v1/empowerments\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/empowerments',\r\n                    viewActionPath: '/cabinet/empowerment/view',\r\n                    editActionPath: '/cabinet/empowerment/edit',\r\n                    deleteConfirmText: \"Shu ishonchnoma ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Ishonchnoma \",\r\n                            dataIndex: 'empowermentNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Kontrakt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'tty':\r\n            return {\r\n                title: \"Tovar transport yo'lxati\",\r\n                createTitle: \"TTY yaratish\",\r\n                createUrl: \"/cabinet/tty/create\",\r\n                gridSourceUrl: \"/api/v1/ttys\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/ttys',\r\n                    viewActionPath: '/cabinet/tty/view',\r\n                    editActionPath: '/cabinet/tty/edit',\r\n                    deleteConfirmText: \"Shu TTY ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"TTY \",\r\n                            dataIndex: 'wayBillNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'state',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n\r\n        default:\r\n            return {\r\n                title: \"Hisob fakturalar\",\r\n                createTitle: \"Faktura yaratish\",\r\n                createUrl: \"/cabinet/factura/create\",\r\n                gridSourceUrl: \"/api/v1/facturas\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/facturas',\r\n                    viewActionPath: '/cabinet/factura/view',\r\n                    editActionPath: '/cabinet/factura/edit',\r\n                    deleteConfirmText: \"Shu faktura ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Faktura \",\r\n                            dataIndex: 'facturaNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Kontrakt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n    }\r\n}","import React, { PureComponent } from \"react\";\r\nimport './custom-selector.style.scss';\r\n\r\n\r\nexport default class SelectEditor extends PureComponent {\r\n    constructor (props) {\r\n      super(props)\r\n      this.handleChange = this.handleChange.bind(this)\r\n      this.state = {}\r\n    }\r\n  \r\n    handleChange (opt) {\r\n      const {onCommit, onRevert} = this.props\r\n      if (!opt) {\r\n        return onRevert()\r\n      }\r\n      \r\n      const { e } = this.state\r\n      onCommit(opt.target.value, e)\r\n      console.log(opt.target.value, e)\r\n      \r\n    }\r\n  \r\n    render () {\r\n      return (\r\n        <select\r\n          defaultValue={null}\r\n          onChange={this.handleChange}\r\n          onSelect={this.handleChange}\r\n        >\r\n          <option value=\"04911\">04911 -   </option>\r\n          <option value=\"9990000725\">9990000725 -    </option>\r\n          <option value=\"9990000902\">9990000902 -   =32 </option>\r\n        </select>\r\n        \r\n      )\r\n    }\r\n  }\r\n","import React, { PureComponent } from \"react\";\r\nimport {ENTER_KEY, TAB_KEY} from 'react-datasheet/lib/keys';\r\nimport Select from 'react-select';\r\n\r\n\r\nexport default class SelectMeasureEditor extends PureComponent {\r\n    constructor (props) {\r\n      super(props)\r\n      this.handleChange = this.handleChange.bind(this)\r\n      this.state = {}\r\n    }\r\n  \r\n    handleChange (opt) {\r\n      const { onCommit, onRevert } = this.props\r\n      // if (!opt) {\r\n      //   return onRevert()\r\n      // }\r\n      const { e } = this.state\r\n      onCommit(opt.target.value, e)\r\n    }\r\n  \r\n    render () {\r\n      return (\r\n        <select\r\n          defaultValue={1}\r\n          onChange={this.handleChange}\r\n        >\r\n          {\r\n            measures.map(measure=><option value={measure.value}> {measure.value} - {measure.label}</option>)\r\n          }\r\n        </select>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n  const measures = [\r\n    { value: 0, label: \"boshqa\" },\r\n    {value: 1,\tlabel: \"\"},\r\n  {value: 2,\tlabel: \"\"},\r\n  {value: 3,\tlabel: \"\"},\r\n  {value: 4,\tlabel: \"\"},\r\n  {value: 5,\tlabel: \"\"},\r\n  {value: 6,\tlabel: \"\"},\r\n  {value: 7, label:\t\" \"},\r\n  {value: 8, label:\t\" \"},\r\n  {value: 9, label:\t\"\"},\r\n  {value:10, label:\t\"\"},\r\n  {value:11, label:\t\"\"},\r\n  {value:12, label:\t\"\"},\r\n  {value:13, label:\t\". \"},\r\n  {value:14, label:\t\". \"},\r\n  {value:15, label:\t\". \"},\r\n  {value:16, label:\t\". \"},\r\n  {value:17, label:\t\"1000 . \"},\r\n  {value:18, label:\t\". \"},\r\n  {value:19, label:\t\". \"},\r\n  {value:20, label:\t\". \"},\r\n  {value:21, label:\t\". \"},\r\n  {value:22, label:\t\"\"},\r\n  {value:23, label:\t\"\"},\r\n  {value:24, label:\t\"\"},\r\n  {value:25, label:\t\"\"},\r\n  {value:26, label:\t\"\"},\r\n  {value:27, label:\t\"\"},\r\n  {value:28, label:\t\"\"},\r\n  {value:29, label:\t\"\"},\r\n  {value:30, label:\t\"\"},\r\n  {value:31, label:\t\"\"},\r\n  {value:32, label:\t\"\"},\r\n  {value:33, label:\t\"\"},\r\n  {value:34, label:\t\"\"},\r\n  {value:35, label:\t\"\"},\r\n  {value:36, label:\t\"\"},\r\n  {value:37, label:\t\"\"},\r\n  {value:38, label:\t\"\"},\r\n  {value:39, label:\t\"\"},\r\n  {value:40, label:\t\"/\"},\r\n  {value:41, label:\t\"\"},\r\n  {value:42, label:\t\"\"},\r\n  {value:43, label:\t\"\"},\r\n  {value:44, label:\t\"\"},\r\n  {value:45, label:\t\"\"},\r\n  {value:46, label:\t\"\"},\r\n  {value:47, label:\t\"\"},\r\n  {value:48, label:\t\"\"},\r\n  {value:49, label:\t\"\"},\r\n  {value:50, label:\t\"\"},\r\n  {value:51, label:\t\"\"},\r\n  {value:52, label:\t\"\"},\r\n  {value:53, label:\t\"\"},\r\n  {value:54, label:\t\"/\"},\r\n  {value:55, label:\t\"\"},\r\n  {value:56, label:\t\"\"},\r\n  {value:57, label:\t\"\"},\r\n  {value:58, label:\t\"\"},\r\n  {value:59, label:\t\"\"},\r\n  \r\n  ]\r\n  ","import { Form, Input, Row, Col, message } from 'antd'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\n\r\nconst PersonFetch = ({ pTin, tinLabel, pName, nameLabel, form, tinCol, nameCol }) => {\r\n\r\n    const handleChange = e => {\r\n        console.log(e.target.value)\r\n        if (!isNaN(e.target.value)) {\r\n            if (e.target.value > 100000000 && e.target.value <= 999999999) {\r\n                axios({\r\n                    url: `/api/v1/companies/tin/${e.target.value}`,\r\n                    method: \"GET\",\r\n                }).then(res => {\r\n                    //setBuyerData(res.data)\r\n                    const { name, fullName } = res.data;\r\n                    let data = {};\r\n                    if(Array.isArray(pName)){\r\n                        let fetcherData = form.getFieldValue(\"contract_partners\");\r\n                        fetcherData[pName[0]][pName[1]] = name ?? fullName;\r\n                        form.setFieldsValue({contract_partners: [...fetcherData, ]})\r\n                    }else{\r\n                        data[pName] = name ?? fullName;\r\n                        form.setFieldsValue(data)\r\n                    }\r\n                    \r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            } else {\r\n\r\n            }\r\n        } else {\r\n            message.warning(\"STIR notog'ri kiritildi!\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-between\">\r\n                <Col md={tinCol ?? 24}>\r\n                    <Form.Item>\r\n                        <Form.Item\r\n\r\n                            name={pTin}\r\n                            key={`${pTin}-tin-name`}\r\n                        >\r\n                            <Input size=\"large\" onChange={handleChange} />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{tinLabel}</span>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col md={nameCol ?? 24}>\r\n                    <Form.Item>\r\n                        <Form.Item\r\n                            name={pName}\r\n                            key={`${pName}-tin-name`}\r\n                        >\r\n                            <Input size=\"large\" />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{nameLabel}</span>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonFetch\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectUser = (state) => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n    [selectUser],\r\n    user => user.currentUser\r\n)\r\n\r\nexport const selectToken = createSelector(\r\n    [selectUser],\r\n    user => user.token\r\n)\r\n\r\nexport const selectCabinetData = createSelector(\r\n    [selectUser],\r\n    user=>user.cabinetData\r\n)\r\n\r\nexport const selectUserCompanies = createSelector(\r\n    [selectUser],\r\n    user=>user.userCompanies\r\n)","import React, { Fragment } from 'react';\r\nimport { Input, Form, Row, Col } from 'antd';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { connect } from 'react-redux';\r\nimport PersonFetch from './person-fetch/person-fetch.component';\r\n\r\nconst SellerForm = ({ user, docType, form }) => {\r\n\r\n  const { tin, name, fullName, regCode, mfo, account, address, directorName, directorTin, accountant, phone } = user;\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h3> </h3>\r\n\r\n      {\r\n        docType==\"contract\" ?\r\n        <PersonFetch\r\n        form={form}\r\n        nameCol={11}\r\n        tinCol={11}\r\n        tinLabel=\"Jis.Shaxs STIR\"\r\n        nameLabel=\"Jis.Shaxs FIO\"\r\n        pTin=\"sellerFizTin\"\r\n        pName=\"sellerFizFio\"\r\n      />\r\n      : null\r\n      }\r\n      \r\n\r\n      <Form.Item>\r\n        <Form.Item\r\n          key=\"dyna-form-item-inn-seller\"\r\n          name=\"sellerTin\"\r\n          rules={[{ required: true }]}\r\n          initialValue={tin}>\r\n          <Input\r\n            disabled\r\n            size=\"large\"\r\n            placeholder=\"Sotuvchi INN\" />\r\n        </Form.Item>\r\n        <span className=\"custom-input-label-1\">INN</span>\r\n      </Form.Item>\r\n      {\r\n        docType !== \"contract\" ?\r\n          <h3></h3>\r\n          : null\r\n      }\r\n      <Form.Item>\r\n        <Form.Item\r\n          key=\"seller-name-1-sellerName\"\r\n          rules={[{ required: true }]}\r\n          name=\"sellerName\"\r\n          initialValue={name ?? fullName}>\r\n          <Input\r\n\r\n            size=\"large\"\r\n            placeholder=\" \" />\r\n        </Form.Item>\r\n        <span className=\"custom-input-label-1\"> </span>\r\n      </Form.Item>\r\n      {\r\n        docType !== \"act\" ?\r\n          <Fragment>\r\n            {\r\n              docType === \"contract\" || docType === \"empowerment\"\r\n                ? null\r\n                : <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account-vatreg\"\r\n                    name=\"sellerVatRegCode\"\r\n                    initialValue={regCode}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder=\"   \" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">   </span>\r\n                </Form.Item>\r\n            }\r\n\r\n            <Row justify=\"space-between\">\r\n              <Col md={11} >\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account\"\r\n                    name=\"sellerAccount\"\r\n                    initialValue={account}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder=\" \" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\"> </span>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col md={11}>\r\n                {\r\n                  docType === \"contract\"\r\n                    ? <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerMobilePhone\"\r\n                        initialValue={phone}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder=\"Mobile phone\" />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\">Mobile phone</span>\r\n                    </Form.Item>\r\n                    : <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerMfo\"\r\n                        initialValue={mfo}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder=\"\" />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\"></span>\r\n                    </Form.Item>\r\n                }\r\n\r\n              </Col>\r\n            </Row>\r\n            <Form.Item>\r\n              <Form.Item\r\n                key=\"seler-account\"\r\n                name=\"sellerAddress\"\r\n                initialValue={address}>\r\n                <Input\r\n                  rules={[{ required: true }]}\r\n                  size=\"large\"\r\n                  placeholder=\"\" />\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\"></span>\r\n            </Form.Item>\r\n            <Row justify=\"space-between\">\r\n              <Col md={11} >\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account\"\r\n                    name=\"sellerDirector\"\r\n                    initialValue={directorName}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder=\"\" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\"></span>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col md={11}>\r\n                {\r\n                  docType === \"contract\"\r\n                    ? \r\n                    <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerDirectorTin\"\r\n                        initialValue={directorTin}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder=\" INN\" />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\"> INN</span>\r\n                    </Form.Item>\r\n                    : <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerAccountant\"\r\n                        initialValue={accountant}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder=\" \" />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\"> </span>\r\n                    </Form.Item>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          </Fragment>\r\n          : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(SellerForm);\r\n","import moment from 'moment';\r\nimport SelectMeasureEditor from '../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport SelectEditor from '../components/data-sheet-custom-selector/custom-selector.component';\r\n\r\nexport const getFileExtension = filename => {\r\n    return filename.slice((filename.lastIndexOf('.') - 1 >>> 0) + 2);\r\n}\r\n\r\nexport const FIRST_TTY_GRID_ROW = [\r\n    { readOnly: true, value: \"\", width: 50 }, //0 ordNo\r\n    { readOnly: true, value: '/  *' }, //1 product name\r\n    { readOnly: true, value: \" .*\", dataEditor: SelectMeasureEditor }, //2 measure\r\n    { readOnly: true, value: '' }, //3 count\r\n    { readOnly: true, value: \"*\", }, //4 price\r\n    { readOnly: true, value: \"  \", readOnly: true }, //5 total\r\n    { readOnly: true, value: '  *' }, //6 delivery cost\r\n    { readOnly: true, value: \"  \", }, //7 Docs\r\n    { readOnly: true, value: \"  \", }, //8 weight measure method\r\n    { readOnly: true, value: \" \", }, //9 item class\r\n    { readOnly: true, value: \" ()\", }, //10 brutto weight\r\n    { readOnly: true, value: \" ()\", }, //11 netto weight\r\n]\r\n\r\nexport const FIRST_FACTURA_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: '/        *', readOnly: true, width: 150 },\r\n    { value: '/  ', readOnly: true, width: 100 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n    { value: \"*\", readOnly: true, width: 100 },\r\n    { value: \"   (%)\", readOnly: true, width: 100 },\r\n    { value: \", \", readOnly: true, width: 100 },\r\n    { value: \"  *\", readOnly: true, width: 100 },\r\n    { value: \", %\", readOnly: true, width: 100 },\r\n    { value: \", *\", readOnly: true, width: 100 },\r\n    { value: \"Total*\", readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_ACT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n    { value: \"*\", readOnly: true, width: 100 },\r\n    { value: \"Total*\", readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_CONTRACT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: '/        *', readOnly: true, width: 150 },\r\n    { value: '/  ', readOnly: true, width: 100 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n    { value: \"*\", readOnly: true, width: 100 },\r\n    { value: \"  *\", readOnly: true, width: 100 },\r\n    { value: \"Total*\", readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_EMPOWERMENT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n]\r\n\r\nexport const SAMPLE_FACTURA_GRID_ROW = [\r\n    { readOnly: true, value: 1 }, //0 ordNo\r\n    { value: \"\" }, //1 product name\r\n    { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n    { value: \"\" }, //3 shrix code\r\n    { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n    { value: '' }, //5 amount\r\n    { value: \"\", }, //6 price\r\n    { value: '' }, //7 aksiz rate\r\n    { value: '', readOnly: true }, //8 aksiz amount\r\n    { value: '' }, //9 delivery cost\r\n    { value: \"\" }, //10 VAT rate\r\n    { value: '', readOnly: true }, //11 VAT amount\r\n    { value: '', readOnly: true, }, //12 total\r\n]\r\n\r\nexport const SAMPLE_CONTRACT_GRID_ROW = [\r\n    { readOnly: true, value: 1 }, //0 ordNo\r\n    { value: \"\" }, //1 product name\r\n    { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n    { value: \"\" }, //3 shrix code\r\n    { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n    { value: '' }, //5 amount\r\n    { value: \"\", }, //6 price\r\n    { value: '' }, //7 delivery cost\r\n    { value: '', readOnly: true, }, //8 total\r\n]\r\n\r\nexport const convertProductsToGrid = (products, doc = \"factura\") => {\r\n\r\n    let gridProducts;\r\n\r\n    switch (doc) {\r\n\r\n        case \"empowerment\":\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"], width: 50 },\r\n                        { value: product[\"name\"] },\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] },\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_EMPOWERMENT_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        case \"act\":\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"], width: 50 },\r\n                        { value: product[\"name\"] },\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] },\r\n                        { value: product[\"price\"] },\r\n                        { value: parseFloat(product[\"count\"]) * parseFloat(product[\"price\"]), readOnly: true, width: 150 },\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_ACT_GRID_ROW);\r\n            }\r\n            break;\r\n        case \"contract\":\r\n            {\r\n\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"] }, //0 ordNo\r\n                        { value: product[\"name\"] }, //1 product name\r\n                        { value: product[\"catalogCode\"], dataEditor: SelectEditor }, //2 catalogCode\r\n                        { value: product[\"barCode\"] }, //3 shrix code\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] }, //5 amount\r\n                        { value: product[\"price\"], }, //6 price\r\n                        { value: product[\"deliverySum\"] }, //9 delivery cost\r\n                        {\r\n                            value: product[\"count\"] * product[\"price\"] + parseFloat(product[\"deliverySum\"]),\r\n                            readOnly: true\r\n                        }\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_CONTRACT_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        case \"tty\":\r\n            {\r\n                gridProducts = products.map((product, index) => {\r\n                    return [\r\n                        { readOnly: true, value: index + 1, width: 50 }, //0 ordNo\r\n                        { value: product.name }, //1 product name\r\n                        { value: product.measureId, dataEditor: SelectMeasureEditor }, //2 measure\r\n                        { value: product.count }, //3 count\r\n                        { value: product.price }, //4 price\r\n                        { value: product.count * product.price, readOnly: true }, //5 total\r\n                        { value: product.deliveryCost }, //6 delivery cost\r\n                        { value: product.docs, }, //7 Docs\r\n                        { value: product.weightMeasureMethod, }, //8 weight measure method\r\n                        { value: product.itemClass, }, //9 item class\r\n                        { value: product.weightBrut, }, //10 brutto weight\r\n                        { value: product.weightNet, }, //11 netto weight\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_TTY_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        default:\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"] }, //0 ordNo\r\n                        { value: product[\"name\"] }, //1 product name\r\n                        { value: product[\"catalogCode\"], dataEditor: SelectEditor }, //2 catalogCode\r\n                        { value: product[\"barCode\"] }, //3 shrix code\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor }, //4 measure\r\n                        { value: product[\"count\"] }, //5 amount\r\n                        { value: product[\"baseSumma\"], }, //6 price\r\n                        { value: product[\"exciseRate\"] }, //7 aksiz rate\r\n                        { value: product[\"exciseSum\"], readOnly: true }, //8 aksiz amount\r\n                        { value: product[\"deliverySum\"] }, //9 delivery cost\r\n                        { value: product[\"vatRate\"] }, //10 VAT rate\r\n                        { value: product[\"vatRate\"] * product[\"baseSumma\"], readOnly: true }, //11 VAT amount\r\n                        { value: product[\"summa\"], readOnly: true, }, //12 total\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_FACTURA_GRID_ROW);\r\n            }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return gridProducts;\r\n}\r\n\r\nconst FACTURA_PRODUCT_FIELDS = {\r\n    0: \"ordNo\",\r\n\r\n}\r\n\r\n//#region Rich text editr configs\r\nexport const modules = {\r\n    toolbar: [\r\n        ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n        ['blockquote', 'code-block'],\r\n        ['image', 'link'],\r\n\r\n        //[{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n        [{ 'script': 'sub' }, { 'script': 'super' }], // superscript/subscript\r\n        [{ 'indent': '-1' }, { 'indent': '+1' }], // outdent/indent\r\n        //[{ 'direction': 'rtl' }],                         // text direction\r\n\r\n        [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\r\n        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n        [{ 'color': [] }, { 'background': [] }], // dropdown with defaults from theme\r\n        [{ 'font': [] }],\r\n        [{ 'align': [] }],\r\n        ['clean'] // remove formatting button\r\n    ],\r\n    imageDrop: true,\r\n}\r\n\r\nexport const formats = [\r\n    'header',\r\n    'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n    'list', 'bullet', 'indent',\r\n    'link', 'image', 'code-block', 'color', 'background',\r\n    'size', 'align', 'direction', 'indent', 'font', 'script'\r\n];\r\n\r\nexport const modulesForQuestion = {\r\n    toolbar: [\r\n        ['bold', 'italic', 'underline', ], // toggled buttons\r\n        ['code-block'],\r\n        ['image'],\r\n\r\n        //[{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n\r\n        ['clean'] // remove formatting button\r\n    ],\r\n    imageDrop: true,\r\n}\r\n\r\nexport const formatsForQuestion = [\r\n        'bold', 'italic', 'underline',\r\n        'list', 'bullet',\r\n        'image', 'code-block',\r\n    ]\r\n    //#endregion \r\n\r\n\r\nexport const getValidFileName = (fileName) => {\r\n    return fileName.replace(/[\\/|\\\\\\s:*!?\"<>]/g, \"_\")\r\n}","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, Upload, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectCurrentUser, selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_ACT_GRID_ROW } from '../../../utils/main';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nexport const setActClient = (seller, client) => {\r\n  return `   , \"${seller ?? \"___________\"}\"  ,      \"${client ?? '__________'}\"  ,     ,         .`;\r\n\r\n}\r\n\r\nconst ActForm = ({ token, match, user })=> {\r\n\r\n  const [form] = Form.useForm();\r\n  const { actId } = match.params;\r\n  const [initialData, setInitialData] = useState({actText: setActClient(user.name)})\r\n  const [isLoading, setIsloading] = useState(false);\r\n\r\n \r\n\r\n  useEffect(()=>{\r\n    if(actId){\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/acts/${actId}`,\r\n        method: \"GET\",\r\n      }).then(res=>{\r\n        let data = res.data;\r\n        data.contractDate=moment(data.contractDate);\r\n        data.created_at=moment(data.created_at);\r\n        data.actDate=moment(data.actDate);\r\n        data.updated_at=moment(data.updated_at);\r\n        console.log(data);\r\n  \r\n        setInitialData(res.data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.act_products, 'act'));\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n  \r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n    \r\n  };\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_ACT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 2 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ],  \r\n    [\r\n      { readOnly: true, value: 3 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 4 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n  ])\r\n\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n    console.log(rowId)\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  \r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };\r\n        \r\n\r\n        //Lets calculate\r\n        grid[row][5] = { ...grid[row][5], value: grid[row][3].value && grid[row][4].value ? grid[row][3].value * grid[row][4].value : 0};\r\n     \r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n        { readOnly: true, value: grid.length },                 //0 ordNo\r\n        { value: \"\" },                                          //1 product name\r\n        { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n        { value: '' },                                          //3 amount\r\n        { value: \"\", },                                         //4 price\r\n        { value: '', readOnly: true,}                           //5 total\r\n      ];\r\n    \r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n  \r\n  //#region form methods\r\n\r\n  const handleSubmit = (values)=>{\r\n    setIsloading(true);\r\n    console.log(values)\r\n    if(actId){\r\n      axios({\r\n        url:`/api/v1/acts/${actId}`,\r\n        method: 'PATCH',\r\n        data: {act: values, products: grid}\r\n      }).then(res=>{\r\n        setIsloading(false);\r\n        if(res.data.ok){\r\n          message.success(\"Akt yangilandi!\");\r\n        }\r\n        else{\r\n          message.error(\"Akt yangilashda xatolik!\");\r\n        }\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsloading(false)\r\n        message.error(\"Akt yangilashda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else{\r\n      axios({\r\n        url:'/api/v1/acts',\r\n        method: 'post',\r\n        data: {act: values, products: grid}\r\n      }).then(res=>{\r\n        setIsloading(false)\r\n        if(res.data.ok){\r\n          message.success(\"Akt yaratildi!\");\r\n        }\r\n        else{\r\n          message.error(\"Akt yaratishda xatolik!\");\r\n        }\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsloading(false)\r\n        message.error(\"Akt yaratishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[2].dataEditor = SelectEditor;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n  \r\n  return (\r\n    <div style={{padding: 15}}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish = {handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n      <h3>Akt yaratish</h3>\r\n       \r\n      <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"actNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Akt raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Akt raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date\"\r\n                name=\"actDate\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Akt sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Akt sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-n0\"\r\n                name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-date\"\r\n                name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n      </div>\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n        \r\n        <Row justify=\"space-between\">\r\n        <Col md={11}>  \r\n          <SellerForm form={form} docType=\"act\" />\r\n        </Col>\r\n\r\n        <Col md={11}>\r\n          <BuyerForm form={ form } docType=\"act\" />\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      \r\n      <div className=\"factura-data-sheet-container\">\r\n            <h3>Akt mazmuni</h3>\r\n              <Form.Item name=\"actText\">\r\n                <TextArea size=\"large\" rows={4} />\r\n              </Form.Item>\r\n          </div>\r\n\r\n      <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n          \r\n          \r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n<Row justify=\"space-between\">\r\n  <Col md={24} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"notes\">\r\n      <Input\r\n        size=\"large\"\r\n        placeholder=\" \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\"> </span>\r\n    </Form.Item>\r\n  </Col>\r\n  \r\n</Row>\r\n</div>\r\n          <div className=\"factura-data-sheet-container\">\r\n            <Row justify=\"space-around\">\r\n              <Col >\r\n                <Button \r\n                  loading={isLoading}\r\n                  primary\r\n                  htmlType=\"submit\"\r\n                  className=\"factra-action-btns save-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\"  />}>\r\n                     \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  className=\"factra-action-btns sing-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                    \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />} \r\n                  danger \r\n                  className=\"factra-action-btns\" \r\n                  size=\"large\">\r\n                     \r\n                  </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n\r\n          <Form.Item\r\n          name=\"actId\"\r\n          key=\"act-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken,\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ActForm);","import React, { Fragment } from 'react';\r\nimport { Input, Form, Row, Col, message, Switch, Select, Button } from 'antd';\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport PersonFetch from './person-fetch/person-fetch.component';\r\nimport { setActClient } from '../act/create/create.component';\r\n\r\nconst { Option } = Select;\r\n\r\nconst BuyerForm = ({ form, docType, remove, fieldList }) => {\r\n\r\n  const [isFacturaSingleSided, setIsFacturaSingleSided] = useState(false);\r\n  const [buyerBranches, setBuyerBranches] = useState([]);\r\n\r\n  const handleSingleSided = (value) => {\r\n    setIsFacturaSingleSided(value)\r\n  }\r\n\r\n  const handleFetchBuyer = e => {\r\n    console.log(e.target.value)\r\n    if (!isNaN(e.target.value)) {\r\n      if (e.target.value > 100000000 && e.target.value <= 999999999) {\r\n        //delete axios.defaults.headers.common[\"Authorization\"]\r\n        axios({\r\n          url: \r\n          //\"http://cabinet.ahadjon.onlinefactura.uz/api/get-company\",\r\n          `/api/v1/companies/tin/${e.target.value}`,\r\n          method: \"GET\",\r\n          // headers:{\r\n          //   \"Content-Type\":\"application/x-www-form-urlencoded\"\r\n          // },\r\n          data: {\r\n            tin: e.target.value\r\n          }\r\n        }).then(res => {\r\n          //setBuyerData(res.data)\r\n          const { \r\n            tin, \r\n            accountant, \r\n            account, \r\n            address, \r\n            phone, \r\n            name, \r\n            fullName, \r\n            mfo, \r\n            directorName,\r\n            directorTin, \r\n            regCode } = res.data;\r\n\r\n          let data = {\r\n            buyerTin: tin,\r\n            buyerAccountant: accountant,\r\n            buyerAccount: account,\r\n            buyerAddress: address,\r\n            buyerMobilePhone: phone,\r\n            buyerName: name ?? fullName,\r\n            buyerMfo: mfo,\r\n            buyerDirector: directorName,\r\n            buyerDirectorTin: directorTin,\r\n            buyerVatRegCode: regCode\r\n          }\r\n\r\n          if(docType===\"act\"){\r\n            form.setFieldsValue({\r\n              actText: setActClient(form.getFieldValue(\"sellerName\"), name ?? fullName)\r\n            })\r\n          }\r\n\r\n\r\n          if(fieldList){\r\n            let fetcherData = form.getFieldValue(\"contract_partners\");\r\n            \r\n            fetcherData[fieldList.name] = {...fetcherData[fieldList.name], ...data}\r\n\r\n            setBuyerBranches(res.data.branches ?? []);\r\n\r\n            form.setFieldsValue({contract_partners: [...fetcherData]})\r\n          }else{\r\n            \r\n            form.setFieldsValue(data)\r\n          }\r\n         \r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      } else {\r\n        form.setFieldsValue({\r\n          buyerAccountant: null,\r\n          buyerAccount: null,\r\n          buyerAddress: null,\r\n          buyerMobilePhone: null,\r\n          buyerName: null,\r\n          buyerMfo: null,\r\n          buyerDirector: null,\r\n          buyerVatRegCode: null\r\n        })\r\n      }\r\n    } else {\r\n      message.warning(\"STIR notog'ri kiritildi!\")\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <h3> </h3>\r\n      {\r\n        docType ===\"contract\"\r\n        ? <PersonFetch \r\n          form={form} \r\n          pTin={fieldList ? [fieldList.name,\"buyerPhysicalTin\"] : \"buyerPhysicalTin\"} \r\n          pName={fieldList ? [fieldList.name, \"buyerPhysicalFio\"] : \"buyerPhysicalFio\"} \r\n          tinLabel=\"Jis. Shaxs STIR\" nameLabel=\"Jis. Shaxs FIO\" tinCol={11} nameCol={11} />\r\n        : null\r\n      }\r\n      \r\n      <Row justify=\"space-between\">\r\n        <Col md={docType !== \"factura\" ? 24 : 11}>\r\n          <Form.Item>\r\n            <Form.Item\r\n              key={fieldList ? `dyna-form-item-inn-buyer-${fieldList.key}` : \"dyna-form-item-inn-buyer\"}\r\n              name={fieldList ? [fieldList.name,\"buyerTin\"] : \"buyerTin\"}\r\n              rules={[{ required: true }]}\r\n            >\r\n              <Input\r\n                onChange={handleFetchBuyer}\r\n                size=\"large\"\r\n                placeholder=\"Oluvchi INN\" />\r\n            </Form.Item>\r\n            <span className=\"custom-input-label-1\">INN</span>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col md={docType !== \"factura\" ? 0 : 11}>\r\n          <h4>Bir tomolaman fakturami?</h4>\r\n          <Switch\r\n            onChange={handleSingleSided}\r\n            checkedChildren={<CheckOutlined />}\r\n            unCheckedChildren={<CloseOutlined />}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      {\r\n        isFacturaSingleSided ?\r\n          <div>\r\n            <h3>Turi</h3>\r\n            <Form.Item\r\n              key=\"sigle-sided-factura-type-1\"\r\n              name={fieldList ? [fieldList.name,\"singleSidedType\"] : \"singleSidedType\"}\r\n              >\r\n              <Form.Item>\r\n                <Select bordered={false} size=\"large\">\r\n                  <Option value={1}> . </Option>\r\n                  <Option value={2}>  </Option>\r\n                  <Option value={3}> </Option>\r\n                  <Option value={4}>,   . </Option>\r\n                  <Option value={5}> </Option>\r\n                </Select>\r\n\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\">Kontragent turi</span>\r\n            </Form.Item>\r\n          </div>\r\n          : null\r\n      }\r\n\r\n      {\r\n        !isFacturaSingleSided ?\r\n          <div>\r\n            { docType==\"contract\" ? null : <h3> </h3> }\r\n            <Form.Item>\r\n              <Form.Item\r\n                rules={[{ required: true }]}\r\n                key=\"buyer-name-1-buyerName\"\r\n                name={fieldList ? [fieldList.name,\"buyerName\"] : \"buyerName\"}\r\n              >\r\n                <Input\r\n                  onChange={val=>{\r\n                    form.setFieldsValue({\r\n                      actText: setActClient(form.getFieldValue(\"sellerName\"), val.target.value)})\r\n                    }\r\n                  }\r\n                  size=\"large\"\r\n                  placeholder=\"H\" />\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\">H</span>\r\n            </Form.Item>\r\n            {\r\n              docType !== \"act\" ?\r\n                <Fragment>\r\n                  {\r\n                    docType === \"contract\" || docType === \"empowerment\"\r\n                      ? null\r\n                      : <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account-vatreg\"\r\n                          name={fieldList ? [fieldList.name, \"buyerVatRegCode\"] : \"buyerVatRegCode\"}\r\n                        >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder=\"   \"\r\n                          />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">   </span>\r\n                      </Form.Item>\r\n                  }\r\n\r\n                  <Row justify=\"space-between\">\r\n                    <Col md={11} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n\r\n                          name={fieldList ? [fieldList.name,\"buyerAccount\"] : \"buyerAccount\"}\r\n                          >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder=\" \" />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\"> </span>\r\n                      </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col md={11}>\r\n                      {\r\n                        docType === \"contract\"\r\n                          ? <Form.Item>\r\n                          <Form.Item\r\n                            key=\"seler-account\"\r\n                            name={fieldList ? [fieldList.name,\"buyerMobilePhone\"] : \"buyerMobilePhone\"}\r\n                          >\r\n                            <Input\r\n                              size=\"large\"\r\n                              placeholder=\"Mobile phone\"\r\n                            />\r\n                          </Form.Item>\r\n                          <span className=\"custom-input-label-1\">Mobile phone</span>\r\n                        </Form.Item>\r\n                          : <Form.Item>\r\n                            <Form.Item\r\n                              key=\"seler-account\"\r\n                              name={fieldList ? [fieldList.name,\"buyerMfo\"] : \"buyerMfo\"}\r\n                            >\r\n                              <Input\r\n                                size=\"large\"\r\n                                placeholder=\"\"\r\n                              />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\"></span>\r\n                          </Form.Item>\r\n                      }\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Form.Item>\r\n                    <Form.Item\r\n                      rules={[{ required: true }]}\r\n                      key=\"seler-account\"\r\n                      name={fieldList ? [fieldList.name,\"buyerAddress\"] : \"buyerAddress\"}\r\n                    >\r\n                      <Input\r\n                        size=\"large\"\r\n                        placeholder=\"\" />\r\n                    </Form.Item>\r\n                    <span className=\"custom-input-label-1\"></span>\r\n                  </Form.Item>\r\n                    \r\n                  {\r\n                      docType===\"contract\"?\r\n                      <Col md={24} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n                          name={fieldList ? [fieldList.name,\"buyerBranch\"] : \"buyerBranch\"}\r\n                        >\r\n                          <Select\r\n                            bordered={false}\r\n                            size=\"large\"\r\n                            defaultActiveFirstOption\r\n                            placeholder=\"\">\r\n                              {buyerBranches.map(item=><Option value={item.tin}>{ item.tin } - {item.name}</Option>)}\r\n                          </Select>\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">Filiali</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    :null\r\n                    }\r\n\r\n                  <Row justify=\"space-between\" align=\"stretch\">\r\n                    <Col md={11} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n                          name={fieldList ? [fieldList.name,\"buyerDirector\"] : \"buyerDirector\"}\r\n                        >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder=\"\" />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\"></span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col md={11} >\r\n                      {\r\n                        docType === \"contract\"\r\n                          ? (remove && fieldList ? <Button \r\n                              className=\"factra-action-btns\" \r\n                              style={{width: '100%'}} \r\n                              danger \r\n                              size=\"large\" \r\n                              onClick={()=>remove(fieldList.name)} >\r\n                                Olib tashlash\r\n                                </Button> \r\n                                : null ) \r\n                          : <Form.Item>\r\n                            <Form.Item\r\n                              key=\"seler-account\"\r\n                              name={fieldList ? [fieldList.name,\"buyerAccountant\"] : \"buyerAccountant\"}\r\n                            >\r\n                              <Input\r\n                                size=\"large\"\r\n                                placeholder=\" \" />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\"> </span>\r\n                          </Form.Item>\r\n                      }\r\n\r\n                    </Col>\r\n                    {\r\n                    docType===\"contract\" ?\r\n                    <Col md={11}>\r\n                      <Form.Item\r\n                        key=\"seler-account-buyer-dir-tin\"\r\n                        name={ fieldList ? [fieldList.name, \"buyerDirectorTin\"] :\"buyerDirectorTin\"}\r\n                        >\r\n                        <Input\r\n                          type=\"hidden\"\r\n                          size=\"large\"\r\n                          placeholder=\" INN\" />\r\n                      </Form.Item>\r\n                      \r\n                      </Col>\r\n                    : null\r\n                  }\r\n                  </Row>\r\n                  \r\n                  \r\n                </Fragment>\r\n                : null\r\n            }\r\n          </div>\r\n          : null\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BuyerForm;","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, Upload, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_FACTURA_GRID_ROW } from '../../../utils/main';\r\nimport PersonFetch from '../../common/person-fetch/person-fetch.component';\r\n\r\nconst { Option } = Select;\r\n\r\nconst FacturaCreateForm = ({ token, match })=> {\r\n\r\n  const [form] = Form.useForm();\r\n  const { facturaId } = match.params;\r\n  const [initialData, setInitialData] = useState({facturaType: 0})\r\n  const [facturaType, setFacturaType] = useState();\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    if(facturaId){\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/facturas/${facturaId}`,\r\n        method: \"GET\",\r\n      }).then(res=>{\r\n        let data = res.data;\r\n        data.contractDate=moment(data.contractDate);\r\n        data.created_at=moment(data.created_at);\r\n        data.facturaDate=moment(data.facturaDate);\r\n        data.empowermentDateOfIssue=moment(data.empowermentDateOfIssue);\r\n        data.oldFacturaDate=moment(data.oldFacturaDate);\r\n        data.updated_at=moment(data.updated_at);\r\n        console.log(data);\r\n  \r\n        setInitialData(res.data);\r\n        setGrid(convertProductsToGrid(res.data.factura_products));\r\n        form.resetFields();\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n  \r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n    \r\n  };\r\n\r\n  const FACTURA_TYPES = {\r\n    \"STANDARD\": 0,\r\n    \"QOSHIMCHA\": 1,\r\n    \"HARAJATLARNI QOPLASH\": 2,\r\n    \"TOLOVSIZ\": 3,\r\n    \"TUZATUVCHI\": 4\r\n  }\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_FACTURA_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectEditor},                //2 catalogCode\r\n      { value: \"\" },                                          //3 shrix code\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n      { value: \"\", },                                         //6 price\r\n      { value: '' },                                          //7 aksiz rate\r\n      { value: '', readOnly: true },                          //8 aksiz amount\r\n      { value: '' },                                          //9 delivery cost\r\n      { value: \"\" },                                          //10 VAT rate\r\n      { value: '', readOnly: true },                          //11 VAT amount\r\n      { value: '', readOnly: true,},                          //12 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 2 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectEditor},                //2 catalogCode\r\n      { value: \"\" },                                          //3 shrix code\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n      { value: \"\", },                                         //6 price\r\n      { value: '' },                                          //7 aksiz rate\r\n      { value: '', readOnly: true },                          //8 aksiz amount\r\n      { value: '' },                                          //9 delivery cost\r\n      { value: \"\" },                                          //10 VAT rate\r\n      { value: '', readOnly: true },                          //11 VAT amount\r\n      { value: '', readOnly: true,},                          //12 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 3 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectEditor},                //2 catalogCode\r\n      { value: \"\" },                                          //3 shrix code\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n      { value: \"\", },                                         //6 price\r\n      { value: '' },                                          //7 aksiz rate\r\n      { value: '', readOnly: true },                          //8 aksiz amount\r\n      { value: '' },                                          //9 delivery cost\r\n      { value: \"\" },                                          //10 VAT rate\r\n      { value: '', readOnly: true },                          //11 VAT amount\r\n      { value: '', readOnly: true,},                          //12 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 4 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectEditor},                //2 catalogCode\r\n      { value: \"\" },                                          //3 shrix code\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n      { value: \"\", },                                         //6 price\r\n      { value: '' },                                          //7 aksiz rate\r\n      { value: '', readOnly: true },                          //8 aksiz amount\r\n      { value: '' },                                          //9 delivery cost\r\n      { value: \"\" },                                          //10 VAT rate\r\n      { value: '', readOnly: true },                          //11 VAT amount\r\n      { value: '', readOnly: true,},                          //12 total\r\n    ], \r\n  ])\r\n\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n    console.log(rowId)\r\n\r\n    console.log(grid)\r\n    grid.splice(rowId, 1)\r\n    console.log(grid)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };\r\n        \r\n\r\n        //Lets calculate\r\n        let priceamount = parseFloat(grid[row][5].value) * parseFloat(grid[row][6].value);\r\n        let aksizamount = parseFloat(priceamount * grid[row][7].value / 100);\r\n        \r\n        grid[row][8]={ value: parseFloat(aksizamount), readOnly: true };\r\n        \r\n        let vatamout = parseFloat(priceamount * parseFloat(grid[row][10].value) / 100);\r\n        \r\n        grid[row][11] = { value: vatamout, readOnly: true }\r\n\r\n        grid[row][12] = { value: priceamount ? parseFloat(priceamount + aksizamount + vatamout + parseFloat(grid[row][9].value, 2), 2) : 0, readOnly: true}\r\n       \r\n     \r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n      { readOnly: true, value:    grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectEditor}, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 aksiz rate\r\n      { value: '', readOnly: true }, //8 aksiz amount\r\n      { value: '' }, //9 delivery cost\r\n      { value: \"\" }, //10 VAT rate\r\n      { value: '', readOnly: true }, //11 VAT amount\r\n      { value: '', readOnly: true }, //12 total\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n  \r\n  //#region form methods\r\n\r\n  const handleSubmit = (values)=>{\r\n    setSaveLoading(true);\r\n    console.log(values)\r\n    if(facturaId){\r\n      axios({\r\n        url:`/api/v1/facturas/${facturaId}`,\r\n        method: 'PATCH',\r\n        data: {factura: values, products: grid}\r\n      }).then(res=>{\r\n        if(res.data.ok){\r\n          message.success(\"Faktura o'zgartirildi!\")\r\n        }else{\r\n          message.error(\"Faktura o'zgartirishda xatolik!\");\r\n        }\r\n        console.log(res)\r\n        setSaveLoading(false);\r\n      }).catch(err=>{\r\n        message.error(\"Faktura o'zgartirishda xatolik!\");\r\n        console.log(err)\r\n        setSaveLoading(false);\r\n      })\r\n    } else{\r\n      axios({\r\n        url:'/api/v1/facturas',\r\n        method: 'post',\r\n        data: {factura: values, products: grid}\r\n      }).then(res=>{\r\n        if(res.data.ok){\r\n          message.success(\"Faktura yaratili!\")\r\n        }\r\n        else{\r\n          message.error(\"Faktura yaratishda xatolik!\");\r\n        }\r\n        console.log(res)\r\n        setSaveLoading(false);\r\n      }).catch(err=>{\r\n        console.log(err)\r\n        message.error(\"Faktura yaratishda xatolik!\");\r\n        setSaveLoading(false);\r\n      })\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[2].dataEditor = SelectEditor;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n  \r\n  return (\r\n    <div style={{padding: 15}}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish = {handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n      <h3> </h3>\r\n      <Row justify=\"space-between\">\r\n          <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"facturaType\"\r\n                >\r\n                  <Select\r\n                    onChange={setFacturaType}\r\n                    bordered={false}\r\n                    size=\"large\"\r\n                    placeholder=\"Faktura turi\">\r\n                      <Option value={FACTURA_TYPES[\"STANDARD\"]}>Standard</Option>\r\n                      <Option value={FACTURA_TYPES[\"QOSHIMCHA\"]}>Qo'shimcha</Option>\r\n                      <Option value={FACTURA_TYPES[\"HARAJATLARNI QOPLASH\"]}>Harajatni qoplash</Option>\r\n                      <Option value={FACTURA_TYPES[\"TOLOVSIZ\"]}>To'lovsiz</Option>\r\n                      <Option value={FACTURA_TYPES[\"TUZATUVCHI\"]}>Tuzatuvchi</Option>\r\n                    </Select>\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Faktura turi</span>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col md={facturaType===FACTURA_TYPES[\"QOSHIMCHA\"] || facturaType===FACTURA_TYPES[\"TUZATUVCHI\"] ? 11 : 0}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-facutura-no-old\"\r\n                name=\"oldFacturaId\">\r\n                  <Input\r\n                    rules={[{required: true}]}\r\n                    size=\"large\"\r\n                    placeholder=\"Eski faktura ID\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Eski faktura ID</span>\r\n              </Form.Item>\r\n          </Col>\r\n      </Row>  \r\n      <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"facturaNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Faktura raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Faktura raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date\"\r\n                name=\"facturaDate\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Faktura sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Faktura sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-n0\"\r\n                name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-date\"\r\n                name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n      </div>\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n        \r\n        <Row justify=\"space-between\">\r\n        <Col md={11}>  \r\n          <SellerForm form={form} />\r\n        </Col>\r\n\r\n        <Col md={11}>\r\n          <BuyerForm form={ form } docType=\"factura\" />\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n          \r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={5} >\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"empowerment-no\"\r\n              name=\"empowermentNo\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\" \" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"> </span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={5}>\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"seler-account-empowerment-dateof-issue\"\r\n              name=\"empowermentDateOfIssue\">\r\n                <DatePicker\r\n                  size=\"large\"\r\n                  placeholder=\" \" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"> </span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={12}>\r\n              <PersonFetch \r\n                pName=\"agentFio\"\r\n                pTin=\"agentTin\"\r\n                nameLabel=\"  ...\"\r\n                tinLabel=\"\"\r\n                tinCol={11}\r\n                nameCol={11}\r\n                form={form}\r\n              />\r\n            </Col>\r\n          \r\n          </Row>\r\n\r\n         \r\n\r\n<Row justify=\"space-between\">\r\n  <Col md={24} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"notes\">\r\n      <Input\r\n        size=\"large\"\r\n        placeholder=\" \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\"> </span>\r\n    </Form.Item>\r\n  </Col>\r\n  \r\n</Row>\r\n</div>\r\n          <div className=\"factura-data-sheet-container\">\r\n            <Row justify=\"space-around\">\r\n              <Col >\r\n                <Button \r\n                  loading={saveLoading}\r\n                  primary\r\n                  htmlType=\"submit\"\r\n                  className=\"factra-action-btns save-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\"  />}>\r\n                     \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  className=\"factra-action-btns sing-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                    \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />} \r\n                  danger \r\n                  className=\"factra-action-btns\" \r\n                  size=\"large\">\r\n                     \r\n                  </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <Form.Item\r\n      key=\"hidden-factura-id\"\r\n      name=\"facturaId\"\r\n      >\r\n        <Input \r\n        type=\"hidden\"\r\n        />\r\n\r\n      </Form.Item>\r\n      <Form.Item\r\n      key=\"hidden-factura-product-id\"\r\n      name=\"facturaProductId\"\r\n      >\r\n        <Input \r\n        type=\"hidden\"\r\n        />\r\n\r\n      </Form.Item>\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken\r\n})\r\n\r\nexport default connect(mapStateToProps)(FacturaCreateForm);","//ENVIRONMENT VARIABLES\r\nexport const API_HOST = process.env.NODE_ENV === \"development\" ?\r\n    \"http://127.0.0.1:8000\" :\r\n    \"https://murmuring-inlet-47691.herokuapp.com\";\r\nexport const SELF_HOST = process.env.NODE_ENV === \"development\" ?\r\n    \"http://127.0.0.1:3000\" :\r\n    \"https://ondoc.herokuapp.com\";\r\n\r\nexport const IMPORTANCE = {\r\n        1: {color: \"#00FF00\", text: \"Uncha muxim emas\"},\r\n        2: {color: \"#7FFF00\", text: \"Muxim emas\"},\r\n        3: {color: \"#FFAF00\", text: \"Muxim\"},\r\n        4: {color: \"#FF6900\", text: \"Muximroq\"},\r\n        5: {color: \"#FF0000\", text: \"O'ta muxim\"}\r\n    }","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst FacturaView = ({ match, user }) => {\r\n\r\n    const {facturaId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/facturas/get-pdf/${facturaId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(FacturaView)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component';\r\nimport FacturaCreateForm from './create/create.component'\r\nimport FacturaView from \"./view/view.component\";\r\n\r\nconst FacturaIndex = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} component={HomePage} />\r\n            <Route exact path={`${match.path}/create`} component={FacturaCreateForm} />\r\n            <Route exact path={`${match.path}/view/:facturaId`} component={FacturaView} />\r\n            <Route exact path={`${match.path}/edit/:facturaId`} component={FacturaCreateForm} />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FacturaIndex\r\n","const USER_ACTIONS = {\r\n    SUCCESS_LOGIN: \"SUCCESS_LOGIN\",\r\n    LOG_OUT: \"LOG_OUT\",\r\n    SET_USER_ONLY: \"SET_USER_ONLY\",\r\n    SET_CABINET_DATA: \"SET_CABINET_DATA\",\r\n    SET_USER_COMPANIES: \"SET_USER_COMPANIES\"\r\n}\r\n\r\nexport default USER_ACTIONS;","import USER_ACTIONS from \"./user.action-types\";\r\n\r\n\r\nexport const succesLogIn = data => ({\r\n    type: USER_ACTIONS.SUCCESS_LOGIN,\r\n    payload: data,\r\n})\r\n\r\nexport const logOut = () => ({\r\n    type: USER_ACTIONS.LOG_OUT\r\n})\r\n\r\nexport const setUser = user=>({\r\n    type: USER_ACTIONS.SET_USER_ONLY,\r\n    payload: user\r\n})\r\n\r\nexport const setCabinetData = data=>({\r\n    type: USER_ACTIONS.SET_CABINET_DATA,\r\n    payload: data\r\n})\r\n\r\nexport const setUserCompanies = data=>({\r\n    type: USER_ACTIONS.SET_USER_COMPANIES,\r\n    payload: data\r\n})","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Badge, Modal, Tag } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport './right-sidebar.style.scss';\r\nimport { IMPORTANCE } from '../../env';\r\nimport { setCabinetData } from '../../redux/user/user.action';\r\nimport { connect } from 'react-redux';\r\n\r\nconst RightSidebar = ({ location, admin, setData }) => {\r\n\r\n    \r\n\r\n    const [active, setActive] = useState({})\r\n    const [notifications, setNotifications] = useState([])\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [badgeCount, setBedgeCount]=useState({\r\n        factura_awaiting: 0,\r\n        contract_awaiting: 0,\r\n        act_awaiting:0,\r\n        emp_awating: 0,\r\n        tty_awaiting:0,\r\n    })\r\n    useEffect(()=>{\r\n        setActive({\r\n            cabinet: location.pathname===\"/cabinet\",\r\n            factura: location.pathname.includes(\"/factura\"),\r\n            contract: location.pathname.includes(\"/contract\"),\r\n            empowerment: location.pathname.includes(\"/empowerment\"),\r\n            act: location.pathname.includes(\"/act\"),\r\n            tty: location.pathname.includes(\"/tty\"),\r\n            freeDoc: location.pathname.includes(\"/free-template\"),\r\n            notification: location.pathname.includes(\"/notification\")\r\n        })\r\n    }, [location.pathname])\r\n\r\n    const closeModel = ()=>{\r\n        setShowModal(false);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/v1/cabinet\"\r\n        }).then(res=>{\r\n            const { notifications } = res.data\r\n            setData(res.data)\r\n            setNotifications(notifications);\r\n            if(Array.isArray(notifications) && notifications.length){\r\n                setShowModal(true)\r\n            }\r\n            setBedgeCount(res.data)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"cabiner-right-sidebar-cmain-container\">\r\n\r\n            <Modal \r\n            bodyStyle={{width: '70wv'}}\r\n            title=\"Notifications\"\r\n            visible={showModal}\r\n            onOk={closeModel}\r\n            onCancel={closeModel}\r\n            cancelButtonProps={{style: {display: \"none\"}}}\r\n            >\r\n                {\r\n                    notifications.map((n, index)=><div style={{marginBottom: 30}}>\r\n                        <h3>{index+1}. {n.title_uz}</h3>\r\n                        <div><Tag \r\n                        style={{marginRight: 10}}\r\n                            color={IMPORTANCE[n.importance].color}>\r\n                                {IMPORTANCE[n.importance].text} \r\n                        </Tag>\r\n                        {moment(n.updated_at).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                        </div>\r\n                        <div>{ n.body_uz }</div>\r\n                        <hr/>\r\n                    </div>)\r\n                }\r\n            </Modal>\r\n            \r\n\r\n            <div className=\"cabiner-right-sidebar-sub-container\">\r\n                <div className=\"cabinet-documents-action-containers-bloks\">\r\n                    <Link to=\"/cabinet\">\r\n                        <div className={`action-bloks ${active.cabinet ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"home\" /> Bosh sahifa\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/factura\">\r\n                            <div className={`action-bloks ${active.factura ? 'active' : ''}`}>\r\n                                <FontAwesomeIcon icon=\"file-invoice\" className=\"action-icon\" /> Faktura\r\n                                <Badge style={{marginLeft: 10}} count={badgeCount.factura_awaiting} />\r\n                            </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/contract\">\r\n                        <div className={`action-bloks ${active.contract ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"file-contract\" className=\"action-icon\"/> Shartnoma\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.contract_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/act\">\r\n                        <div className={`action-bloks ${active.act ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon={[\"far\", \"file-alt\"]} className=\"action-icon\"/> Akt\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.act_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/empowerment\">\r\n                        <div className={`action-bloks ${active.empowerment ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"file-signature\" className=\"action-icon\"/>Ishonchnoma\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.emp_awating} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/tty\">\r\n                        <div className={`action-bloks ${active.tty ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon={[\"far\", \"file-archive\"]} className=\"action-icon\"/> TTY\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.tty_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    {\r\n                        admin \r\n                        ? <Link to=\"/admin/notification\">\r\n                            <div className={`action-bloks ${active.notification ? 'active' : ''}`}>\r\n                                <FontAwesomeIcon icon={[\"far\", \"bell\"]}  className=\"action-icon\"/> Notification\r\n                                <Badge style={{marginLeft: 10}} count={3} />\r\n                            </div>\r\n                        </Link>\r\n                        : null\r\n                    }\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    setData: data => dispatch(setCabinetData(data))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(withRouter(RightSidebar));\r\n","import React from 'react';\r\nimport './admin-card.style.scss';\r\nimport { Badge, Card } from 'antd';\r\nimport {PlusCircleTwoTone} from '@ant-design/icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AdminCard = ({ data })=>{\r\n    const {title, icon, color, count} = data\r\n    return(\r\n    <Card className=\"admin-card-container\" >\r\n        <div className={`admin-card-icon-field admin-card-${color}`} ><FontAwesomeIcon icon={icon} className=\"admin-card-icon\"/></div>\r\n        <div className=\"admin-card-title\">{title}</div>\r\n        <div className=\"admin-card-content\">{count}</div>\r\n        \r\n    </Card>\r\n)}\r\n\r\nexport default AdminCard;","import { Col, Row } from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport AdminCard from '../../components/admin-card/admin-card.component';\r\nimport DynaGrid from '../../components/dyna-grid/dyna-grid.component';\r\nimport { selectCabinetData } from '../../redux/user/user.selector';\r\nimport './home.component.scss';\r\n\r\nconst CabinetHome = ({ cabinetData }) => {\r\n\r\n    const [activeTab, setActiveTab] = useState(0)\r\n    const { income, outcome, rejected, saved } = cabinetData ?? {};\r\n    const TabList= {\r\n        0: \"Kiruvchi hujjatlar\",\r\n        1: \"Chiquvchi hujjatlar\",\r\n        2: \"Rad etilgan hujjatlar\",\r\n        3: \"Saqlangan hujjatlar\"\r\n    }\r\n\r\n    const list_of_docs = [\r\n        {\r\n            title: \"Kiruvchi\",\r\n            count: income,\r\n            icon: \"cloud-download-alt\",\r\n            color: \"purple\",\r\n            footer: \"Faktura yaratish\",\r\n            create_url: \"/cabinet/documents/waiting\"\r\n        },\r\n        {\r\n            title: \"Chiquvchi\",\r\n            count: outcome,\r\n            icon: \"cloud-upload-alt\",\r\n            color: \"green\",\r\n            footer: \"Shartnoma yaratish\",\r\n            create_url: \"/cabinet/documents/signed\"\r\n        },\r\n        {\r\n            title: \"Rad etilgan\",\r\n            count: rejected,\r\n            icon: \"ban\",\r\n            color: \"pink\",\r\n            footer: \"Akt yaratish\",\r\n            create_url: \"/cabinet/documents/rejected\"\r\n        },\r\n        {\r\n            title: \"Saqlangan\",\r\n            count: saved,\r\n            icon: [\"far\", \"bookmark\"],\r\n            color: \"orange\",\r\n            footer: \"Ishonchnoma yaratish\",\r\n            create_url: \"/cabinet/documents/saved\"\r\n        },\r\n    \r\n    ]\r\n\r\n    const dyna_config = {\r\n        dataSourcePath: `/api/v1/cabinet/${activeTab}?hi`,\r\n        addActionPath: 'actions/add',\r\n        viewActionPath: '/cabinet/{docType}/view',\r\n        replaceInViewPath: \"docType\",\r\n        deleteConfirmText: \"Shu faktura ochirilsinmi?\",\r\n        actions: {\r\n            edit: activeTab===3 ? true : false,\r\n            delete: activeTab===3 ? true : false,\r\n            view: true\r\n        },\r\n        allColumns: [\r\n            {\r\n                title: \"Hujjat \",\r\n                dataIndex: 'docNo',\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: \"Hujjat turi\",\r\n                dataIndex: \"docType\",\r\n                isFilterable: true,\r\n                filters: ['factura', 'act', 'contract', 'empowerment', \"tty\"]\r\n            },\r\n            {\r\n                title: \"Kontrakt \",\r\n                dataIndex: 'contractNo',\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: \"Sotuvchi\",\r\n                dataIndex: 'sellerName',\r\n                isSearchable: true,\r\n                width: 150\r\n            },\r\n            {\r\n                title: \"Sotuvchi STIR\",\r\n                dataIndex: \"sellerTin\",\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: \"Oluvchi\",\r\n                dataIndex: 'buyerName',\r\n                isSearchable: true,\r\n                width: 150\r\n            },\r\n            {\r\n                title: \"Oluvchi STIR\",\r\n                dataIndex: \"buyerTin\",\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: \"Holati\",\r\n                dataIndex: \"status\",\r\n                isFilterable: true,\r\n                width: 70,\r\n                filters: [\r\n                    {value: 1, text: \"1-Saqlangan\"}, \r\n                    {value: 2, text: \"2-Imzo kutilmoqda\"}, \r\n                    {value: 3, text: \"3-Jo'natilgan\"}, \r\n                    {value: 4, text: \"4-Xatolik yuzbergan\"},\r\n                    {value: 5, text: \"5-Qaytarib yuborilgan\"}, \r\n                    {value: 6, text: \"6-Qabul qilingan\"}, \r\n                    {value: 7, text: \"7-Muaffaqiyatli\"}]\r\n            },\r\n            {\r\n                title: 'Yaratilgan sanasi',\r\n                dataIndex: \"created_at\",\r\n                dataType: 'date',\r\n            },\r\n        ]\r\n    }\r\n\r\n    return (\r\n        <div className=\"cabinet-home-main-container\">\r\n            <div className=\"cabinet-home-sub-container\">\r\n                <Row gutter={[16, 16]}>\r\n                    {\r\n                        list_of_docs.map((data, index)=><Col onClick={()=>setActiveTab(index)} md={6}>\r\n                            <AdminCard data={data} />\r\n                        </Col>)\r\n                    }\r\n                    \r\n                </Row>\r\n                <DynaGrid\r\n                    title={TabList[activeTab]}\r\n                    config={dyna_config}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    cabinetData: selectCabinetData\r\n})\r\n\r\nexport default connect(mapStateToProps)(CabinetHome)\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, Upload, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_EMPOWERMENT_GRID_ROW } from '../../../utils/main';\r\n\r\nconst EmpowermentForm = ({ token, match })=> {\r\n\r\n  const [form] = Form.useForm();\r\n  const { empowermentId } = match.params;\r\n  const [initialData, setInitialData] = useState()\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n\r\n  useEffect(()=>{\r\n    if(empowermentId){\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/empowerments/${empowermentId}`,\r\n        method: \"GET\",\r\n      }).then(res=>{\r\n        let data = res.data;\r\n        data.contractDate=moment(data.contractDate);\r\n        data.created_at=moment(data.created_at);\r\n        data.empowermentDateOfExpire=moment(data.empowermentDateOfExpire);\r\n        data.empowermentDateOfIssue=moment(data.empowermentDateOfIssue);\r\n        data.agentPassportDateOfIssue=moment(data.agentPassportDateOfIssue);\r\n        data.updated_at=moment(data.updated_at);\r\n  \r\n        setInitialData(data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.products, \"empowerment\"));\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n  \r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n    \r\n  };\r\n\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_EMPOWERMENT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 2 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 3 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 4 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n    ], \r\n  ])\r\n\r\n  const fetchAgent = e=>{\r\n    let val = e.target.value;\r\n    if(!isNaN(val)){\r\n\r\n      if(val > 100000000 && val<999999999){\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"/api/v1/users/tin/\"+val\r\n        })\r\n        .then(res=>{\r\n          const { \r\n            name, \r\n            fullName, \r\n            passIssuedAt, \r\n            passOrg,\r\n            passNum \r\n          } = res.data;\r\n          console.log(moment('2020-00-00 00:00:00')._isValid)\r\n          form.setFieldsValue({\r\n            agentFio: fullName ?? name,\r\n            agentPassportDateOfIssue: moment(passIssuedAt)._isValid ? moment(passIssuedAt) : null,\r\n            agentPassportIssuedBy: passOrg,\r\n            agentPassportNumber: passNum\r\n          })\r\n        })\r\n      }\r\n\r\n    }else{\r\n      message.warning(\"STIR notog'ri kiritildi!\");\r\n    }\r\n  }\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n    console.log(rowId)\r\n\r\n    console.log(grid)\r\n    grid.splice(rowId, 1)\r\n    console.log(grid)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };        \r\n\r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n      { readOnly: true, value:    grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n  \r\n  //#region form methods\r\n\r\n  const handleSubmit = (values)=>{\r\n    setIsLoading(true)\r\n    console.log(values)\r\n    if(empowermentId){\r\n      axios({\r\n        url:`/api/v1/empowerments/${empowermentId}`,\r\n        method: 'PATCH',\r\n        data: {emp: values, products: grid}\r\n      }).then(res=>{\r\n        console.log(res)\r\n        setIsLoading(false);\r\n        if(res.data.ok){\r\n          message.success(\"Ishonchnoma ozgartirildi!\")\r\n        }\r\n        else{\r\n          message.error(\"Ishonchnoma o'zgartirishda xatolik!\");\r\n        }\r\n      }).catch(err=>{\r\n        setIsLoading(false);\r\n        message.error(\"Ishonchnoma o'zgartirishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else{\r\n      axios({\r\n        url:'/api/v1/empowerments',\r\n        method: 'post',\r\n        data: {emp: values, products: grid}\r\n      }).then(res=>{\r\n        setIsLoading(false)\r\n        if(res.data.ok){\r\n          message.success(\"Ishonchnma yaratildi!\");\r\n        }else{\r\n          message.error(\"Ishonchnoma yaratishda xatolik\");\r\n        }\r\n\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsLoading(false);\r\n        message.error(\"Ishonchnoma yaratishda xatolik\");\r\n        console.log(err)\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n  \r\n  return (\r\n    <div style={{padding: 15}}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish = {handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n      <h3>Ishonchnoma</h3>\r\n      \r\n      <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"empowermentNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Inshonchnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Inshonchnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            \r\n            <Col md={11}>\r\n              <div style={{display: 'flex', justifyContent: \"space-between\"}}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date\"\r\n                name=\"empowermentDateOfIssue\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Berilgan sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Berilgan sanasi</span>\r\n              </Form.Item>\r\n          \r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date-expire\"\r\n                name=\"empowermentDateOfExpire\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Amal qilish sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Amal qilish sanasi</span>\r\n              </Form.Item>\r\n              </div>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-n0\"\r\n                name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-date\"\r\n                name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n      </div>\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n        \r\n        <Row justify=\"space-between\">\r\n        <Col md={11}>  \r\n          <SellerForm docType=\"empowerment\"/>\r\n        </Col>\r\n\r\n        <Col md={11}>\r\n          <BuyerForm form={ form } docType=\"empowerment\"/>\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n          \r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n          <Col md={7}>\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"seler-account-tyin-inn\"\r\n              name=\"agentTin\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\"\r\n                  onChange={fetchAgent}\r\n\r\n                  />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={7} >\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"agentFio-no\"\r\n              name=\"agentFio\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={7}>\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"seler-account-empowerment-dateof-issue-agentJobTittle\"\r\n              name=\"agentJobTittle\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            \r\n            <Col md={7}>\r\n          \r\n                <Form.Item>\r\n                  <Form.Item \r\n                key=\"seler-account-agent-fioe\"\r\n                name=\"agentPassportNumber\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"   \" />\r\n                </Form.Item>\r\n                  <span className=\"custom-input-label-1\">   </span>\r\n                </Form.Item>\r\n            \r\n            </Col>\r\n\r\n  <Col md={7} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"agentPassportIssuedBy\">\r\n      <Input\r\n        size=\"large\"\r\n        placeholder=\"  \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\">  </span>\r\n    </Form.Item>\r\n  </Col>\r\n  <Col md={7} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"agentPassportDateOfIssue\">\r\n      <DatePicker\r\n        size=\"large\"\r\n        placeholder=\"  \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\">  </span>\r\n    </Form.Item>\r\n  </Col>\r\n  \r\n</Row>\r\n</div>\r\n          <div className=\"factura-data-sheet-container\">\r\n            <Row justify=\"space-around\">\r\n              <Col >\r\n                <Button \r\n                  loading={isLoading}\r\n                  primary\r\n                  htmlType=\"submit\"\r\n                  className=\"factra-action-btns save-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\"  />}>\r\n                     \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  className=\"factra-action-btns sing-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                    \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />} \r\n                  danger \r\n                  className=\"factra-action-btns\" \r\n                  size=\"large\">\r\n                     \r\n                  </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <Form.Item\r\n            name=\"empowermentId\"\r\n            key=\"empowermemt-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"empowermentProductId\"\r\n            key=\"empowermemt-product-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken\r\n})\r\n\r\nexport default connect(mapStateToProps)(EmpowermentForm);","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component';\r\nimport EmpowermentForm from './create/create.component';\r\n\r\nconst EmpowermentIndex = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"empowerment\" />} />\r\n            <Route exact path={`${match.path}/create`} component={EmpowermentForm} />\r\n            <Route exact path={`${match.path}/edit/:empowermentId`} component={EmpowermentForm} />\r\n            <Route exact path={`${match.path}/view/:empId`} component={EmpowermentForm} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmpowermentIndex\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst ActView = ({ match, user }) => {\r\n\r\n    const {actId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/acts/get-pdf/${actId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ActView)\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport HomePage from '../common/home/home.component';\r\nimport ActForm from '../act/create/create.component';\r\nimport ActView from '../act/view/view.component';\r\n\r\nconst ActIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"act\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ ActForm } />\r\n            <Route exact path={`${match.path}/edit/:actId`} component={ ActForm } />\r\n            <Route exact path={`${match.path}/view/:actId`} component={ ActView } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActIndexRouter\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Upload, Divider, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport {\r\n  FullscreenOutlined,\r\n  FullscreenExitOutlined,\r\n  PlusOutlined\r\n} from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_CONTRACT_GRID_ROW } from '../../../utils/main';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nconst ConractCreateForm = ({ token, match }) => {\r\n\r\n  const [form] = Form.useForm();\r\n  const { contractId } = match.params;\r\n  const [initialData, setInitialData] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (contractId) {\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/contracts/${contractId}`,\r\n        method: \"GET\",\r\n      }).then(res => {\r\n        let data = res.data;\r\n        data.contractDate = moment(data.contractDate);\r\n        data.created_at = moment(data.created_at);\r\n        data.contractExpireDate = moment(data.contractExpireDate);\r\n        data.updated_at = moment(data.updated_at);\r\n        data.parts = data.contract_parts\r\n        data.contract_partners = data.contract_partners.map(partner=>{\r\n          const { \r\n            account, \r\n            address, \r\n            branchCode, \r\n            branchName, \r\n            director, \r\n            directorTin, \r\n            fizFio, \r\n            fizTin, \r\n            mobilePhone,\r\n            name, \r\n            oked, \r\n            tin,\r\n            workPhone,\r\n            physicalTin,\r\n            physicalName\r\n          } = partner;\r\n          return {\r\n            buyerAccount: account, \r\n            buyerAddress: address, \r\n            buyerBranch: branchCode, \r\n            buyerBranchName: branchName, \r\n            buyerDirector: director, \r\n            buyerDirectorTin: directorTin, \r\n            buyerPhysicalFio: fizFio, \r\n            buyerPhysicalTin: fizTin, \r\n            buyerMobilePhone: mobilePhone,\r\n            buyerName: name, \r\n            oked, \r\n            buyerTin: tin,\r\n          }\r\n        })\r\n        console.log(data);\r\n\r\n        setInitialData(data);\r\n        setGrid(convertProductsToGrid(res.data.contract_products, \"contract\"));\r\n        form.resetFields();\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n\r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n\r\n  };\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_CONTRACT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 2 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 3 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 4 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n  ])\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId) => {\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n      //this sets changed values\r\n      grid[row][col] = { ...grid[row][col], value };\r\n\r\n\r\n      //Lets calculate\r\n      grid[row][8].value = grid[row][5].value && grid[row][6].value\r\n        ? parseFloat(grid[row][5].value) * parseFloat(grid[row][6].value)\r\n        + parseFloat(grid[row][7].value ? grid[row][7].value : 0)\r\n        : 0\r\n\r\n\r\n\r\n    });\r\n    setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = () => {\r\n\r\n    const sampleRow = [\r\n      { readOnly: true, value: grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n    setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n  //#endregion\r\n\r\n  //#region form methods\r\n\r\n  const handleSubmit = (values) => {\r\n    console.log(values)\r\n    setIsLoading(true);\r\n    let parts = values.parts.map((part, index) => ({ ...part, ordNo: index + 1 }));\r\n    let partners = values.contract_partners;\r\n    delete values.parts;\r\n    delete values.contract_partners;\r\n    if (contractId) {\r\n      axios({\r\n        url: `/api/v1/contracts/${contractId}`,\r\n        method: 'PATCH',\r\n        data: { contract: values, products: grid, parts: parts, contract_partners: partners }\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.data.ok) {\r\n          message.success(\"Shartnoma yangilandi!\");\r\n        } else {\r\n          message.error(\"Shartnoma yangilashda xatolik!\");\r\n        }\r\n        setIsLoading(false);\r\n      }).catch(err => {\r\n        message.error(\"Shartnoma yangilashda xatolik!\");\r\n        console.log(err)\r\n        setIsLoading(false);\r\n      })\r\n    } else {\r\n      axios({\r\n        url: '/api/v1/contracts',\r\n        method: 'post',\r\n        data: { contract: values, products: grid, parts: parts, contract_partners: partners  }\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.data.ok) {\r\n          message.success(\"Yangi shartnoma yaratildi!\")\r\n        } else {\r\n          message.error(\"Shartnoma yaratish xatolik!\");\r\n        }\r\n        setIsLoading(false);\r\n      }).catch(err => {\r\n        console.log(err)\r\n        message.error(\"Shartnoma yaratish xatolik!\");\r\n        setIsLoading(false);\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  const handleImportExecl = (value) => {\r\n\r\n    if (value.file.status == \"done\") {\r\n\r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index) => {\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <div style={{ padding: 15 }}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish={handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>Shartnoma</h3>\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"contractName\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Nomi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Nomi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <div style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"dyna-form-item-inn-date\"\r\n                    name=\"contractDate\"\r\n                    rules={[{ required: true }]}>\r\n                    <DatePicker\r\n                      size=\"large\"\r\n                      placeholder=\"Tuzilgan sanasi\" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Tuzilgan sanasi</span>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"dyna-form-item-inn-date-expire\"\r\n                    name=\"contractExpireDate\"\r\n                    rules={[{ required: true }]}>\r\n                    <DatePicker\r\n                      size=\"large\"\r\n                      placeholder=\"Amal qilish sanasi\" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Amal qilish sanasi</span>\r\n                </Form.Item>\r\n              </div>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0\"\r\n                  name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date\"\r\n                  name=\"contractPlace\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma joyi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma joyi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <SellerForm docType=\"contract\" form={form} />\r\n            </Col>\r\n\r\n          <Form.List name=\"contract_partners\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                  {fields.map(field => (\r\n                    <Col sm={11}>\r\n                      <BuyerForm\r\n                        key={field.key}\r\n                        fieldList={field}\r\n                        remove={remove}\r\n                        docType=\"contract\"\r\n                        form={form} />\r\n                    </Col>\r\n                  ))}\r\n                <Form.Item>\r\n                  <Button \r\n                    size=\"large\" \r\n                    className=\"factra-action-btns\" \r\n                    style={{width:'100%'}} \r\n                    type=\"dashed\" \r\n                    onClick={() => add()} \r\n                    icon={<PlusOutlined />}>\r\n                    Kontragent qo'shish\r\n              </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n\r\n          </Form.List>\r\n          </Row>\r\n        </div>\r\n        <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n          <div style={{ marginBottom: 10, display: 'flex', justifyContent: 'space-between' }}>\r\n            <div style={{ display: 'flex' }}>\r\n              <Upload\r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\"\r\n                onChange={handleImportExecl}>\r\n\r\n                <Button style={{ marginRight: 10 }}>Exceldan yuklash</Button>\r\n\r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_contract_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />}\r\n              onClick={() => toglleFullView(!fullView)}>\r\n              {fullView ? \"Kichraytirish\" : \"Kengaytirish\"}\r\n            </Button>\r\n          </div>\r\n\r\n          <div style={{ overflowX: 'auto' }} >\r\n            <div style={{ width: '100%' }}>\r\n              <Datasheet\r\n                data={grid}\r\n                valueRenderer={valueRenderer}\r\n                onContextMenu={onContextMenu}\r\n                onCellsChanged={onCellsChanged}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"large\"\r\n            style={{ marginTop: 20, marginRight: 7, width: 220 }}\r\n            type=\"primary\"\r\n            icon={<FontAwesomeIcon\r\n              style={{ marginRight: 7 }}\r\n              icon={[\"far\", \"plus-square\"]} />}\r\n            onClick={handleAddRow}>Qo'shish</Button>\r\n\r\n          <Button\r\n            size=\"large\"\r\n            style={{ marginTop: 20, width: 220 }}\r\n            danger\r\n            type=\"primary\"\r\n            icon={<FontAwesomeIcon\r\n              style={{ marginRight: 7 }}\r\n              icon={[\"far\", \"trash-alt\"]} />}\r\n            onClick={() => { if (grid.length > 1) { handleRemoveRow(grid.length - 1) } }}>Oxirgi qatorni o'chirish</Button>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>Shartnoma shartlari</h3>\r\n          <Form.List name=\"parts\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(field => (\r\n                  <Row key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\r\n                    <Col sm={24}>\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          {...field}\r\n                          name={[field.name, 'title']}\r\n                          fieldKey={[field.fieldKey, 'title']}\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <Input\r\n                            className=\"border-right-square\"\r\n                            size=\"large\"\r\n                            placeholder=\"Shart sarlavhasi\"\r\n                            addonAfter={\r\n                              <FontAwesomeIcon\r\n                                icon={[\"far\", \"times-circle\"]}\r\n                                onClick={() => remove(field.name)} />} />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">Shart sarlavhasi</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col sm={24}>\r\n                      <Form.Item\r\n                        {...field}\r\n                        name={[field.name, 'body']}\r\n                        fieldKey={[field.fieldKey, 'body']}\r\n                        rules={[{ required: true }]}\r\n                      >\r\n                        <TextArea rows={4} placeholder=\"Sharnoma matni\" size=\"large\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n\r\n                    <Divider />\r\n                  </Row>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button size=\"large\" type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Maydon qo'shish\r\n              </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </div>\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-around\">\r\n            <Col >\r\n              <Button\r\n                primary\r\n                htmlType=\"submit\"\r\n                loading={isLoading}\r\n                className=\"factra-action-btns save-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                 \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                className=\"factra-action-btns sing-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />}\r\n                danger\r\n                className=\"factra-action-btns\"\r\n                size=\"large\">\r\n                 \r\n                  </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Form.Item\r\n          name=\"contractId\"\r\n          key=\"contractId-1\"\r\n        >\r\n          <Input type=\"hidden\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken\r\n})\r\n\r\nexport default connect(mapStateToProps)(ConractCreateForm);","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst ContractView = ({ match, user }) => {\r\n\r\n    const {contractId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/contracts/get-pdf/${contractId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ContractView)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component';\r\nimport ConractCreateForm from '../contract/create/create.component';\r\nimport ContractView from '../contract/view/view.component';\r\n\r\nconst ContractIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={() => <HomePage doc=\"contract\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ConractCreateForm} />\r\n            <Route exact path={`${match.path}/edit/:contractId`} component={ConractCreateForm} />\r\n            <Route exact path={`${match.path}/view/:contractId`} component={ContractView} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContractIndexRouter\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport { Button, Input, Form, Row, Col, DatePicker, message, Radio, Upload } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport Datasheet from 'react-datasheet';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectCurrentUser, selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport PersonFetch from '../../common/person-fetch/person-fetch.component';\r\nimport { convertProductsToGrid, FIRST_TTY_GRID_ROW } from '../../../utils/main';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\n\r\n\r\nconst TTYForm = ({ match, token, user }) => {\r\n\r\n  const [form] = Form.useForm();\r\n  const { ttyId } = match.params;\r\n  const [initialData, setInitialData] = useState()\r\n  const [isLoading, setIsloading] = useState(false);\r\n\r\n\r\n  //#region DATA SHEET\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_TTY_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight                       //12 total\r\n    ], \r\n    [\r\n      { readOnly: true, value:2 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n    [\r\n      { readOnly: true, value:3 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n    [\r\n      { readOnly: true, value:4 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n  ])\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[2].dataEditor = SelectEditor;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };\r\n        \r\n\r\n        //Lets calculate\r\n        let priceamount = parseFloat(grid[row][3].value??0) * parseFloat(grid[row][4].value??0);\r\n\r\n        grid[row][5] = {...grid[row][5], value: priceamount ?? 0}\r\n\r\n       \r\n     \r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n      { readOnly: true, value:    grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n\r\n  //#endregion\r\n\r\n\r\n  useEffect(() => {\r\n    if (ttyId) {\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/ttys/${ttyId}`,\r\n        method: \"GET\",\r\n      }).then(res => {\r\n        let data = res.data;\r\n        data.contractDate = moment(data.contractDate);\r\n        data.created_at = moment(data.created_at);\r\n        data.wayBillDate = moment(data.wayBillDate);\r\n        data.tripTicketDate = moment(data.tripTicketDate);\r\n        data.updated_at = moment(data.updated_at);\r\n        console.log(data);\r\n\r\n        setInitialData(res.data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.products, \"tty\"))\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n\r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n\r\n  };\r\n\r\n  //#region form methods\r\n\r\n  const handleSubmit = (values) => {\r\n    setIsloading(true);\r\n    console.log(values)\r\n    if (ttyId) {\r\n      axios({\r\n        url: `/api/v1/ttys/${ttyId}`,\r\n        method: 'PATCH',\r\n        data: { tty: values, products: grid }\r\n      }).then(res => {\r\n        setIsloading(false);\r\n        message.success(\"TTY yangilandi!\");\r\n        console.log(res)\r\n      }).catch(err => {\r\n        setIsloading(false)\r\n        message.error(\"TTY yangilashda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else {\r\n      axios({\r\n        url: '/api/v1/ttys',\r\n        method: 'post',\r\n        data: { tty: values, products: grid }\r\n      }).then(res => {\r\n        setIsloading(false)\r\n        message.success(\"TTY yaratildi!\");\r\n        console.log(res)\r\n      }).catch(err => {\r\n        setIsloading(false)\r\n        message.error(\"TTY yaratishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <div style={{ padding: 15 }}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish={handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>TTY yaratish</h3>\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"wayBillNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"TTY raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">TTY raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-item-inn-date\"\r\n                  name=\"wayBillDate\"\r\n                  rules={[{ required: true }]}>\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"TTY sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">TTY sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={24}>\r\n              <Form.Item\r\n                name=\"deliveryType\"\r\n                key=\"deliveryType\"\r\n                initialValue={1}\r\n              >\r\n                <Radio.Group style={{ width: '100%' }} options={[\r\n                  { label: \"Omborxonadan omborxonaga\", value: 1 },\r\n                  { label: \"Sotuvchidan xaridorgacha\", value: 2 }\r\n                ]}\r\n                  optionType=\"button\"\r\n                />\r\n\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0\"\r\n                  name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date\"\r\n                  name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0-TripTicketNo\"\r\n                  name=\"tripTicketNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yo'l varaqasi raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date-TripTicketDate\"\r\n                  name=\"tripTicketDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yo'l varaqasi sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"truckRegNo\"\r\n                  key=\"truckRegNo\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Avtomobil davlat raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Avtomobil davlat raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"truckModel\"\r\n                  key=\"truckModel\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Avtomobil turi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Avtomobil turi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={24}>\r\n              <Form.Item\r\n                name=\"trailerType\"\r\n                key=\"trailerType\"\r\n                initialValue={1}\r\n              >\r\n                <Radio.Group style={{ width: '100%' }} options={[\r\n                  { label: \"Tirkama\", value: 1 },\r\n                  { label: \"Yarim tirkama\", value: 2 }\r\n                ]}\r\n                  optionType=\"button\"\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"trailerRegNo\"\r\n                  key=\"TrailerRegNo\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Tirkama davlat raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tirkama davlat raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"trailerModel\"\r\n                  key=\"TrailerRegNoType\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Tirkama turi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tirkama turi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"driverFio\"\r\n                  key=\"DriverFio\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Haydovchi FIO\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <SellerForm form={form} docType=\"act\" />\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <BuyerForm form={form} docType=\"act\" />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <PersonFetch\r\n                form={form}\r\n                pName=\"carrierName\"\r\n                pTin=\"carrierTin\"\r\n                nameLabel=\"Tashuvchi FIO\"\r\n                tinLabel=\"Tashunchi STIR\" />\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <PersonFetch\r\n                form={form}\r\n                pName=\"customerName\"\r\n                pTin=\"customerTin\"\r\n                nameLabel=\"Buyurtmachi FIO\"\r\n                tinLabel=\"Buyurtmachi STIR\" />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfLoading\"\r\n                  key=\"PointOfLoading\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yuklash manzili</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfUnloading\"\r\n                  key=\"pointOfUnloading\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tushirish mazili</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfRedirectName\"\r\n                  key=\"pointOfRedirectName\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Boshqa manzil nomi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfRedirectAddress\"\r\n                  key=\"pointOfRedirectAddress\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Boshqa manzil manzili</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"giverFio\"\r\n                  key=\"giverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Topshirdi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"takerFio\"\r\n                  key=\"takerFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Qabul qildi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"giverDriverFio\"\r\n                  key=\"giverDriverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Topshiruvchi haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"takerDriverFio\"\r\n                  key=\"takerDriverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Qabulqiluvchi haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n\r\n            <Col md={24} >\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"selenote-field\"\r\n                  name=\"specialNotes\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\" \" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\"> </span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"deliveryDistance\"\r\n                  key=\"deliveryDistance\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tashish orligi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"deliveryDistanceInCity\"\r\n                  key=\"deliveryDistanceInCity\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tashish orqliq (Shaharda)</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n          </Row>\r\n        </div>\r\n\r\n        <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-around\">\r\n            <Col >\r\n              <Button\r\n                loading={isLoading}\r\n                primary\r\n                htmlType=\"submit\"\r\n                className=\"factra-action-btns save-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                 \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                className=\"factra-action-btns sing-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />}\r\n                danger\r\n                className=\"factra-action-btns\"\r\n                size=\"large\">\r\n                 \r\n                  </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken,\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(TTYForm);","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst TTYView = ({ match, user }) => {\r\n\r\n    const {ttyId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/ttys/get-pdf/${ttyId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(TTYView)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component'\r\nimport TTYForm from '../tty/create/create.component';\r\nimport TTYView from \"../tty/view/view.component\";\r\n\r\nconst TTYIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"tty\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ TTYForm } />\r\n            <Route exact path={`${match.path}/edit/:ttyId`} component={ TTYForm } />\r\n            <Route exact path={`${match.path}/view/:ttyId`} component={ TTYView } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TTYIndexRouter\r\n","import { List, Tag } from 'antd'\r\nimport axios from 'axios'\r\nimport React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { IMPORTANCE } from '../../env'\r\nimport moment from \"moment\"\r\n\r\nconst Notifications = () => {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        axios({\r\n            url: \"api/v1/notifications\",\r\n            method: \"GET\"\r\n        }).then(res => {\r\n            setData(res.data)\r\n            setLoading(false)\r\n        }).catch(er => {\r\n            console.log(er)\r\n            setLoading(false)\r\n        })\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"factura-data-sheet-container\" style={{ margin: 15 }}>\r\n            <h3>Notifications</h3>\r\n            <List\r\n                loading={loading}\r\n                dataSource={data}\r\n                pagination\r\n                renderItem={(n) => (\r\n                    <List.Item>\r\n                        <div style={{ marginBottom: 30 }}>\r\n                            <h3>{n.title_uz}</h3>\r\n                            <div>\r\n                                <Tag\r\n                                    style={{ marginRight: 10 }}\r\n                                    color={IMPORTANCE[n.importance].color}>\r\n                                    {IMPORTANCE[n.importance].text}\r\n                                </Tag>\r\n                                {moment(n.updated_at).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                            </div>\r\n                            <div>{n.body_uz}</div>\r\n                        </div>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notifications\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Col, Input, Row, Form, Button, message} from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { setUser } from '../../redux/user/user.action';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\n\r\nconst AccountForm = ({user, setUserOnly}) => {\r\n\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const onSubmit=(values)=>{\r\n        console.log(values);\r\n        setLoading(true)\r\n        axios({\r\n            method: \"patch\",\r\n            data: values,\r\n            url: `api/v1/companies/${user.id}`\r\n        }).then(res=>{\r\n            setLoading(false)\r\n            setUserOnly(res.data)\r\n            message.success(\"Succesfully updated!\")\r\n        }).catch(err=>{\r\n            setLoading(false)\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const fields = [\r\n        {\r\n            name: \"name\",\r\n            label: \"Nomi\"\r\n        },\r\n        {\r\n            name: \"address\",\r\n            label: \"Manzil\"\r\n        },\r\n        {\r\n            name: \"oked\",\r\n            label: \"OKED\"\r\n        },\r\n        {\r\n            name: \"directorName\",\r\n            label: \"Direktor\"\r\n        },\r\n        {\r\n            name: \"accountant\",\r\n            label: \"Hisobchi\"\r\n        },\r\n        {\r\n            name: \"phone\",\r\n            label: \"Telephone\"\r\n        },\r\n        {\r\n            name: \"account\",\r\n            label: \"Hisob raqam\"\r\n        },\r\n        {\r\n            name: \"mfo\",\r\n            label: \"MFO\"\r\n        },\r\n        {\r\n            name: \"regCode\",\r\n            label: \"QQS tolovchi royxatdan otish kodi\"\r\n        }\r\n    ]\r\n\r\n    return (\r\n        \r\n            <Form\r\n                initialValues={user}\r\n                onFinish={onSubmit}\r\n                form={form}\r\n            >\r\n                <Row justify=\"space-between\">\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tin`}\r\n                                name=\"tin\"\r\n                                >\r\n                                <Input\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                    disabled\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">STIR</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    {\r\n                        fields.map(field => <Col md={11}>\r\n                            <Form.Item>\r\n                                <Form.Item\r\n                                    key={`dyna-form-facutura-no-old-${field.name}`}\r\n                                    name={field.name}\r\n                                >\r\n                                    <Input\r\n                                        rules={[{ required: true }]}\r\n                                        size=\"large\"\r\n                                    />\r\n                                </Form.Item>\r\n                                <span className=\"custom-input-label-1\">{field.label}</span>\r\n                            </Form.Item>\r\n                        </Col>)\r\n                    }\r\n                   <Col md={11}>\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            loading={loading}\r\n                            className=\"factra-action-btns sing-btn\"\r\n                            size=\"large\"\r\n                            icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                                Saqlash\r\n                        </Button>\r\n                   </Col>\r\n                </Row>\r\n            </Form>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch=>({\r\n    setUserOnly: (user)=>dispatch(setUser(user))\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountForm)\r\n","import React from 'react'\r\nimport HomePage from '../common/home/home.component'\r\n\r\nconst UserProducts = () => {\r\n    return (\r\n        <div>\r\n            <HomePage \r\n            hideTabs\r\n            doc=\"user-products\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProducts\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Form, Row, Col, Input, Button } from 'antd'\r\nimport React, {useState} from 'react'\r\n\r\nconst PasswordChange = () => {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n    const handleFinish = values=>{\r\n        console.log(values)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Form\r\n                onFinish={handleFinish}\r\n            >\r\n                <Row justify=\"space-between\">\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tin`}\r\n                                name=\"password\"\r\n                            >\r\n                                <Input.Password\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Yangi parol</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tin`}\r\n                                name=\"password-confirm\"\r\n                            >\r\n                                <Input.Password\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Prolni tasdiqlang</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col md={11}>\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            loading={loading}\r\n                            className=\"factra-action-btns sing-btn\"\r\n                            size=\"large\"\r\n                            icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                            Saqlash\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PasswordChange\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport AccountForm from '../account-form/account-form.component';\r\nimport UserProducts from '../user-products/user-products.component';\r\nimport PasswordChange from '../password-change/password-change.component';\r\n\r\nconst { TabPane } = Tabs\r\n\r\nconst ProfileComponent = ()=>{\r\n\r\n    const handleChange = val=>{\r\n        console.log(val)\r\n    }\r\n\r\n    return <div className=\"factura-data-sheet-container\" style={{ margin: 15 }}>\r\n        <Tabs onChange={handleChange} type=\"card\">\r\n            <TabPane tab=\"Kompaniya ma'lumotlari\" key=\"1\">\r\n                <AccountForm />\r\n            </TabPane>\r\n            <TabPane tab=\"Parol o'zgartirish\" key=\"2\">\r\n                <PasswordChange />\r\n            </TabPane>\r\n            <TabPane tab=\"Maxsulotlarim\" key=\"3\">\r\n                <UserProducts />\r\n            </TabPane>\r\n        </Tabs>\r\n    </div>\r\n}\r\n\r\nexport default ProfileComponent;","import { Col, Row } from 'antd';\r\nimport React from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport FacturaIndex from './factura/index.component';\r\nimport RightSidebar from './right-sidebar/right-sidebar.component';\r\nimport CabinetHome from './home/home.component';\r\nimport EmpowermentIndex from './empowerment/index.component';\r\nimport ActIndexRouter from './act/index.router';\r\nimport ContractIndexRouter from './contract/index.router';\r\nimport TTYIndexRouter from './tty/index.router';\r\nimport './create.style.scss';\r\nimport Notifications from './notifications/notifications.component';\r\nimport ProfileComponent from './profile/profile.component';\r\n\r\nconst CabinetIndex = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-around\">\r\n               <Col md={5} lg={4}>\r\n                    <RightSidebar />\r\n               </Col>\r\n               <Col md={19} lg={20}>\r\n                    <Route exact path={match.path} component={ CabinetHome } />\r\n\r\n                    <Route path={`${match.path}/factura`} component={ FacturaIndex } />\r\n\r\n                    <Route path={`${match.path}/empowerment`} component={ EmpowermentIndex } />\r\n\r\n                    <Route path={`${match.path}/act`} component={ ActIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/contract`} component={ ContractIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/tty`} component={ TTYIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/notifications`} component={ Notifications } />\r\n\r\n                    <Route path={`${match.path}/profile`} component={ ProfileComponent } />\r\n               </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(CabinetIndex);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n// import { setUserLocale } from '../../redux/user/user.actions';\r\n// import { createStructuredSelector } from 'reselect';\r\n// import { selectUserLocale } from '../../redux/user/user.selector';\r\nimport { Dropdown, Menu } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst LanguagesDropdown = ({ locale, changeLocale }) => {\r\n    const { i18n } = useTranslation();\r\n    const languagesMenu = (\r\n        <Menu>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('uz'); \r\n                //i18n.changeLanguage('uz') \r\n                }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/uz.png\" /> O'zb\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('ru'); \r\n                //i18n.changeLanguage('ru') \r\n            }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/ru.png\" /> Pyc\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('en'); \r\n                //i18n.changeLanguage('en') \r\n            }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/en.png\" /> Eng\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n\r\n    return (<span className=\"trigger text-float-right\">\r\n        <Dropdown overlay={languagesMenu}>\r\n            <img style={{ width: 25, borderRadius: '50%', marginRight:30 }} alt=\"languange\" src={`/images/uz.png`} />\r\n        </Dropdown>\r\n    </span>)\r\n}\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//     changeLocale: locale => dispatch(setUserLocale(locale))\r\n// })\r\n\r\n// const mapStateToProps = createStructuredSelector({\r\n//     locale: selectUserLocale\r\n// })\r\n\r\n//export default connect(mapStateToProps, mapDispatchToProps)(LanguagesDropdown);\r\nexport default LanguagesDropdown;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './left-sidebar.style.scss';\r\nimport { Link } from 'react-router-dom'\r\nimport { Tooltip } from 'antd';\r\n\r\nconst LeftSidebar = ({ active })=>{\r\n\r\n    return(\r\n        <div className={`side-bar-icons-main-container ${active ? \"inactive\" : \"active\"}`}>\r\n                <div className=\"sidebar-iconsconyainer\">\r\n                    <div>\r\n                        <Tooltip placement=\"left\" color=\"#0075ff\" title=\"Bosh sahifa\">\r\n                            <Link to=\"/home\">\r\n                                <FontAwesomeIcon icon=\"home\" />\r\n                            </Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <div>\r\n                        <Tooltip placement=\"left\" color=\"#0075ff\" title=\"Notifications\">\r\n                            <Link to=\"/cabinet/notifications\">\r\n                                <FontAwesomeIcon icon={[\"far\", \"bell\"]} />\r\n                            </Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <div>\r\n                        <Tooltip title=\"Kabinet\" color=\"#0075ff\" placement=\"left\">\r\n                            <Link to=\"/cabinet/profile\"><FontAwesomeIcon icon=\"user-cog\" /></Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    \r\n                    <div><Link to=\"/home/faq\"><FontAwesomeIcon icon=\"question-circle\" /></Link></div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default LeftSidebar;","import React, { useState }  from 'react';\r\nimport { Twirl as Hamburger } from 'hamburger-react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './header.style.scss';\r\nimport LanguagesDropdown from \"../language-dropdown/locale-dropdown\";\r\n\r\nimport LeftSidebar from '../left-sidebar/left-sidebar.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Tooltip } from 'antd';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { logOut } from '../../redux/user/user.action';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Header = ({ user, logOut, location})=>{\r\n\r\n    window.onscroll = ()=>setActive(false);\r\n    const [active, setActive] = useState(false);    \r\n    return(<div><div className=\"header-main-component-container-main\">\r\n            <div style={{textAlign: \"right\", padding: '5px 40px', backgroundColor: 'rgba(0,0,0,0.1)'}}>Call center: +998 71 200 11 22</div>\r\n        <div className=\"header-main-component-container\">\r\n            <div className=\"header-main-conatainer\">\r\n                <span>\r\n                    <Link to=\"/\">\r\n                        <img className=\"logo-on-doc-img\" src=\"/assests/logo.png\" alt=\"logo On Doc\" /> <span style={{fontSize: 27, color: 'black', fontWeight: \"bold\"}}>Online<span style={{ color: \"rgb(0,174,255)\" }}>Factura</span></span>\r\n                    </Link>\r\n                </span>\r\n                <div className=\"heasder-actions-con\">\r\n                    {\r\n                        user ?\r\n                            <div className=\"header-action\" style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                <FontAwesomeIcon className=\"header-action-icon\" icon=\"wallet\" />  <strong style={{marginLeft: 10}}> 40500.00</strong>\r\n                            </div>\r\n                            :null\r\n                    }\r\n                    <LanguagesDropdown />\r\n                    {\r\n                        user ?\r\n                        <div className=\"header-action\">\r\n                            <strong>STIR:</strong>  {user.tin}\r\n                        </div>\r\n                        : null\r\n                    }\r\n                    {\r\n                        user ? \r\n                        <div className=\"header-action\">\r\n                            \r\n                            <Tooltip title=\"Tizimdan chiqish\">\r\n                                <div style={{cursor: 'pointer'}} onClick={logOut}>\r\n                                    <FontAwesomeIcon icon=\"sign-in-alt\" className=\"header-action-icon\" />\r\n                                </div>\r\n                            </Tooltip>\r\n                        </div>\r\n                        : <Tooltip title=\"Tizimga kirish\">\r\n                        <Link to=\"/home/login\">\r\n                            <FontAwesomeIcon icon=\"sign-in-alt\" className=\"header-action-icon\" />\r\n                        </Link>\r\n                    </Tooltip>\r\n                    }\r\n                    {\r\n                        //console.log(location)\r\n                        <Hamburger className=\"burger-main\" toggled={active} toggle={setActive} />\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <LeftSidebar active={active} />\r\n</div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    logOut: ()=>dispatch(logOut())\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));","import React, { useState } from 'react';\r\nimport Header from '../../components/header/header.component';\r\n\r\nconst Home = ({})=>{\r\n\r\n    \r\n\r\n    return<div>\r\n        <div>\r\n            {/* <Header /> */}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Home;","String.prototype.splitKeep = function(splitter, ahead) {\r\n    var self = this;\r\n    var result = [];\r\n    if (splitter != '') {\r\n        // Substitution of matched string\r\n        function getSubst(value) {\r\n            var substChar = value[0] == '0' ? '1' : '0';\r\n            var subst = '';\r\n            for (var i = 0; i < value.length; i++) {\r\n                subst += substChar;\r\n            }\r\n            return subst;\r\n        };\r\n        var matches = [];\r\n        // Getting mached value and its index\r\n        var replaceName = splitter instanceof RegExp ? \"replace\" : \"replaceAll\";\r\n        var r = self[replaceName](splitter, function(m, i, e) {\r\n            matches.push({ value: m, index: i });\r\n            return getSubst(m);\r\n        });\r\n        // Finds split substrings\r\n        var lastIndex = 0;\r\n        for (var i = 0; i < matches.length; i++) {\r\n            var m = matches[i];\r\n            var nextIndex = ahead == true ? m.index : m.index + m.value.length;\r\n            if (nextIndex != lastIndex) {\r\n                var part = self.substring(lastIndex, nextIndex);\r\n                result.push(part);\r\n                lastIndex = nextIndex;\r\n            }\r\n        };\r\n        if (lastIndex < self.length) {\r\n            var part = self.substring(lastIndex, self.length);\r\n            result.push(part);\r\n        };\r\n    } else {\r\n        result.add(self);\r\n    };\r\n    return result;\r\n};\r\n\r\nexport const CAPIWS = {\r\n    URL: (window.location.protocol.toLowerCase() === \"https:\" ? \"wss://127.0.0.1:64443\" : \"ws://127.0.0.1:64646\") + \"/service/cryptapi\",\r\n    callFunction: function(funcDef, callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            socket.send(JSON.stringify(funcDef));\r\n        };\r\n    },\r\n    version: function(callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'version' };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    },\r\n    apidoc: function(callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'apidoc' };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    },\r\n    apikey: function(domainAndKey, callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'apikey', arguments: domainAndKey };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    }\r\n};\r\n\r\nexport const EIMZOClient = {\r\n    NEW_API: false,\r\n    API_KEYS: [\r\n        'cabinet.onlinefactura.uz', 'F09A2CBE8EA25A5C065AF78D32F517B1DCF12E997575556CBD90B405A90420E6EB538FCCFFCBAA22C5D191CAB3803965621B023E8642F77F35DDA072FBA17914'\r\n    ],\r\n    checkVersion: function(success, fail) {\r\n        CAPIWS.version(function(event, data) {\r\n            if (data.success === true) {\r\n                if (data.major && data.minor) {\r\n                    var installedVersion = parseInt(data.major) * 100 + parseInt(data.minor);\r\n                    EIMZOClient.NEW_API = installedVersion >= 336;\r\n                    success(data.major, data.minor);\r\n                } else {\r\n                    fail(null, 'E-IMZO Version is undefined');\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    installApiKeys: function(success, fail) {\r\n        CAPIWS.apikey(EIMZOClient.API_KEYS, function(event, data) {\r\n            if (data.success) {\r\n                success();\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    listAllUserKeys: function(itemIdGen, itemUiGen, success, fail) {\r\n        var items = [];\r\n        var errors = [];\r\n        if (!EIMZOClient.NEW_API) {\r\n            EIMZOClient._findCertKeys(itemIdGen, itemUiGen, items, errors, function(firstItmId) {\r\n                EIMZOClient._findPfxs(itemIdGen, itemUiGen, items, errors, function(firstItmId2) {\r\n                    if (items.length === 0 && errors.length > 0) {\r\n                        fail(errors[0].e, errors[0].r);\r\n                    } else {\r\n                        var firstId = null;\r\n                        if (items.length === 1) {\r\n                            if (firstItmId) {\r\n                                firstId = firstItmId;\r\n                            } else if (firstItmId2) {\r\n                                firstId = firstItmId2;\r\n                            }\r\n                        }\r\n                        success(items, firstId);\r\n                    }\r\n                });\r\n            });\r\n        } else {\r\n            EIMZOClient._findCertKeys2(itemIdGen, itemUiGen, items, errors, function(firstItmId) {\r\n                EIMZOClient._findPfxs2(itemIdGen, itemUiGen, items, errors, function(firstItmId2) {\r\n                    EIMZOClient._findTokens2(itemIdGen, itemUiGen, items, errors, function(firstItmId3) {\r\n                        if (items.length === 0 && errors.length > 0) {\r\n                            fail(errors[0].e, errors[0].r);\r\n                        } else {\r\n                            var firstId = null;\r\n                            if (items.length === 1) {\r\n                                if (firstItmId) {\r\n                                    firstId = firstItmId;\r\n                                } else if (firstItmId2) {\r\n                                    firstId = firstItmId2;\r\n                                } else if (firstItmId3) {\r\n                                    firstId = firstItmId3;\r\n                                }\r\n                            }\r\n                            success(items, firstId);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    },\r\n    loadKey: function(itemObject, success, fail, verifyPassword) {\r\n        if (itemObject) {\r\n            var vo = itemObject;\r\n            if (vo.type === \"certkey\") {\r\n                CAPIWS.callFunction({ plugin: \"certkey\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.serialNumber] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        success(id);\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"pfx\") {\r\n                CAPIWS.callFunction({ plugin: \"pfx\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.alias] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        if (verifyPassword) {\r\n                            CAPIWS.callFunction({ name: \"verify_password\", plugin: \"pfx\", arguments: [id] }, function(event, data) {\r\n                                if (data.success) {\r\n                                    success(id);\r\n                                } else {\r\n                                    fail(null, data.reason);\r\n                                }\r\n                            }, function(e) {\r\n                                fail(e, null);\r\n                            });\r\n                        } else {\r\n                            success(id);\r\n                        }\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"ftjc\") {\r\n                CAPIWS.callFunction({ plugin: \"ftjc\", name: \"load_key\", arguments: [vo.cardUID] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        if (verifyPassword) {\r\n                            CAPIWS.callFunction({ plugin: \"ftjc\", name: \"verify_pin\", arguments: [id, '1'] }, function(event, data) {\r\n                                if (data.success) {\r\n                                    success(id);\r\n                                } else {\r\n                                    fail(null, data.reason);\r\n                                }\r\n                            }, function(e) {\r\n                                fail(e, null);\r\n                            });\r\n                        } else {\r\n                            success(id);\r\n                        }\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            }\r\n        }\r\n    },\r\n    changeKeyPassword: function(itemObject, success, fail) {\r\n        if (itemObject) {\r\n            var vo = itemObject;\r\n            if (vo.type === \"pfx\") {\r\n                CAPIWS.callFunction({ plugin: \"pfx\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.alias] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        CAPIWS.callFunction({ name: \"change_password\", plugin: \"pfx\", arguments: [id] }, function(event, data) {\r\n                            if (data.success) {\r\n                                success();\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"ftjc\") {\r\n                CAPIWS.callFunction({ plugin: \"ftjc\", name: \"load_key\", arguments: [vo.cardUID] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        CAPIWS.callFunction({ name: \"change_pin\", plugin: \"ftjc\", arguments: [id, '1'] }, function(event, data) {\r\n                            if (data.success) {\r\n                                success();\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            }\r\n        }\r\n    },\r\n    createPkcs7: function(id, data, timestamper, success, fail) {\r\n        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"create_pkcs7\", arguments: [btoa(data), id, 'no'] }, function(event, data) {\r\n            if (data.success) {\r\n                var pkcs7 = data.pkcs7_64;\r\n                if (timestamper) {\r\n                    var sn = data.signer_serial_number;\r\n                    timestamper(data.signature_hex, function(tst) {\r\n                        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"attach_timestamp_token_pkcs7\", arguments: [pkcs7, sn, tst] }, function(event, data) {\r\n                            if (data.success) {\r\n                                var pkcs7tst = data.pkcs7_64;\r\n                                success(pkcs7tst);\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    }, fail);\r\n                } else {\r\n                    success(pkcs7);\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    appendPkcs7Attached: function(id, data, timestamper, success, fail) {\r\n        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"append_pkcs7_attached\", arguments: [data, id] }, function(event, data) {\r\n            if (data.success) {\r\n                var pkcs7 = data.pkcs7_64;\r\n                if (timestamper) {\r\n                    var sn = data.signer_serial_number;\r\n                    timestamper(data.signature_hex, function(tst) {\r\n                        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"attach_timestamp_token_pkcs7\", arguments: [pkcs7, sn, tst] }, function(event, data) {\r\n                            if (data.success) {\r\n                                var pkcs7tst = data.pkcs7_64;\r\n                                success(pkcs7tst);\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    }, fail);\r\n                } else {\r\n                    success(pkcs7);\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    _getX500Val: function(s, f) {\r\n        var res = s.splitKeep(/,[A-Z]+=/g, true);\r\n        for (var i in res) {\r\n            var n = res[i].search((i > 0 ? \",\" : \"\") + f + \"=\");\r\n            if (n !== -1) {\r\n                return res[i].slice(n + f.length + 1 + (i > 0 ? 1 : 0));\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    _findCertKeyCertificates: function(itemIdGen, itemUiGen, items, errors, allDisks, diskIndex, params, callback) {\r\n        if (parseInt(diskIndex) + 1 > allDisks.length) {\r\n            callback(params);\r\n            return;\r\n        }\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_certificates\", arguments: [allDisks[diskIndex]] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        serialNumber: el.serialNumber,\r\n                        subjectName: el.subjectName,\r\n                        validFrom: new Date(el.validFrom),\r\n                        validTo: new Date(el.validTo),\r\n                        issuerName: el.issuerName,\r\n                        publicKeyAlgName: el.publicKeyAlgName,\r\n                        CN: EIMZOClient._getX500Val(el.subjectName, \"CN\"),\r\n                        TIN: EIMZOClient._getX500Val(el.subjectName, \"INITIALS\"),\r\n                        O: EIMZOClient._getX500Val(el.subjectName, \"O\"),\r\n                        T: EIMZOClient._getX500Val(el.subjectName, \"T\"),\r\n                        type: 'certkey'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (params.length === 0) {\r\n                        params.push(itmkey);\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        });\r\n    },\r\n    _findCertKeys: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var allDisks = [];\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_disks\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.disks) {\r\n                    allDisks.push(data.disks[rec]);\r\n                    if (parseInt(rec) + 1 >= data.disks.length) {\r\n                        var params = [];\r\n                        EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, 0, params, function(params) {\r\n                            callback(params[0]);\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback();\r\n        });\r\n    },\r\n    _findPfxCertificates: function(itemIdGen, itemUiGen, items, errors, allDisks, diskIndex, params, callback) {\r\n        if (parseInt(diskIndex) + 1 > allDisks.length) {\r\n            callback(params);\r\n            return;\r\n        }\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_certificates\", arguments: [allDisks[diskIndex]] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var x500name_ex = el.alias.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        alias: el.alias,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'pfx'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (params.length === 0) {\r\n                        params.push(itmkey);\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        });\r\n    },\r\n    _findPfxs: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var allDisks = [];\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_disks\" }, function(event, data) {\r\n            if (data.success) {\r\n                var disks = data.disks;\r\n                for (var rec in disks) {\r\n                    allDisks.push(data.disks[rec]);\r\n                    if (parseInt(rec) + 1 >= data.disks.length) {\r\n                        var params = [];\r\n                        EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, 0, params, function(params) {\r\n                            callback(params[0]);\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback();\r\n        });\r\n    },\r\n    _findCertKeys2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_all_certificates\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        serialNumber: el.serialNumber,\r\n                        subjectName: el.subjectName,\r\n                        validFrom: new Date(el.validFrom),\r\n                        validTo: new Date(el.validTo),\r\n                        issuerName: el.issuerName,\r\n                        publicKeyAlgName: el.publicKeyAlgName,\r\n                        CN: EIMZOClient._getX500Val(el.subjectName, \"CN\"),\r\n                        TIN: EIMZOClient._getX500Val(el.subjectName, \"INITIALS\"),\r\n                        O: EIMZOClient._getX500Val(el.subjectName, \"O\"),\r\n                        T: EIMZOClient._getX500Val(el.subjectName, \"T\"),\r\n                        type: 'certkey'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    },\r\n    _findPfxs2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_all_certificates\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var x500name_ex = el.alias.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        alias: el.alias,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'pfx'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    },\r\n    _findTokens2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"ftjc\", name: \"list_all_keys\", arguments: [''] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.tokens) {\r\n                    var el = data.tokens[rec];\r\n                    var x500name_ex = el.info.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        cardUID: el.cardUID,\r\n                        statusInfo: el.statusInfo,\r\n                        ownerName: el.ownerName,\r\n                        info: el.info,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'ftjc'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    }\r\n};","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Form, Row, Col, Input, Select, Button, message, Radio } from 'antd'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setUserCompanies, succesLogIn } from '../../redux/user/user.action';\r\nimport { EIMZOClient } from '../../utils/e-imzo';\r\nimport moment from 'moment';\r\nimport './login.style.scss'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Option } = Select;\r\n\r\nconst Login = ({ setCurrentUser, history, setUserComps }) => {\r\n\r\n    const [eKeys, setEKeys] = useState([])\r\n\r\n    const [activeTab, setActiveTab] = useState(0);\r\n\r\n    useEffect(() => {\r\n        EIMZOClient.listAllUserKeys(function (o, i) {\r\n            // console.log(o);\r\n            var itemId = \"itm-\" + o.serialNumber + \"-\" + i;\r\n            return itemId;\r\n        }, function (itemId, v) {\r\n            eKeys.push({ value: itemId, text: v })\r\n            setEKeys([...eKeys])\r\n            console.log(v)\r\n            console.log(eKeys)\r\n            //return uiCreateItem(itemId, v);\r\n        }, function (items, firstId) {\r\n            console.log(items, firstId)\r\n            // uiFillCombo(items);\r\n            // uiLoaded();\r\n            // uiComboSelect(firstId);\r\n        }, function (e, r) {\r\n            console.log((e, r))\r\n            message.error(\"E-Imzo xatosi. Sizda E-Imzo programmasi yoki E-Imzo browseri mavjud emas!\")\r\n        });\r\n    }, [])\r\n\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isKeyLoading, setKeyIsLoading] = useState(false);\r\n\r\n    const validateMessages = {\r\n        required: 'Bu maydon majburiy!',\r\n    };\r\n\r\n    const handleSubmit = value => {\r\n        setIsLoading(true)\r\n        console.log(value)\r\n        axios({\r\n            url: '/api/v1/login-with-password',\r\n            data: value,\r\n            method: 'POST',\r\n        }).then(res => {\r\n            setCurrentUser(res.data)\r\n            setIsLoading(false)\r\n            setUserComps([\r\n                {\r\n                    name: \"Tech Stack ma'sulyati cheklangan jamiyati\",\r\n                    tin: 307607131,\r\n                    id: 1\r\n                },\r\n                {\r\n                    name: \"Updated User\",\r\n                    tin: 518059386,\r\n                    id: 2\r\n                }\r\n            ])\r\n            history.push(\"/home/choosecompany\")\r\n        }).catch(err => {\r\n            console.log(err)\r\n            setIsLoading(false)\r\n            message.error(\"Kabinetga kirishda xatolik!\");\r\n        })\r\n    }\r\n\r\n    const handleKeySubmit = value => {\r\n        //setKeyIsLoading(true)\r\n        console.log(value)\r\n\r\n        EIMZOClient.loadKey(\r\n            value.key.text,\r\n            id => {\r\n                console.log(id);\r\n                EIMZOClient.createPkcs7(id, \"some_auth_text\",\r\n                    pkcs7Text => {\r\n                        console.log(pkcs7Text);\r\n                    },\r\n                    (e, r) => {\r\n                        console.log(\"e:\", e);\r\n                        console.log(\"r:\", r);\r\n                    })\r\n            },\r\n            function (e, r) {\r\n                console.log(\"Load key e:\", e);\r\n                console.log(\"Load key r:\", r);\r\n            })\r\n\r\n        EIMZOClient.createPkcs7(\r\n            value.key,\r\n            \"random_key_to_authorize\",\r\n            null,\r\n            pkcs7Text => {\r\n                console.log(pkcs7Text);\r\n            },\r\n            (e, r) => {\r\n                console.log(e);\r\n                console.log(r)\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-main-container\">\r\n            <Row justify=\"space-around\">\r\n                <Col md={10}>\r\n                    {\r\n                        activeTab === 0 ?\r\n                            <div className=\"login-form-containrer\">\r\n                                <Form\r\n                                    name=\"e-key\"\r\n                                    onFinish={handleKeySubmit}\r\n                                    scrollToFirstError\r\n                                    validateMessages={validateMessages}\r\n                                >\r\n                                    <div style={{\r\n                                        maxHeight: 300,\r\n                                        overflowY: 'auto',\r\n                                        border: \"1px solid #999\",\r\n                                        borderRadius: 11,\r\n                                        marginBottom: 10,\r\n                                        padding: 10\r\n                                    }}>\r\n                                    <Form.Item\r\n                                        name=\"key\">\r\n                                        <Radio.Group\r\n                                            size=\"large\">\r\n                                            {\r\n                                                eKeys.map(data => <Radio key={data.value} value={data}>\r\n                                                    <div className=\"client-availbale-key\">\r\n                                                        <div>FIO: {data.text.CN} </div>\r\n                                                        <div>STIR: {data.text.TIN}</div>\r\n                                                        <div>Tashkilot: {data.text.O}</div>\r\n                                                        <div>Amal qilish muddati: \r\n                                                            {moment(data.text.validTo).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Radio>)\r\n                                            }\r\n                                        </Radio.Group>\r\n                                    </Form.Item>\r\n                                    </div>\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            loading={isKeyLoading}\r\n                                            style={{ display: 'block', width: '100%' }}\r\n                                            className=\"factra-action-btns sing-btn\"\r\n                                            size=\"large\"\r\n                                            htmlType=\"submit\"\r\n                                            icon={<FontAwesomeIcon icon=\"sign-in-alt\" \r\n                                            className=\"factura-action-btn-icons\" />}>\r\n                                            Kirish\r\n                                        </Button>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                                <div onClick={()=>setActiveTab(1)} style={{ textAlign: \"center\", cursor: \"pointer\" }}>STIR va parol orqali kirish</div>\r\n                            </div>\r\n                            :\r\n                            <div className=\"login-form-containrer\">\r\n                                <h3>STIR va parol bilan kirish</h3>\r\n                                <Form\r\n                                    name=\"tin-pass\"\r\n                                    onFinish={handleSubmit}\r\n                                    scrollToFirstError\r\n                                    validateMessages={validateMessages}\r\n                                >\r\n                                    <Form.Item>\r\n                                        <Form.Item\r\n                                            key=\"dyna-form-facutura-no-old\"\r\n                                            name=\"tin\"\r\n                                            rules={[{ required: true }]}>\r\n                                            <Input\r\n                                                size=\"large\"\r\n                                                placeholder=\"STIR\" />\r\n                                        </Form.Item>\r\n                                        <span className=\"custom-input-label-1\">STIR</span>\r\n                                    </Form.Item>\r\n                                    <Form.Item>\r\n                                        <Form.Item\r\n                                            key=\"dyna-form-facutura-no-old\"\r\n                                            name=\"password\"\r\n                                            rules={[{ required: true }]}>\r\n                                            <Input.Password\r\n                                                size=\"large\"\r\n                                                placeholder=\"Parol\" />\r\n                                        </Form.Item>\r\n                                        <span className=\"custom-input-label-1\">Parol</span>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            loading={isLoading}\r\n                                            style={{ display: 'block', width: '100%' }}\r\n                                            className=\"factra-action-btns sing-btn\"\r\n                                            size=\"large\"\r\n                                            htmlType=\"submit\"\r\n                                            icon={<FontAwesomeIcon icon=\"sign-in-alt\" className=\"factura-action-btn-icons\" />}>\r\n                                            Kirish\r\n                                        </Button>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                                <div style={{textAlign: \"center\", cursor: \"pointer\"}} onClick={()=>setActiveTab(0)}>E-imzo bilan kirish</div>\r\n                            </div>\r\n\r\n                    }\r\n\r\n                </Col>\r\n            \r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setCurrentUser: (data) => dispatch(succesLogIn(data)),\r\n    setUserComps: data=>dispatch(setUserCompanies(data))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(withRouter(Login))\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Button } from 'antd';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectUserCompanies } from '../../redux/user/user.selector';\r\nimport './choose-company.style.scss';\r\n\r\nconst ChooseCompany = ({ history, companies }) => {\r\n\r\n    return (<div className=\"choose-company-main-container\">\r\n        <div className=\"choose-company-sub-container\">\r\n            <Button\r\n                onClick={() => { history.goBack() }}\r\n                type=\"primary\"\r\n\r\n                icon={<FontAwesomeIcon\r\n                    style={{ marginRight: 10 }}\r\n                    icon=\"arrow-circle-left\" />}>\r\n                Back\r\n            </Button>\r\n            <h2 style={{ textAlign: \"center\" }}> </h2>\r\n            <div className=\"company-card-con\">\r\n                {\r\n                    companies.map(comp => <div onClick={() => history.push(\"/cabinet\")} className=\"company-card\">\r\n                        <div className=\"company-name\">\r\n                            {comp.name}\r\n                        </div>\r\n\r\n                        <div className=\"company-text\">\r\n                            <span\r\n                                className=\"company-tin\"\r\n                                style={{ margin: 0, padding: 0 }}\r\n                            >{comp.tin}</span>\r\n                            <div>STIR</div>\r\n                        </div>\r\n\r\n                    </div>)\r\n                }\r\n                \r\n            </div>\r\n\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    companies: selectUserCompanies\r\n})\r\n\r\nexport default connect(mapStateToProps)(withRouter(ChooseCompany));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { createStructuredSelector } from 'reselect'\r\nimport Home from './home/home.component'\r\nimport Login from './login/login.component'\r\nimport { selectCurrentUser } from '../redux/user/user.selector'\r\nimport ChooseCompany from './choose_company/choose-company.component'\r\n\r\nconst FrontIndexRouter = ({ match, user }) => {\r\n    console.log(user)\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} component={ Home } />\r\n            {/* <Route exact path={`${match.path}/login`} component={ Login } /> */}\r\n            <Route\r\n                exact=\"choosecompany\"\r\n                path={`${match.path}/choosecompany`}\r\n                component={ChooseCompany}\r\n            />\r\n            <Route \r\n                exact \r\n                path={`${match.path}/login`} \r\n                render={()=>user ? < Redirect to =\"/cabinet\" /> : <Login />} \r\n                />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser,\r\n})\r\n\r\nexport default connect(mapStateToProps)(FrontIndexRouter)\r\n","import { Col, Form, Input, Row, Select, Button, Switch, message } from 'antd'\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nconst { Option } = Select;\r\n\r\nconst NotificationForm = ({ match }) => {\r\n\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(false);\r\n    const { notificationId } = match.params;\r\n    \r\n    useEffect(()=>{\r\n        if(notificationId){\r\n            axios({\r\n                url:\"api/v1/notifications/\"+notificationId,\r\n                method: \"get\"\r\n            })\r\n            .then(res=>{\r\n                form.setFieldsValue(res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    },[])\r\n    \r\n    const handleSubmit = values => {\r\n\r\n        setLoading(true)\r\n        axios({\r\n            method:  notificationId ? \"patch\" : \"post\",\r\n            data: values,\r\n            url: notificationId ? \"/api/v1/notifications/\"+notificationId  : \"/api/v1/notifications\" \r\n        }).then(res=>{\r\n            if(res.data.ok){\r\n                message.success(\"Notification saqlandi!\");\r\n            }else{\r\n                message.error(\"Notification saqlashda xatolik!\");\r\n            }\r\n            setLoading(false);\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            message.error(\"Notification saqalashda xatolik!\");\r\n            setLoading(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{marginTop: 20}}>\r\n            <Form\r\n                form={form}\r\n                onFinish={handleSubmit}\r\n                scrollToFirstError\r\n            >\r\n                <div className=\"factura-data-sheet-container\">\r\n                <h3>Notification yaratish</h3>\r\n                <Row justify=\"space-between\">\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_uz\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (uz)</span>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_ru\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (ru)</span>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_en\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (en)</span>\r\n                        </Form.Item>\r\n                        \r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"importance\">\r\n                                <Select\r\n                                    bordered={false}\r\n                                    size=\"large\"\r\n                                    name=\"importance\"\r\n                                    defaultActiveFirstOption\r\n                                >\r\n                                    <Option value={1}>1 - Uncha muxim emas</Option>\r\n                                    <Option value={2}>2 - Muxim emas</Option>\r\n                                    <Option value={3}>3 - Muxim</Option>\r\n                                    <Option value={4}>4 - Muximroq</Option>\r\n                                    <Option value={5}>5 - O'ta muxim</Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification muximligi</span>\r\n                        </Form.Item>\r\n                        <Row justify=\"space-between\">\r\n                            <Col md={11}>\r\n                                <Form.Item\r\n                                    label=\"Holati\"\r\n                                    name=\"isActive\"\r\n                                    valuePropName=\"checked\"\r\n                                    rules={[{ required: true }]}\r\n                                >\r\n                                    <Switch />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col md={11}>\r\n                                <Form.Item>\r\n                                    <Button \r\n                                        loading={loading}\r\n                                        style={{width: '100%'}}\r\n                                        size=\"large\" \r\n                                        htmlType=\"submit\"\r\n                                        className=\"factra-action-btns save-btn\"\r\n                                        >Saqlash</Button>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <Form.Item\r\n                            name=\"body_uz\"\r\n                            \r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea \r\n                                placeholder=\"Body uz\"\r\n                                rows={4} size=\"large\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                        \r\n                            name=\"body_ru\"\r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea rows={4} \r\n                                placeholder=\"Body ru\"\r\n                                size=\"large\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"body_en\"\r\n                            \r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea \r\n                                placeholder=\"Body en\"\r\n                                rows={4} size=\"large\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n                </div>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotificationForm\r\n","import { Col, Row } from 'antd'\r\nimport React from 'react'\r\nimport { Route, withRouter } from 'react-router-dom'\r\nimport HomePage from '../cabinet/common/home/home.component'\r\nimport RightSidebar from '../cabinet/right-sidebar/right-sidebar.component'\r\nimport NotificationForm from './notification/form.component'\r\n\r\nconst AdminIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-around\">\r\n                <Col md={5} lg={4}>\r\n                    <RightSidebar admin />\r\n                </Col>\r\n                <Col md={19} lg={20}>\r\n                    <Route \r\n                        exact \r\n                        path={`${match.path}/notification`} \r\n                        render={()=><HomePage \r\n                        doc=\"notification\"\r\n                        hideTabs />} />\r\n                    <Route exact path={`${match.path}/notification/create`} component={ NotificationForm } />\r\n                    <Route exact path={`${match.path}/notification/edit/:notificationId`} component={ NotificationForm } />\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(AdminIndexRouter)\r\n","import './App.css';\nimport 'antd/dist/antd.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport './components/font-awesome-icons/font-awesome-icons';\nimport CabinetIndex from './cabinet/index.component';\nimport moment from 'moment';\nimport \"moment/locale/uz-latn\";\nimport 'moment/locale/ru';\nimport axios from 'axios';\nimport FrontIndexRouter from './frontend/index.router';\nimport Header from './components/header/header.component';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectCurrentUser, selectToken } from './redux/user/user.selector';\nimport { logOut } from './redux/user/user.action';\nimport { API_HOST } from './env';\nimport AdminIndexRouter from './admin/admin.router';\n\nconst App = ({ user, token, signOut }) => {\n\n    moment.locale('uz-latn');\n    axios.defaults.baseURL = API_HOST\n\n    axios.interceptors.response.use(res => {\n\n        console.log(res)\n\n        if (res.status === 401) {\n            signOut();\n        }\n\n        return res;\n    }, e => {\n\n        return Promise.reject(e)\n    })\n\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + token;\n    // useEffect(()=>{\n    // }, [token])\n\n    return (\n        <div className=\"App\">\n            <Header />\n            <Switch>\n                <Route exact path=\"/\"\n                    render={\n                        () => < Redirect to=\"/home\" />\n                    } />\n                <Route path=\"/home\"\n                    component={FrontIndexRouter} />\n\n                <Route path=\"/cabinet\"\n                    render={() => user ? <CabinetIndex /> : <Redirect to=\"/home/login\" />} />\n\n                <Route path=\"/admin\" \n                    render={()=>user.role_id===1? <AdminIndexRouter /> : <Redirect to=\"/home\" />}\n                />\n            </Switch>\n        </div>\n    )\n}\n\nconst mapStateToProps = createStructuredSelector({\n    user: selectCurrentUser,\n    token: selectToken\n})\n\nconst mapDispatchToProps = dispatch => ({\n    signOut: () => dispatch(logOut())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import USER_ACTIONS from \"./user.action-types\";\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null,\r\n    token: null,\r\n    cabinetData: null,\r\n    userCompanies: []\r\n}\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case USER_ACTIONS.SET_USER_COMPANIES:\r\n            return { ...state, userCompanies: action.payload }\r\n\r\n        case USER_ACTIONS.SET_CABINET_DATA:\r\n            return { ...state,  cabinetData: action.payload}\r\n\r\n        case USER_ACTIONS.SET_USER_ONLY:\r\n            return {...state, \r\n                currentUser:  action.payload\r\n            }\r\n\r\n        case USER_ACTIONS.SUCCESS_LOGIN:\r\n            return {...state,\r\n                userType: action.payload.user ? 'user' : 'company',\r\n                currentUser: action.payload.user ? action.payload.user : action.payload.company,\r\n                token: action.payload.token\r\n            }\r\n\r\n        case USER_ACTIONS.LOG_OUT:\r\n            return {...state, currentUser: null, token: null }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default userReducer;","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport userReducer from './user/user.reducer';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['user']\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n})\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import { all, call } from 'redux-saga/effects';\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n\r\n    ])\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport { persistStore } from 'redux-persist';\r\nimport rootReducer from './root-reducer';\r\nimport creatSagaMiddleware from 'redux-saga';\r\nimport rootSaga from './root-saga';\r\n\r\nconst sagaMiddleWare = creatSagaMiddleware();\r\n\r\nconst middleWares = [sagaMiddleWare];\r\n\r\nmiddleWares.push(logger);\r\n\r\n// if(process.env.NODE_ENV ==='development'){\r\n//     middleWares.push(logger);\r\n// }\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middleWares));\r\n\r\nsagaMiddleWare.run(rootSaga)\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default { store, persistor };","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { persistor, store } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <PersistGate persistor={persistor}>\n        <React.StrictMode>\n          <App />\n        </React.StrictMode>\n      </PersistGate>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}