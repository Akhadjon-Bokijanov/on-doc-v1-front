{"version":3,"sources":["components/font-awesome-icons/font-awesome-icons.js","redux/user/user.selector.js","components/rich-text-parser/rich-text-parser.component.jsx","components/dyna-grid/dyna-grid.component.jsx","translate.js","utils/home.config.provider.js","cabinet/common/home/home.component.jsx","cabinet/common/person-fetch/person-fetch.component.jsx","components/data-sheet-custom-selector/custom-selector.component.jsx","components/data-sheet-custom-measure-selector/custom-selector.component.jsx","cabinet/common/seller-form.component.jsx","utils/main.js","cabinet/act/create/create.component.jsx","cabinet/common/buyer-form.component.jsx","redux/user/user.action-types.js","redux/user/user.action.js","cabinet/factura/create/product-grid.component.jsx","cabinet/models/FacturaProduct.js","cabinet/models/Factura.js","utils/e-imzo.js","cabinet/factura/create/create.component.jsx","cabinet/factura/view/view.component.jsx","cabinet/factura/index.component.jsx","env.js","cabinet/aferta-popup/aferta-popup.component.jsx","cabinet/bindrouming-popup/bindrouming-popup.component.jsx","cabinet/right-sidebar/right-sidebar.component.jsx","components/admin-card/admin-card.component.jsx","cabinet/home/home.component.jsx","cabinet/empowerment/create/create.component.jsx","cabinet/empowerment/index.component.jsx","cabinet/act/view/view.component.jsx","cabinet/act/index.router.jsx","cabinet/contract/create/create.component.jsx","cabinet/contract/view/view.component.jsx","cabinet/contract/index.router.jsx","cabinet/tty/create/create.component.jsx","cabinet/tty/view/view.component.jsx","cabinet/tty/index.router.jsx","cabinet/notifications/notifications.component.jsx","cabinet/account-form/account-form.component.jsx","components/classcodes-ajax-search/classcodes-ajax-search.component.jsx","cabinet/user-products/user-products.component.jsx","cabinet/password-change/password-change.component.jsx","cabinet/profile/profile.component.jsx","cabinet/index.component.jsx","components/language-dropdown/locale-dropdown.jsx","components/left-sidebar/left-sidebar.component.jsx","components/header/header.component.jsx","frontend/home/home.component.jsx","frontend/login/login.component.jsx","utils/utils.js","frontend/choose_company/choose-company.component.jsx","frontend/index.router.jsx","admin/notification/form.component.jsx","admin/admin.router.jsx","App.jsx","reportWebVitals.js","redux/user/user.reducer.js","redux/root-reducer.js","redux/root-saga.js","redux/store.js","index.js"],"names":["library","add","faBan","faHome","faNewspaper","fab","faInfoCircle","faUserCog","faCertificate","faCheckSquare","faQuestionCircle","faAddressCard","faPlusSquare","faClone","faTrashAlt","faSignature","faSave","faFileAlt","faFileContract","faFileInvoice","faFileSignature","faFileArchive","faFileInvoiceDollar","faClock","faCheckCircle","faBookmark","faSignInAlt","faCloudDownloadAlt","faCloudUploadAlt","faTimesCircle","faBell","faWallet","faArrowCircleLeft","faSyncAlt","selectUser","state","user","selectCurrentUser","createSelector","currentUser","selectToken","token","selectCabinetData","cabinetData","selectLoadedKey","loadedKeyId","selectUserCompanies","userCompanies","selectKeyUser","keyUser","selectUserProducts","isAferta","isRouming","products","RichTextParser","text","otherProps","className","style","paddingLeft","data-gramm","ReactHtmlParser","mapStateToProps","createStructuredSelector","connect","dispatch","withRouter","reload","loading","triggerAction","match","setItemToBeEdited","triggerActionWithPayload","title","config","modelName","primaryKeyName","primaryKeyValue","dataSourcePath","deleteRequestPath","addElementViewPath","replaceInViewPath","viewActionPath","approveRequestPath","editActionPath","resultsViewPath","triggerReload","triggerWithPayload","payload","deleteConfirmText","actions","allColumns","useState","searchText","setSearchText","searchedColumn","setSearchedColumn","setFilteredInfo","isFulliew","toggleFullView","current","pageSize","pagination","setPagination","totalDataCount","setTotalDataCount","ajaxDataSource","setAjaxDataSource","loadingSource","setLoadingResource","reRenderer","setRerenderer","searchInput","useEffect","url","axios","replace","method","then","res","Array","isArray","data","pages","total","console","log","catch","error","cancel","message","handleSearch","selectedKeys","confirm","dataIndex","handleReset","clearFilters","columns","forEach","element","index","push","key","width","ellipsis","isSearchable","filterDropdown","setSelectedKeys","padding","ref","node","placeholder","value","onChange","e","target","onPressEnter","marginBottom","display","type","onClick","icon","SearchOutlined","size","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","isFilterable","filters","map","univer","customView","isBoolean","dataType","justifyContent","flexWrap","items","field","item","marginRight","borderRadius","moment","format","length","fixed","edit","placement","to","EditOutlined","delete","onConfirm","tin","username","success","confirmDelete","onCancel","okText","cancelText","DeleteOutlined","view","EyeOutlined","chart","onDoubleClick","marginTop","FullscreenExitOutlined","FullscreenOutlined","rowKey","sorter","bordered","dataSource","scroll","x","position","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","whitelist","interpolation","escapeValue","status_renderer","code","t","bind","status","10","15","17","20","30","40","HomePage","doc","hideTabs","addParams","customButton","useTranslation","createTitle","gridSourceUrl","createUrl","gridConfig","get_home_config","activeTab","setActiveTab","1","2","3","4","p","name","PersonFetch","pTin","tinLabel","pName","nameLabel","form","tinCol","nameCol","justify","md","Item","isNaN","warning","fullName","fetcherData","getFieldValue","setFieldsValue","contract_partners","err","SelectEditor","Select","Option","props","optionstag","userProducts","d","label","CatalogCode","classCode","CatalogName","handleChange","handleKeyDown","opt","this","onCommit","onRevert","which","ENTER_KEY","TAB_KEY","persist","setState","showSearch","autoFocus","dropdownClassName","dropdownMatchSelectWidth","open","selected","onInputKeyDown","options","PureComponent","SelectMeasureEditor","measures","measure","docType","regCode","mfo","bank_account","address","director_fio","director_tin","accountant","phone","rules","required","initialValue","disabled","FIRST_TTY_GRID_ROW","readOnly","dataEditor","FIRST_FACTURA_GRID_ROW","FIRST_ACT_GRID_ROW","FIRST_CONTRACT_GRID_ROW","FIRST_EMPOWERMENT_GRID_ROW","convertProductsToGrid","gridProducts","product","unshift","parseFloat","measureId","count","price","deliveryCost","docs","weightMeasureMethod","itemClass","weightBrut","weightNet","setActClient","seller","client","Form","useForm","actId","params","actText","initialData","setInitialData","isLoading","setIsloading","contractDate","created_at","actDate","updated_at","resetFields","setGrid","act_products","fullView","toglleFullView","grid","initialValues","onFinish","values","act","ok","scrollToFirstError","validateMessages","types","email","number","range","rows","headers","Authorization","multiple","action","accept","file","response","excel","href","download","overflowX","valueRenderer","cell","onContextMenu","i","j","preventDefault","onCellsChanged","changes","row","col","sampleRow","newgrid","danger","rowId","splice","primary","htmlType","BuyerForm","remove","fieldList","isFacturaSingleSided","setIsFacturaSingleSided","buyerBranches","setBuyerBranches","account","buyerTin","buyerAccountant","buyerAccount","buyerAddress","buyerMobilePhone","buyerName","buyerMfo","buyerDirector","director","buyerDirectorTin","directorTin","buyerVatRegCode","branches","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","val","defaultActiveFirstOption","align","USER_ACTIONS","SUCCESS_LOGIN","LOG_OUT","SET_USER_ONLY","SET_CABINET_DATA","SET_USER_COMPANIES","SET_USER_LOCALE","SET_LOADED_KEY_ID","SET_KEY_USER","SET_IS_AFERTA","SET_IS_ROUMING","SET_USER_PRODUCTS","setLoadedKeyId","id","logOut","setUser","ProductValueRendered","prop","loadProducts","setUserProducts","getProducts","ex","valueViewer","priceamount","aksizamount","vatamout","shift","FacturaProduct","product_property_order","Factura","GetFacturaDataToSign","FacturaId","agentFio","agentTin","contractNo","empowermentDateOfIssue","empowermentNo","facturaDate","facturaNo","facturaType","oldFacturaId","oldFacturaNo","oldFacturaDate","sellerAccount","sellerAccountant","sellerAddress","sellerDirector","sellerMfo","sellerName","sellerTin","sellerVatRegCode","singleSidedType","Buyer","Seller","f","OldFacturaDoc","OldFacturaDate","OldFacturaId","OldFacturaNo","SingleSidedType","FacturaProductId","FacturaType","FacturaDoc","FacturaDate","FacturaNo","BuyerTin","SellerTin","ContractDoc","ContractDate","ContractNo","FacturaEmpowermentDoc","EmpowermentDateOfIssue","EmpowermentNo","AgentFio","AgentTin","ProductList","String","prototype","splitKeep","splitter","ahead","self","result","matches","lastIndex","RegExp","m","substChar","subst","getSubst","nextIndex","part","substring","CAPIWS","URL","window","location","protocol","callFunction","funcDef","callback","WebSocket","socket","onerror","onmessage","event","JSON","parse","close","onopen","send","stringify","version","apidoc","apikey","domainAndKey","o","arguments","EIMZOClient","NEW_API","API_KEYS","checkVersion","fail","major","minor","installedVersion","parseInt","reason","installApiKeys","listAllUserKeys","itemIdGen","itemUiGen","errors","_findCertKeys2","firstItmId","_findPfxs2","firstItmId2","_findTokens2","firstItmId3","r","firstId","_findCertKeys","_findPfxs","loadKey","itemObject","verifyPassword","vo","plugin","disk","path","serialNumber","keyId","alias","cardUID","changeKeyPassword","createPkcs7","timestamper","btoa","unescape","encodeURIComponent","pkcs7","pkcs7_64","sn","signer_serial_number","signature_hex","tst","pkcs7tst","appendPkcs7Attached","_getX500Val","s","n","search","slice","_findCertKeyCertificates","allDisks","diskIndex","rec","certificates","el","subjectName","validFrom","Date","validTo","issuerName","publicKeyAlgName","CN","TIN","O","T","itmkey","itm","disks","_findPfxCertificates","x500name_ex","toUpperCase","UID","itmkey0","tokens","info","statusInfo","ownerName","loadedKey","setTimer","facturaId","newFacturaId","setNewFacturaId","setFacturaType","saveLoading","setSaveLoading","setProducts","gridInitialValue","setGridInitialValue","ForeignCompany","Account","Accountant","Address","Director","BankId","Name","VatRegCode","FacturaDataToForm","OrdNo","Barcode","MeasureId","Count","BaseSumma","ExciseRate","ExciseSum","DeliverySum","VatRate","VatSum","DeliverySumWithVat","ConvertProductToGrid","Products","FACTURA_TYPES","handleSubmit","factura","Tin","HasVat","HasExcise","subProp","HasCommittent","HasMedical","ConvertGridToProduct","getFieldsValue","Sign","time","now","QRCode","require","printRef","useRef","setFactura","setLoading","spinning","trigger","content","documentTitle","textAlign","textTransform","fontWeight","ID","Doc","cellPadding","fontSize","exact","component","FacturaCreateForm","FacturaView","API_HOST","PROVIDER","providerTin","providerName","systemName","enabled","IMPORTANCE","5","signOut","afertaText","setAfertaText","is_aferta","isOpen","setIsOpen","okDisable","setOkDisable","keyboard","closable","onOk","okButtonProps","maskClosable","top","bottom","height","overflowY","checked","marginLeft","is_online","providers","sign","zIndex","Countdown","Statistic","setData","setCabinetData","uOut","admin","active","setActive","notifications","setNotifications","showModal","setShowModal","factura_awaiting","contract_awaiting","act_awaiting","emp_awating","tty_awaiting","badgeCount","setBedgeCount","cabinet","pathname","contract","empowerment","tty","freeDoc","notification","closeModel","bodyStyle","cancelButtonProps","title_uz","importance","body_uz","valueStyle","AdminCard","income","outcome","rejected","saved","TabList","0","list_of_docs","footer","create_url","dyna_config","addActionPath","gutter","empowermentId","setIsLoading","empowermentDateOfExpire","agentPassportDateOfIssue","emp","passIssueDate","passOrg","passNumber","passSeries","_isValid","agentPassportIssuedBy","agentPassportNumber","EmpowermentIndex","EmpowermentForm","margin","src","auth_key","ActIndexRouter","ActForm","ActView","contractId","contractExpireDate","parts","contract_parts","partner","branchCode","branchName","fizFio","fizTin","mobilePhone","oked","workPhone","physicalTin","physicalName","buyerBranch","buyerBranchName","buyerPhysicalFio","buyerPhysicalTin","contract_products","ordNo","partners","List","fields","sm","PlusOutlined","fieldKey","addonAfter","block","ContractIndexRouter","ConractCreateForm","ContractView","ttyId","wayBillDate","tripTicketDate","Group","optionType","TTYIndexRouter","TTYForm","TTYView","Notifications","er","renderItem","setUserOnly","setSelected","setOptions","mode","showArrow","filterOption","onSearch","notFoundContent","class_codes","setSpinning","cursor","password","Password","dependencies","hasFeedback","validator","_","Promise","reject","Error","resolve","TabPane","Tabs","ProfileComponent","tab","lg","CabinetHome","FacturaIndex","LanguagesDropdown","locale","changeLocale","i18next","language","activeLang","setActiveLang","languagesMenu","changeLanguage","alt","overlay","LeftSidebar","onscroll","alignItems","toggled","toggle","Home","setCurrentUser","succesLogIn","setEspUser","setKeyUser","setKeyId","history","eKeys","setEKeys","itemId","v","isKeyLoading","characters","charactersLength","charAt","Math","floor","random","Generator","pkcs7Text","guid","maxHeight","border","companies","setUserComps","setUserCompanies","setChoosenCompany","a","push_to_cabinet","company","chosen","setChosen","company_tin","goBack","xs","comp","company_name","ChooseCompany","Login","NotificationForm","notificationId","valuePropName","defaultFormat","defaults","baseURL","common","warn","FrontIndexRouter","role_id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","selectedEsign","userReducer","persistConfig","storage","rootReducer","combineReducers","persistReducer","rootSaga","all","sagaMiddleWare","creatSagaMiddleware","middleWares","logger","store","createStore","applyMiddleware","run","persistor","persistStore","ReactDOM","StrictMode","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.3cfd70ac.chunk.js","sourcesContent":["import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { fab } from '@fortawesome/free-brands-svg-icons'\r\nimport {\r\n    faAddressCard,\r\n    faCertificate,\r\n    faCheckSquare,\r\n    faHome,\r\n    faInfoCircle,\r\n    faQuestionCircle,\r\n    faUserCog,\r\n    faBan,\r\n    faSignature,\r\n    faSave,\r\n    faFileContract,\r\n    faFileInvoice,\r\n    faFileSignature,\r\n    faFileInvoiceDollar,\r\n    faSignInAlt,\r\n    faCloudDownloadAlt,\r\n    faCloudUploadAlt,\r\n    faWallet,\r\n    faArrowCircleLeft,\r\n    faSyncAlt\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport {\r\n    faBell,\r\n    faBookmark,\r\n    faCheckCircle,\r\n    faClock,\r\n    faClone,\r\n    faFileAlt,\r\n    faFileArchive,\r\n    faNewspaper,\r\n    faPlusSquare,\r\n    faTimesCircle,\r\n    faTrashAlt,\r\n\r\n} from '@fortawesome/free-regular-svg-icons'\r\n\r\nlibrary.add(\r\n    faBan,\r\n    faHome,\r\n    faNewspaper,\r\n    fab,\r\n    faInfoCircle,\r\n    faUserCog,\r\n    faCertificate,\r\n    faCheckSquare,\r\n    faQuestionCircle,\r\n    faAddressCard,\r\n    faPlusSquare,\r\n    faClone,\r\n    faTrashAlt,\r\n    faSignature,\r\n    faSave,\r\n    faFileAlt,\r\n    faFileContract,\r\n    faFileInvoice,\r\n    faFileSignature,\r\n    faFileArchive,\r\n    faFileInvoiceDollar,\r\n    faClock,\r\n    faCheckCircle,\r\n    faBookmark,\r\n    faSignInAlt,\r\n    faCloudDownloadAlt,\r\n    faCloudUploadAlt,\r\n    faTimesCircle,\r\n    faBell,\r\n    faWallet,\r\n    faArrowCircleLeft,\r\n    faSyncAlt\r\n)","import { createSelector } from 'reselect';\r\n\r\nconst selectUser = (state) => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n    [selectUser],\r\n    user => user.currentUser\r\n)\r\n\r\nexport const selectToken = createSelector(\r\n    [selectUser],\r\n    user => user.token\r\n)\r\n\r\nexport const selectCabinetData = createSelector(\r\n    [selectUser],\r\n    user=>user.cabinetData\r\n)\r\n\r\nexport const selectLoadedKey = createSelector(\r\n    [selectUser],\r\n    user => user.loadedKeyId\r\n)\r\n\r\nexport const selectUserCompanies = createSelector(\r\n    [selectUser],\r\n    user=>user.userCompanies\r\n)\r\n\r\nexport const selectKeyUser = createSelector(\r\n    [selectUser],\r\n    user => user.keyUser\r\n)\r\n\r\nexport const selectIsAferta = createSelector(\r\n    [selectUser],\r\n    user => user.isAferta\r\n)\r\nexport const selectKeyIsRouming = createSelector(\r\n    [selectUser],\r\n    user => user.isRouming\r\n)\r\n\r\nexport const selectUserProducts = createSelector(\r\n    [selectUser],\r\n    user => user.products\r\n)","import React from 'react';\r\nimport ReactHtmlParser from 'react-html-parser'\r\n\r\n\r\nconst RichTextParser = ({text, ...otherProps})=>(\r\n    <div className=\"ql-snow\" {...otherProps}>\r\n        <div className=\"ql-editor\" style={{paddingLeft: 0}} data-gramm=\"false\">\r\n            {ReactHtmlParser(text)}\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default RichTextParser;","import React, { useState } from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport { Table, Tooltip, Input, Button, Space, Popconfirm, message } from 'antd';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './dyna-grid.style.scss';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n//import { setItemToBeEdited, triggerFetchStart, triggerActionWithPayload } from '../../redux/admin/admin.actions';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n//import { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { \r\n  EditOutlined, \r\n  DeleteOutlined, \r\n  EyeOutlined, \r\n  SearchOutlined, \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\n//import { RESOURCES_PATH } from '../../env';\r\nimport RichTextParser from '../rich-text-parser/rich-text-parser.component';\r\nimport { useEffect } from 'react';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\n\r\nconst DynaGrid = ({\r\n  \r\n  reload,\r\n  loading,                //loading state of table\r\n  currentUser,            //Provided by the comonent\r\n  match,                  //Provided by the comonent\r\n  setItemToBeEdited,      //Provided by the comonent\r\n  triggerAction,          //Provided by the comonent, redux action consumer\r\n  triggerActionWithPayload, //Provided by comonent, redux action and payload consumer\r\n  title,                  //title of DynaGrid\r\n  //dataSource,             //data source for the component\r\n  config:{                //Config object\r\n    modelName,\r\n    primaryKeyName,\r\n    primaryKeyValue,\r\n    dataSourcePath,       //data source path for the table should be pagination\r\n    addElementViewPath,     //add element to the core\r\n    deleteRequestPath,    //delete request path for API server \r\n    replaceInViewPath,\r\n    approveRequestPath,   //approve request path for API server \r\n    viewActionPath,       //UI route to view the element\r\n    editActionPath,\r\n    resultsViewPath,      //view path to see the results\r\n    triggerReload,        //action to triggere when delete, approve is done\r\n    triggerWithPayload,   //Trigger action with payload\r\n    payload,              //Payload to trigger action\r\n    deleteConfirmText,    //Delete confirm text\r\n    actions,              //Object of actions to allow\r\n                          //  {\r\n                          //    add: true,\r\n                          //    edit: true,\r\n                          //    delete: true,\r\n                          //    approve: true,\r\n                          //    view: true\r\n                          //  }\r\n    allColumns,           // array of columns to show\r\n                          //  [\r\n                          //    dataIndex: name of the data in the source object  \r\n                          //    dataType: \"image\" | to show image, \r\n                          //              \"array\" | to show array of strings\r\n                          //               \"rich-text\" | to show rich text format\r\n                          //              \"object\" | if dataIndex value is object,\r\n                          //                    then you have to provide \"items\" array to show certain properties of object\r\n                          //               \"rich-text\": if dataIndex value includes HTML tags \r\n                          //    isSearchable: true | false \r\n                          //    isFilterable: true | false\r\n                          //    filters: [\"item1\", \"item2\"]  filter options\r\n                          //  ]\r\n  }\r\n})=> {\r\n\r\n\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchedColumn, setSearchedColumn] = useState('');\r\n  const [filteredInfo, setFilteredInfo] = useState(null);\r\n  const [isFulliew, toggleFullView] = useState(false);\r\n  \r\n  const [pagination, setPagination] = useState({current: 1, pageSize: 10})\r\n  const [totalDataCount, setTotalDataCount] = useState(0);\r\n  const [ajaxDataSource, setAjaxDataSource] = useState([])\r\n  const [loadingSource, setLoadingResource] = useState(false);\r\n  const [reRenderer, setRerenderer]=useState(reload??1)\r\n\r\n  let searchInput = null;\r\n\r\n  //#region PAGINATION PART\r\n  useEffect(()=>{\r\n\r\n    let url = `${dataSourcePath}&page=${pagination.current}&limit=${pagination.pageSize}${searchText ? `&${modelName}[${searchedColumn}]=${searchText}` : ''}`\r\n\r\n    setLoadingResource(true)\r\n    axios({\r\n      url: url.replace(/[ ]+/g, \"\"),\r\n      method: \"GET\"\r\n    }).then(res=>{\r\n\r\n      if (Array.isArray(res.data.data)){\r\n        setAjaxDataSource(res.data.data);\r\n        setTotalDataCount(res.data.pages?.total)\r\n      }else{\r\n        console.log(res);\r\n      }\r\n      setLoadingResource(false)\r\n    }).catch(error=>{\r\n      console.log(error);\r\n      setLoadingResource(false)\r\n    })\r\n  }, [pagination, dataSourcePath, searchText, searchedColumn, reRenderer])\r\n  //#endregion PAGINATION PART\r\n\r\n  \r\n  //#region PopConfirm functions\r\n  const confirmDelete = (record) => {\r\n\r\n    //setVisible(false);\r\n    setLoadingResource(true)\r\n    axios({\r\n      url: `/${deleteRequestPath}?${primaryKeyName??'id'}=${record[primaryKeyValue??'id']}&tin=${currentUser.tin??currentUser.username}`, \r\n      method: 'delete',\r\n      })\r\n      .then(res=>{\r\n        setRerenderer(reRenderer+1)\r\n        setLoadingResource(false)\r\n        if(triggerReload){\r\n          triggerAction(triggerReload)\r\n        }\r\n\r\n        if(triggerWithPayload){\r\n          triggerActionWithPayload(triggerActionWithPayload, payload)\r\n        }\r\n        //setAction(Math.random())\r\n        message.success(`${record[primaryKeyValue]} is deleted!`);\r\n      }).catch(error=>{\r\n        setLoadingResource(false)\r\n        message.error('Failed to delete!');\r\n        console.error(error);\r\n        \r\n      })\r\n  };\r\n\r\n\r\n  const cancel = () => {\r\n    //setVisible(false);\r\n    message.error('Action cancelled!');\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region getColumnSearchProps\r\n  const getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            searchInput = node;\r\n          }}\r\n          placeholder={`${dataIndex} qidirish`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Qidirish\r\n          </Button>\r\n          <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Qaytarish\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n    record[dataIndex] \r\n      ? record[dataIndex].toString().toLowerCase().includes(value.toString().toLowerCase()) \r\n      : false,\r\n      onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.select());\r\n      }\r\n    },\r\n    render: text =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={ text ? text.toString() : null}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  //#endregion\r\n\r\n  //#region handleSearch\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex)\r\n\r\n  };\r\n\r\n  const handleReset = clearFilters => {\r\n    console.log(clearFilters)\r\n    \r\n    clearFilters();\r\n    setSearchText('')\r\n  \r\n  };\r\n\r\n  const handleChange = (pagination, filters, sorter) => {\r\n    console.log('Various parameters', pagination, filters, sorter);\r\n    setPagination(pagination)\r\n    setFilteredInfo(filters);\r\n    //setSortedInfo(sorter);\r\n\r\n  };\r\n  //#endregion\r\n\r\n  const columns =[]\r\n\r\n  //#region column config\r\n  allColumns.forEach((element, index)=> {\r\n    columns.push(\r\n      {\r\n        dataIndex: element.dataIndex,\r\n        title: element.title,\r\n        key: element.dataIndex,\r\n        width: element.width ? element.width : 90,\r\n        ellipsis: element.dataIndex==='detail' || element.dataIndex ==='description' ? true : false,     \r\n      });\r\n\r\n    if(element.isSearchable) \r\n    {\r\n        columns[index] = {...columns[index], ...getColumnSearchProps(element.dataIndex)}\r\n    }\r\n\r\n    if(element.isFilterable)\r\n    {\r\n      columns[index] = {...columns[index], \r\n        filters: element.filters.map(univer=>({text: univer.text ?? univer, value: univer.value ?? univer})), \r\n        onFilter: (value, record) => {\r\n          setSearchText(value.toString().toLowerCase())\r\n          setSearchedColumn(element.dataIndex)\r\n          return ajaxDataSource;\r\n        }}//record[element.dataIndex].toString().toLowerCase().includes(value.toString().toLowerCase()),}\r\n    }\r\n\r\n    if(element.customView){\r\n      columns[index] = { ...columns[index],\r\n      dataIndex: null,\r\n      render: record=>element.customView(record[element.dataIndex])\r\n      }\r\n    }\r\n\r\n    if(element.isBoolean){\r\n      columns[index] = {...columns[index], \r\n      dataIndex: null,\r\n      render: (record)=><div>{record[element.dataIndex] ? 1 : 0}</div>}\r\n    }\r\n\r\n    if(element.isBoolean && element.isFilterable){\r\n      columns[index] = {...columns[index], \r\n      dataIndex: null,\r\n      filters: [{text: 1, value: true}, {text: 0, value: false}], \r\n      onFilter: (value, record) =>!!record[element.dataIndex] === !!value,\r\n      render: (record)=><div>{record[element.dataIndex] ? 1 : 0}</div>}\r\n    }\r\n    \r\n    // if(element.dataType === 'image'){\r\n    //   columns[index] = { \r\n    //     ...columns[index],\r\n    //     dataIndex: null,\r\n    //     width: 170,\r\n    //     render: (record)=><div style={{textAlign: \"center\"}}>\r\n    //       <img style={{width: 80, height: 80 }} src={`${RESOURCES_PATH}/${record[element.dataIndex]}`} alt={`${record[element.dataIndex]}`} />\r\n    //     </div>\r\n    //   }\r\n    // }\r\n\r\n    if(element.dataType === 'rich-text'){\r\n      columns[index] = { \r\n        ...columns[index],\r\n        dataIndex: null,\r\n        render: (record)=><RichTextParser text={record[element.dataIndex]} />\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'object'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        render: record=><div style={{display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap'}}>\r\n          {\r\n            record[element.dataIndex] \r\n          ? element.items.map((field, index)=><div key={`sub-dyna-field-${index}`}>{`${field}: `}{ record[element.dataIndex][field] }</div>)\r\n            : \"Nothing found!\"\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'array'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        onFilter: (value, record) => record[element.dataIndex].includes(value),\r\n        render: record=><div>\r\n          {\r\n            record[element.dataIndex].map(item => <span style={{ backgroundColor: '#4870c7', color: 'white', padding: 3, marginRight: 5, marginBottom: 5, borderRadius: 3 }}>{item} </span>)\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n    if (element.dataType === \"date\") {\r\n      columns[index]={\r\n        ...columns[index],\r\n        width: 150,\r\n        dataIndex: null,\r\n        render: record=><span>{ moment(record[element.dataIndex]).format('MMMM Do YYYY, H:mm:ss') }</span>\r\n      }\r\n    }\r\n\r\n    if(element.dataType === 'array-count'){\r\n      columns[index]={\r\n        ...columns[index],\r\n        dataIndex: null,\r\n        onFilter: (value, record) => record[element.dataIndex].includes(value),\r\n        render: record=><div>\r\n          {\r\n            record[element.dataIndex].length\r\n          }\r\n        </div>\r\n      }\r\n    }\r\n\r\n  });\r\n    //#endregion\r\n    \r\n    //Actions\r\n    columns.push({\r\n      title: \" \",\r\n      key: 'actions',\r\n      width: 90,\r\n      fixed: 'right',\r\n      render: (record) => \r\n        <div className=\"dyna-grid-actions\">\r\n          {actions.edit \r\n          ? <Tooltip placement=\"left\" title=\"O'zgartirish\">\r\n              {console.log(primaryKeyValue)}\r\n              <Link \r\n              \r\n                to={`${editActionPath}/${record[primaryKeyValue]}`}>\r\n                  <EditOutlined style={{color: 'blue'}}/>\r\n              </Link>\r\n            </Tooltip>\r\n          : null\r\n          }\r\n\r\n          {actions.delete \r\n          ? <Tooltip placement=\"bottom\" title=\"O'chirish\">\r\n              <Popconfirm\r\n                title={ deleteConfirmText ? deleteConfirmText : \"O'chirilsin?\" }\r\n                onConfirm={()=>{confirmDelete(record)}}\r\n                onCancel={cancel}\r\n                okText=\"Ha\"\r\n                cancelText=\"Yo'q\"\r\n              >\r\n              <DeleteOutlined style={{color: 'red'}} />\r\n            </Popconfirm>\r\n          </Tooltip>\r\n          : null\r\n          }\r\n          \r\n          {actions.view \r\n          ? <Tooltip placement=\"bottom\" title=\"Ko'rish\" >\r\n                <Link to={`${ replaceInViewPath \r\n                  ? viewActionPath.replace(`{${replaceInViewPath}}`, record[replaceInViewPath]) \r\n                  : viewActionPath}/${record[primaryKeyValue??'id']}`}><EyeOutlined /></Link>\r\n              </Tooltip>\r\n          : null  \r\n          }\r\n\r\n          {actions.chart\r\n          ?\r\n            <Tooltip placement=\"bottomLeft\" title=\"Natijalar\">\r\n              <Link to={`${resultsViewPath}/${record[primaryKeyValue??'id']}`}>\r\n                <FontAwesomeIcon icon=\"chart-line\" style={{color: '#fb8c00'}} />\r\n              </Link>\r\n            </Tooltip>\r\n          : null\r\n          }\r\n\r\n        </div>,\r\n    })\r\n\r\n    return (\r\n    <div className={`dyna-grid-main-container ${isFulliew ? 'akhadjon-dyna-grid-full-view' : null}`} >\r\n      <div onDoubleClick={()=>toggleFullView(!isFulliew)} \r\n        \r\n        style={{marginTop: 40, marginBottom: 10, display: \"flex\", justifyContent: \"space-between\"}}>\r\n        <Button \r\n          \r\n          onClick={()=>{toggleFullView(!isFulliew)}} \r\n          type=\"primary\" \r\n          icon={isFulliew ? <FullscreenExitOutlined /> : <FullscreenOutlined />}>\r\n            { isFulliew ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n          </Button>\r\n        <div>\r\n          <h3>{title}</h3>\r\n        </div>\r\n      </div>\r\n      <Table\r\n        \r\n        loading={loadingSource}\r\n        rowKey=\"id\"\r\n        onChange={handleChange} \r\n        bordered \r\n        pagination={pagination}\r\n        columns={columns} \r\n          dataSource={ajaxDataSource} \r\n        scroll={{ x: allColumns.length * 120, }}//y: window.innerHeight - window.innerHeight / 13 }} \r\n        pagination={{position: ['bottomCenter'], total: totalDataCount}}\r\n      />\r\n    </div>);\r\n  }\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentUser: selectCurrentUser,\r\n})\r\n\r\nconst dispatchMapStateToPros = (dispatch)=>({\r\n  //setItemToBeEdited: (item)=>dispatch(setItemToBeEdited(item)),\r\n  //triggerAction: (action)=>dispatch(triggerFetchStart(action)),\r\n  //triggerActionWithPayload: (action, payload)=>dispatch(triggerActionWithPayload(action, payload))\r\n})\r\n\r\nexport default connect(mapStateToProps, dispatchMapStateToPros)(withRouter(DynaGrid));","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n// don't want to use this?\r\n// have a look at the Quick start guide \r\n// for passing in lng and translations on init\r\n\r\nconst Languages = ['uz', 'en', 'ru', 'uz-Cyrl'];\r\n\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  .use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    fallbackLng: 'uz-Cyrl',\r\n    debug: true,\r\n    whitelist: Languages,\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\n\r\nexport default i18n;","import React from \"react\";\r\nimport i18n from \"../translate\";\r\n\r\nexport const get_home_config = doc => {\r\n\r\n    const t = i18n.t.bind(i18n)\r\n\r\n    switch (doc) {\r\n\r\n        case \"user-products\":\r\n            return {\r\n                title: t(\"Maxsulotlarim\"),\r\n                createTitle: t(\"Maxsulotlarni yuklash\"),\r\n                gridSourceUrl: \"/classifications/index\",\r\n                createUrl: \"/cabinet/products\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'classifications/delete',\r\n                    deleteConfirmText: t(\"Shu productni ochirilsinmi?\"),\r\n                    actions: {\r\n                        delete: true,\r\n                    },\r\n                    allColumns: [{\r\n                        title: t(\"Katalog kodi\"),\r\n                        dataIndex: 'groupCode',\r\n                        isSearchable: true,\r\n                        width: 200\r\n                    },\r\n                    {\r\n                        title: t(\"Klass kodi\"),\r\n                        dataIndex: 'classCode',\r\n                        isSearchable: true,\r\n                        width: 200\r\n                    },\r\n                    {\r\n                        title: t(\"Nomi\"),\r\n                        dataIndex: 'className',\r\n                        isSearchable: true,\r\n                        width: 300,\r\n                        \r\n\r\n                    },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'notification':\r\n            return {\r\n                title: \"Notifications\",\r\n                createTitle: \"Notification yaratish\",\r\n                createUrl: \"/admin/notification/create\",\r\n                gridSourceUrl: \"/api/v1/notifications\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/notifications',\r\n                    viewActionPath: '/admin/notification/view',\r\n                    editActionPath: '/admin/notification/edit',\r\n                    deleteConfirmText: \"Shu notification ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Sarlavha\",\r\n                            dataIndex: 'title_uz',\r\n                            isSearchable: true,\r\n                            width: 300\r\n                        },\r\n                        {\r\n                            title: \"Mazmuni\",\r\n                            dataIndex: 'body_uz',\r\n                            isSearchable: true,\r\n                            width: 400\r\n                        },\r\n                        {\r\n                            title: \"Muhimligi\",\r\n                            dataIndex: 'importance',\r\n                            isFilterable: true,\r\n                            width: 100,\r\n                            filters: [\r\n                                { value: 1, text: \"1 - Uncha muxim emas\" },\r\n                                { value: 2, text: \"2 - Muxim emas\" },\r\n                                { value: 3, text: \"3 - Muxim\" },\r\n                                { value: 4, text: \"4 - Muximroq\" },\r\n                                { value: 5, text: \"5 - O'ta muxim\" },\r\n                            ]\r\n\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: \"isActive\",\r\n                            isFilterable: true,\r\n                            width: 100,\r\n                            filters: [\r\n                                { value: 0, text: \"Aktiv emas\" },\r\n                                { value: 1, text: \"Aktiv\" },\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'act':\r\n            return {\r\n                title: \"Aktlar\",\r\n                createTitle: \"Akt yaratish\",\r\n                createUrl: \"/cabinet/act/create\",\r\n                gridSourceUrl: \"/api/v1/acts\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/atcs',\r\n                    viewActionPath: '/cabinet/act/view',\r\n                    editActionPath: '/cabinet/act/edit',\r\n                    deleteConfirmText: \"Shu akt ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Akt \",\r\n                            dataIndex: 'actNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Kontrkt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'contract':\r\n            return {\r\n                title: \"Shartnomalar\",\r\n                createTitle: \"Shartnoma yaratish\",\r\n                createUrl: \"/cabinet/contract/create\",\r\n                gridSourceUrl: \"/api/v1/contracts\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/contracts',\r\n                    viewActionPath: '/cabinet/contracts/view',\r\n                    editActionPath: '/cabinet/contract/edit',\r\n                    deleteConfirmText: \"Shu kontrakt ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Kontrkt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case \"empowerment\":\r\n            return {\r\n                title: \"Ishonchnomalar\",\r\n                createTitle: \"Ishonchnoma yaratish\",\r\n                createUrl: \"/cabinet/empowerment/create\",\r\n                gridSourceUrl: \"/api/v1/empowerments\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/empowerments',\r\n                    viewActionPath: '/cabinet/empowerment/view',\r\n                    editActionPath: '/cabinet/empowerment/edit',\r\n                    deleteConfirmText: \"Shu ishonchnoma ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"Ishonchnoma \",\r\n                            dataIndex: 'empowermentNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Kontrakt \",\r\n                            dataIndex: 'contractNo',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'status',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n        case 'tty':\r\n            return {\r\n                title: \"Tovar transport yo'lxati\",\r\n                createTitle: \"TTY yaratish\",\r\n                createUrl: \"/cabinet/tty/create\",\r\n                gridSourceUrl: \"/api/v1/ttys\",\r\n                gridConfig: {\r\n                    deleteRequestPath: 'api/v1/ttys',\r\n                    viewActionPath: '/cabinet/tty/view',\r\n                    editActionPath: '/cabinet/tty/edit',\r\n                    deleteConfirmText: \"Shu TTY ochirilsinmi?\",\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: \"TTY \",\r\n                            dataIndex: 'wayBillNo',\r\n                            isSearchable: true,\r\n                            width: 100\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi\",\r\n                            dataIndex: 'buyerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Oluvchi STIR\",\r\n                            dataIndex: \"buyerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi\",\r\n                            dataIndex: 'sellerName',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: \"Sotuvchi STIR\",\r\n                            dataIndex: \"sellerTin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: \"Holati\",\r\n                            dataIndex: 'state',\r\n                            isFilterable: true,\r\n                            filters: [\r\n                                { value: 1, text: \"1-Saqlangan\" },\r\n                                { value: 2, text: \"2-Imzo kutilmoqda\" },\r\n                                { value: 3, text: \"3-Jo'natilgan\" },\r\n                                { value: 4, text: \"4-Xatolik yuzbergan\" },\r\n                                { value: 5, text: \"5-Qaytarib yuborilgan\" },\r\n                                { value: 6, text: \"6-Qabul qilingan\" },\r\n                                { value: 7, text: \"7-Muaffaqiyatli\" }\r\n                            ]\r\n                        },\r\n                        {\r\n                            title: 'Yaratilgan sanasi',\r\n                            dataIndex: \"created_at\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n\r\n\r\n        default:\r\n            return {\r\n                \r\n                title: t(\"Hisob fakturalar\"),\r\n                createTitle: t(\"Faktura yaratish\"),\r\n                createUrl: \"/cabinet/factura/create\",\r\n                gridSourceUrl: \"facturas/index\",\r\n                gridConfig: {\r\n                    modelName:\"AllDocumentsSearch\",\r\n                    primaryKeyName: \"FacturaId\",\r\n                    primaryKeyValue: \"doc_id\",\r\n                    deleteRequestPath: 'api/v1/facturas',\r\n                    viewActionPath: '/cabinet/factura/view',\r\n                    editActionPath: '/cabinet/factura/edit',\r\n                    deleteConfirmText: t(\"Shu faktura ochirilsinmi?\"),\r\n                    actions: {\r\n                        edit: true,\r\n                        delete: true,\r\n                        view: true\r\n                    },\r\n                    allColumns: [{\r\n                            title: t(\"Faktura \"),\r\n                            dataIndex: 'doc_no',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: t(\"Kontrakt \"),\r\n                            dataIndex: 'contract_no',\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: t(\"Kontragent\"),\r\n                            dataIndex: 'contragent_name',\r\n                            isSearchable: true,\r\n                            width: 150\r\n                        },\r\n                        {\r\n                            title: t(\"Kontragent\") + \" \" + t(\"STIR\"),\r\n                            dataIndex: \"contragent_tin\",\r\n                            isSearchable: true,\r\n                        },\r\n                        {\r\n                            title: t(\"Holati\"),\r\n                            dataIndex: 'status',\r\n                            customView: status_renderer,\r\n                            \r\n                        },\r\n                        {\r\n                            title: t('Yaratilgan sana'),\r\n                            dataIndex: \"created_date\",\r\n                            dataType: 'date',\r\n                        },\r\n                    ]\r\n                }\r\n            }\r\n    }\r\n}\r\n\r\nexport const status_renderer = code=>{\r\n\r\n    const t = i18n.t.bind(i18n)\r\n\r\n    const status = {\r\n        10: t(\"Saqlangan\"),\r\n        15: t(\"Imzo kutilmoqda\"),\r\n        17: t(\"Jo'natuvchi bekor qilgan\"),\r\n        20: t(\"Qabul qiluvchi bekor qilgan\"),\r\n        30: t(\"Qabul qilingan\"),\r\n        40: t(\"Send_and_accepted\")\r\n    }\r\n\r\n    return <span>{status[code]??\"N/A\"}</span>\r\n}","import React, { useState } from 'react';\r\nimport './home.style.scss';\r\nimport DynaGrid from '../../../components/dyna-grid/dyna-grid.component';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { get_home_config } from '../../../utils/home.config.provider';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst HomePage = ({ doc, hideTabs, addParams, customButton })=> {\r\n\r\n    const {t} = useTranslation();\r\n\r\n    const tabs = {\r\n        1: [0],\r\n        2: [2],\r\n        3: [1],\r\n        4: [0, 1, 2, 3]\r\n    }\r\n\r\n    const { title, createTitle, createUrl, gridSourceUrl, gridConfig } = get_home_config(doc);\r\n\r\n    const [activeTab, setActiveTab] = useState(1);\r\n\r\n    return (\r\n        <div className=\"factura-home-page-container\">\r\n            <div className=\"factura-home-sub-con\">\r\n                <div className=\"factura-home-title\">\r\n                    <h2>{ title }</h2>\r\n                    {\r\n                        customButton \r\n                        ?customButton\r\n                        : <Link to={createUrl}><span>{createTitle}</span></Link>\r\n                    }\r\n                </div>\r\n                {\r\n                    hideTabs\r\n                    ? null\r\n                    : <div className=\"factura-home-list-tabs\">\r\n                    <div className=\"factura-home-list-tab-con\">\r\n                        <div onClick={()=>setActiveTab(1)} className={`status-tab-bar ${activeTab===1 ? 'active-tab' : ''}`}>\r\n                            {t(\"Kiruvchi\")}\r\n                        </div> \r\n                        <div onClick={()=>setActiveTab(2)} className={`status-tab-bar ${activeTab===2 ? 'active-tab' : ''}`}>\r\n                            {t(\"Chiquvchi\")}\r\n                        </div>\r\n                        <div onClick={()=>setActiveTab(3)} className={`status-tab-bar ${activeTab===3 ? 'active-tab' : ''}`}>\r\n                            {t(\"Saqlangan\")}\r\n                        </div>\r\n                        <div onClick={()=>setActiveTab(4)} className={`status-tab-bar ${activeTab===4 ? 'active-tab' : ''}`}>\r\n                            {t(\"Barchasi\")}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                }\r\n                \r\n                \r\n                <div>\r\n                    <DynaGrid   \r\n                        config={{ ...gridConfig, dataSourcePath: `${gridSourceUrl}?${tabs[activeTab].map(text=>'AllDocumentsSearch[write_type]='+text+'&')}${addParams ? addParams.map(p=>`${p.name}=${p.value}`): \"\"}`}}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","import { Form, Input, Row, Col, message } from 'antd'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\n\r\nconst PersonFetch = ({ pTin, tinLabel, pName, nameLabel, form, tinCol, nameCol }) => {\r\n\r\n    const handleChange = e => {\r\n        console.log(e.target.value)\r\n        if (!isNaN(e.target.value)) {\r\n            if (e.target.value > 100000000 && e.target.value <= 999999999) {\r\n                axios({\r\n                    url: `info/contragent-by-tin?tin=${e.target.value}`,\r\n                    method: \"GET\",\r\n                }).then(res => {\r\n                    //setBuyerData(res.data)\r\n                    console.log(res)\r\n                    const { name, fullName } = res.data;\r\n                    let data = {};\r\n                    if(Array.isArray(pName)){\r\n                        let fetcherData = form.getFieldValue(\"contract_partners\");\r\n                        fetcherData[pName[0]][pName[1]] = name ?? fullName;\r\n                        form.setFieldsValue({contract_partners: [...fetcherData, ]})\r\n                    }else{\r\n                        data[pName] = name ?? fullName;\r\n                        form.setFieldsValue(data)\r\n                    }\r\n                    \r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            } else {\r\n\r\n            }\r\n        } else {\r\n            message.warning(\"STIR notog'ri kiritildi!\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-between\">\r\n                <Col md={tinCol ?? 24}>\r\n                    <Form.Item>\r\n                        <Form.Item\r\n\r\n                            name={pTin}\r\n                            key={`${pTin}-tin-name`}\r\n                        >\r\n                            <Input size=\"large\" onChange={handleChange} />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{tinLabel}</span>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col md={nameCol ?? 24}>\r\n                    <Form.Item>\r\n                        <Form.Item\r\n                            name={pName}\r\n                            key={`${pName}-tin-name`}\r\n                        >\r\n                            <Input size=\"large\" />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{nameLabel}</span>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonFetch\r\n","import React, { PureComponent } from 'react'\r\nimport Select from \"react-select\"\r\nimport { ENTER_KEY, TAB_KEY } from 'react-datasheet/lib/keys';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectUserProducts } from '../../redux/user/user.selector';\r\nimport { connect } from 'react-redux';\r\nimport './custom-selector.style.scss'\r\n\r\nconst { Option } = Select\r\n\r\nclass SelectEditor extends PureComponent {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleKeyDown = this.handleKeyDown.bind(this)\r\n    this.state = {}\r\n  }\r\n\r\n  handleChange(opt) {\r\n    console.log(opt)\r\n    \r\n    const { onCommit, onRevert } = this.props\r\n    if(!opt){\r\n      onRevert()\r\n    }\r\n    const { e } = this.state\r\n    onCommit(opt.value)\r\n    console.log('COMMITTED', opt.value)\r\n  }\r\n\r\n  handleKeyDown(e) {\r\n    // record last key pressed so we can handle enter\r\n    if (e.which === ENTER_KEY || e.which === TAB_KEY) {\r\n      e.persist()\r\n      this.setState({ e })\r\n    } else {\r\n      this.setState({ e: null })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  optionstag = this.props.userProducts.map(d => ({ label: d.className, \r\n    value: //d.classCode\r\n    { CatalogCode: d.classCode, CatalogName: d.className } \r\n  }))\r\n\r\n  render() {\r\n    return (\r\n      <Select\r\n        size=\"small\"\r\n        showSearch\r\n        autoFocus\r\n        dropdownClassName=\"class-codes-drop-down-list\"\r\n        style={{width: \"100%\"}}\r\n        dropdownMatchSelectWidth={false}\r\n        open={true}\r\n        \r\n        value={this.state.selected}\r\n        onChange={this.handleChange}\r\n        //onSelect={this.handleChange}\r\n        onInputKeyDown={this.handleKeyDown}\r\n       options={this.optionstag} \r\n      />\r\n       \r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  userProducts: selectUserProducts\r\n})\r\n\r\nexport default connect(mapStateToProps)(SelectEditor);","import React, { PureComponent } from \"react\";\r\nimport {ENTER_KEY, TAB_KEY} from 'react-datasheet/lib/keys';\r\nimport Select from 'react-select';\r\n\r\n\r\nexport default class SelectMeasureEditor extends PureComponent {\r\n    constructor (props) {\r\n      super(props)\r\n      this.handleChange = this.handleChange.bind(this)\r\n      this.state = {}\r\n    }\r\n  \r\n    handleChange (opt) {\r\n      const { onCommit, onRevert } = this.props\r\n      // if (!opt) {\r\n      //   return onRevert()\r\n      // }\r\n      console.log(opt)\r\n      const { e } = this.state\r\n      onCommit(opt.target.value, e)\r\n    }\r\n  \r\n    render () {\r\n      return (\r\n        <select\r\n          onChange={this.handleChange}\r\n        >\r\n          {\r\n            measures.map(measure=><option value={measure.value}> {measure.value} - {measure.label}</option>)\r\n          }\r\n        </select>\r\n      )\r\n    }\r\n  }\r\n\r\n\r\nexport const measures = [\r\n    { value: 0, label: \"boshqa\" },\r\n    {value: 1,\tlabel: \"\"},\r\n  {value: 2,\tlabel: \"\"},\r\n  {value: 3,\tlabel: \"\"},\r\n  {value: 4,\tlabel: \"\"},\r\n  {value: 5,\tlabel: \"\"},\r\n  {value: 6,\tlabel: \"\"},\r\n  {value: 7, label:\t\" \"},\r\n  {value: 8, label:\t\" \"},\r\n  {value: 9, label:\t\"\"},\r\n  {value:10, label:\t\"\"},\r\n  {value:11, label:\t\"\"},\r\n  {value:12, label:\t\"\"},\r\n  {value:13, label:\t\". \"},\r\n  {value:14, label:\t\". \"},\r\n  {value:15, label:\t\". \"},\r\n  {value:16, label:\t\". \"},\r\n  {value:17, label:\t\"1000 . \"},\r\n  {value:18, label:\t\". \"},\r\n  {value:19, label:\t\". \"},\r\n  {value:20, label:\t\". \"},\r\n  {value:21, label:\t\". \"},\r\n  {value:22, label:\t\"\"},\r\n  {value:23, label:\t\"\"},\r\n  {value:24, label:\t\"\"},\r\n  {value:25, label:\t\"\"},\r\n  {value:26, label:\t\"\"},\r\n  {value:27, label:\t\"\"},\r\n  {value:28, label:\t\"\"},\r\n  {value:29, label:\t\"\"},\r\n  {value:30, label:\t\"\"},\r\n  {value:31, label:\t\"\"},\r\n  {value:32, label:\t\"\"},\r\n  {value:33, label:\t\"\"},\r\n  {value:34, label:\t\"\"},\r\n  {value:35, label:\t\"\"},\r\n  {value:36, label:\t\"\"},\r\n  {value:37, label:\t\"\"},\r\n  {value:38, label:\t\"\"},\r\n  {value:39, label:\t\"\"},\r\n  {value:40, label:\t\"/\"},\r\n  {value:41, label:\t\"\"},\r\n  {value:42, label:\t\"\"},\r\n  {value:43, label:\t\"\"},\r\n  {value:44, label:\t\"\"},\r\n  {value:45, label:\t\"\"},\r\n  {value:46, label:\t\"\"},\r\n  {value:47, label:\t\"\"},\r\n  {value:48, label:\t\"\"},\r\n  {value:49, label:\t\"\"},\r\n  {value:50, label:\t\"\"},\r\n  {value:51, label:\t\"\"},\r\n  {value:52, label:\t\"\"},\r\n  {value:53, label:\t\"\"},\r\n  {value:54, label:\t\"/\"},\r\n  {value:55, label:\t\"\"},\r\n  {value:56, label:\t\"\"},\r\n  {value:57, label:\t\"\"},\r\n  {value:58, label:\t\"\"},\r\n  {value:59, label:\t\"\"},\r\n  \r\n  ]\r\n  ","import React, { Fragment } from 'react';\r\nimport { Input, Form, Row, Col } from 'antd';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { connect } from 'react-redux';\r\nimport PersonFetch from './person-fetch/person-fetch.component';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst SellerForm = ({ user, docType, form }) => {\r\n\r\n    const {t} = useTranslation();\r\n\r\n  const { tin, name, fullName, regCode, mfo, bank_account, address, director_fio, director_tin, accountant, phone } = user;\r\n\r\n  return (\r\n    <div>\r\n\r\n      <h3>{t(\"Sizning ma'lumotlaringiz\")}</h3>\r\n\r\n      {\r\n        docType==\"contract\" ?\r\n        <PersonFetch\r\n        form={form}\r\n        nameCol={11}\r\n        tinCol={11}\r\n        tinLabel={t(\"Jis.Shaxs STIR\")}\r\n        nameLabel={t(\"Jis.Shaxs FIO\")}\r\n        pTin=\"sellerFizTin\"\r\n        pName=\"sellerFizFio\"\r\n      />\r\n      : null\r\n      }\r\n      \r\n\r\n      <Form.Item>\r\n        <Form.Item\r\n          key=\"dyna-form-item-inn-seller\"\r\n          name=\"sellerTin\"\r\n          rules={[{ required: true }]}\r\n          initialValue={tin}>\r\n          <Input\r\n            disabled\r\n            size=\"large\"\r\n            placeholder={t(\"STIR\")} />\r\n        </Form.Item>\r\n        <span className=\"custom-input-label-1\">{t(\"STIR\")}</span>\r\n      </Form.Item>\r\n      {\r\n        docType !== \"contract\" ?\r\n          <h3>{t(\"Tashkilot\")}</h3>\r\n          : null\r\n      }\r\n      <Form.Item>\r\n        <Form.Item\r\n          key=\"seller-name-1-sellerName\"\r\n          rules={[{ required: true }]}\r\n          name=\"sellerName\"\r\n          initialValue={name ?? fullName}>\r\n          <Input\r\n\r\n            size=\"large\"\r\n            placeholder={t(\"Sotuvchi nomi\")} />\r\n        </Form.Item>\r\n        <span className=\"custom-input-label-1\">{t(\"Sotuvchi nomi\")}</span>\r\n      </Form.Item>\r\n      {\r\n        docType !== \"act\" ?\r\n          <Fragment>\r\n            {\r\n              docType === \"contract\" || docType === \"empowerment\"\r\n                ? null\r\n                : <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account-vatreg\"\r\n                    name=\"sellerVatRegCode\"\r\n                    initialValue={regCode}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder={t(\"QQS tolovchi registratsiya raqami\")} />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">{t(\"QQS tolovchi registratsiya raqami\")}</span>\r\n                </Form.Item>\r\n            }\r\n\r\n            <Row justify=\"space-between\">\r\n              <Col md={11} >\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account\"\r\n                    name=\"sellerAccount\"\r\n                    initialValue={bank_account}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder={t(\"Hisob raqami\")} />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">{t(\"Hisob raqami\")}</span>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col md={11}>\r\n                {\r\n                  docType === \"contract\"\r\n                    ? <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerMobilePhone\"\r\n                        initialValue={phone}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder={t(\"Telfon raqam\")} />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\">{t(\"Telfon raqam\")}</span>\r\n                    </Form.Item>\r\n                    : <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerMfo\"\r\n                        initialValue={mfo}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder={t(\"MFO\")} />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\">{t(\"MFO\")}</span>\r\n                    </Form.Item>\r\n                }\r\n\r\n              </Col>\r\n            </Row>\r\n            <Form.Item>\r\n              <Form.Item\r\n                key=\"seler-account\"\r\n                name=\"sellerAddress\"\r\n                initialValue={address}>\r\n                <Input\r\n                  rules={[{ required: true }]}\r\n                  size=\"large\"\r\n                  placeholder={t(\"Manzil\")} />\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\">{t(\"Manzil\")}</span>\r\n            </Form.Item>\r\n            <Row justify=\"space-between\">\r\n              <Col md={11} >\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"seler-account\"\r\n                    name=\"sellerDirector\"\r\n                    initialValue={director_fio}>\r\n                    <Input\r\n                      size=\"large\"\r\n                      placeholder={t(\"Direktor\")} />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">{t(\"Direktor\")}</span>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col md={11}>\r\n                {\r\n                  docType === \"contract\"\r\n                    ? \r\n                    <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerDirectorTin\"\r\n                        initialValue={director_tin}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder={t(\"Direktor\") + \" \" + t(\"STIR\")} />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\">{t(\"Direktor\")+ \" \" +t(\"STIR\")}</span>\r\n                    </Form.Item>\r\n                    : <Form.Item>\r\n                      <Form.Item\r\n                        key=\"seler-account\"\r\n                        name=\"sellerAccountant\"\r\n                        initialValue={accountant}>\r\n                        <Input\r\n                          size=\"large\"\r\n                          placeholder={t(\"Bosh hisobchi\")} />\r\n                      </Form.Item>\r\n                      <span className=\"custom-input-label-1\">{t(\"Bosh hisobchi\")}</span>\r\n                    </Form.Item>\r\n                }\r\n              </Col>\r\n            </Row>\r\n          </Fragment>\r\n          : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(SellerForm);\r\n","import moment from 'moment';\r\nimport SelectMeasureEditor from '../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport SelectEditor from '../components/data-sheet-custom-selector/custom-selector.component';\r\nimport i18n from \"../translate\";\r\n\r\nconst t = i18n.t.bind(i18n)\r\n\r\nexport const getFileExtension = filename => {\r\n    return filename.slice((filename.lastIndexOf('.') - 1 >>> 0) + 2);\r\n}\r\n\r\nexport const FIRST_TTY_GRID_ROW = [\r\n    { readOnly: true, value: \"\", width: 50 }, //0 ordNo\r\n    { readOnly: true, value: '/  *' }, //1 product name\r\n    { readOnly: true, value: \" .*\", dataEditor: SelectMeasureEditor }, //2 measure\r\n    { readOnly: true, value: '' }, //3 count\r\n    { readOnly: true, value: \"*\", }, //4 price\r\n    { readOnly: true, value: \"  \", }, //5 total\r\n    { readOnly: true, value: '  *' }, //6 delivery cost\r\n    { readOnly: true, value: \"  \", }, //7 Docs\r\n    { readOnly: true, value: \"  \", }, //8 weight measure method\r\n    { readOnly: true, value: \" \", }, //9 item class\r\n    { readOnly: true, value: \" ()\", }, //10 brutto weight\r\n    { readOnly: true, value: \" ()\", }, //11 netto weight\r\n]\r\n\r\nexport const FIRST_FACTURA_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: t('Tovar/xizmat nomi'), readOnly: true, width: 200 },\r\n    { value: t('Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi'), readOnly: true, width: 150 },\r\n    { value: t('Tovar/xizmat shtrix kodi'), readOnly: true, width: 100 },\r\n    { value: t(\"O'lchov birligi\"), readOnly: true, width: 100 },\r\n    { value: t(\"Miqdori\"), readOnly: true, width: 100 },\r\n    { value: t(\"Narxi\"), readOnly: true, width: 100 },\r\n    { value: t(\"Aksiz soliq (%)\"), readOnly: true, width: 100 },\r\n    { value: t(\"Aksiz soliq, miqdori\"), readOnly: true, width: 100 },\r\n    { value: t(\"Yetkazib berish narxi\"), readOnly: true, width: 100 },\r\n    { value: t(\"QQS (%)\"), readOnly: true, width: 100 },\r\n    { value: t(\"QQS, miqdori\"), readOnly: true, width: 100 },\r\n    { value: t(\"Umumiy summa\"), readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_ACT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n    { value: \"*\", readOnly: true, width: 100 },\r\n    { value: \"Total*\", readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_CONTRACT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: '/        *', readOnly: true, width: 150 },\r\n    { value: '/  ', readOnly: true, width: 100 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n    { value: \"*\", readOnly: true, width: 100 },\r\n    { value: \"  *\", readOnly: true, width: 100 },\r\n    { value: \"Total*\", readOnly: true, width: 150 },\r\n];\r\n\r\nexport const FIRST_EMPOWERMENT_GRID_ROW = [\r\n    { readOnly: true, value: '', width: 50 },\r\n    { value: '/  *', readOnly: true, width: 200 },\r\n    { value: ' .*', readOnly: true, width: 100 },\r\n    { value: \"\", readOnly: true, width: 100 },\r\n]\r\n\r\nexport const SAMPLE_FACTURA_GRID_ROW = [\r\n    { readOnly: true, value: 1 }, //0 ordNo\r\n    { value: \"\" }, //1 product name\r\n    { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n    { value: \"\" }, //3 shrix code\r\n    { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n    { value: '' }, //5 amount\r\n    { value: \"\", }, //6 price\r\n    { value: '' }, //7 aksiz rate\r\n    { value: '', readOnly: true }, //8 aksiz amount\r\n    { value: '' }, //9 delivery cost\r\n    { value: \"\" }, //10 VAT rate\r\n    { value: '', readOnly: true }, //11 VAT amount\r\n    { value: '', readOnly: true, }, //12 total\r\n]\r\n\r\nexport const SAMPLE_CONTRACT_GRID_ROW = [\r\n    { readOnly: true, value: 1 }, //0 ordNo\r\n    { value: \"\" }, //1 product name\r\n    { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n    { value: \"\" }, //3 shrix code\r\n    { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n    { value: '' }, //5 amount\r\n    { value: \"\", }, //6 price\r\n    { value: '' }, //7 delivery cost\r\n    { value: '', readOnly: true, }, //8 total\r\n]\r\n\r\nexport const convertProductsToGrid = (products, doc = \"factura\") => {\r\n\r\n    let gridProducts;\r\n\r\n    switch (doc) {\r\n\r\n        case \"empowerment\":\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"], width: 50 },\r\n                        { value: product[\"name\"] },\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] },\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_EMPOWERMENT_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        case \"act\":\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"], width: 50 },\r\n                        { value: product[\"name\"] },\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] },\r\n                        { value: product[\"price\"] },\r\n                        { value: parseFloat(product[\"count\"]) * parseFloat(product[\"price\"]), readOnly: true, width: 150 },\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_ACT_GRID_ROW);\r\n            }\r\n            break;\r\n        case \"contract\":\r\n            {\r\n\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"] }, //0 ordNo\r\n                        { value: product[\"name\"] }, //1 product name\r\n                        { value: product[\"catalogCode\"], dataEditor: SelectEditor }, //2 catalogCode\r\n                        { value: product[\"barCode\"] }, //3 shrix code\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor },\r\n                        { value: product[\"count\"] }, //5 amount\r\n                        { value: product[\"price\"], }, //6 price\r\n                        { value: product[\"deliverySum\"] }, //9 delivery cost\r\n                        {\r\n                            value: product[\"count\"] * product[\"price\"] + parseFloat(product[\"deliverySum\"]),\r\n                            readOnly: true\r\n                        }\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_CONTRACT_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        case \"tty\":\r\n            {\r\n                gridProducts = products.map((product, index) => {\r\n                    return [\r\n                        { readOnly: true, value: index + 1, width: 50 }, //0 ordNo\r\n                        { value: product.name }, //1 product name\r\n                        { value: product.measureId, dataEditor: SelectMeasureEditor }, //2 measure\r\n                        { value: product.count }, //3 count\r\n                        { value: product.price }, //4 price\r\n                        { value: product.count * product.price, readOnly: true }, //5 total\r\n                        { value: product.deliveryCost }, //6 delivery cost\r\n                        { value: product.docs, }, //7 Docs\r\n                        { value: product.weightMeasureMethod, }, //8 weight measure method\r\n                        { value: product.itemClass, }, //9 item class\r\n                        { value: product.weightBrut, }, //10 brutto weight\r\n                        { value: product.weightNet, }, //11 netto weight\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_TTY_GRID_ROW);\r\n            }\r\n            break;\r\n\r\n        default:\r\n            {\r\n                gridProducts = products.map(product => {\r\n                    return [\r\n                        { readOnly: true, value: product[\"ordNo\"] }, //0 ordNo\r\n                        { value: product[\"name\"] }, //1 product name\r\n                        { value: product[\"catalogCode\"], dataEditor: SelectEditor }, //2 catalogCode\r\n                        { value: product[\"barCode\"] }, //3 shrix code\r\n                        { value: product[\"measureId\"], dataEditor: SelectMeasureEditor }, //4 measure\r\n                        { value: product[\"count\"] }, //5 amount\r\n                        { value: product[\"baseSumma\"], }, //6 price\r\n                        { value: product[\"exciseRate\"] }, //7 aksiz rate\r\n                        { value: product[\"exciseSum\"], readOnly: true }, //8 aksiz amount\r\n                        { value: product[\"deliverySum\"] }, //9 delivery cost\r\n                        { value: product[\"vatRate\"] }, //10 VAT rate\r\n                        { value: product[\"vatRate\"] * product[\"baseSumma\"], readOnly: true }, //11 VAT amount\r\n                        { value: product[\"summa\"], readOnly: true, }, //12 total\r\n                    ]\r\n                })\r\n                gridProducts.unshift(FIRST_FACTURA_GRID_ROW);\r\n            }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return gridProducts;\r\n}\r\n\r\nconst FACTURA_PRODUCT_FIELDS = {\r\n    0: \"ordNo\",\r\n\r\n}\r\n\r\n//#region Rich text editr configs\r\nexport const modules = {\r\n    toolbar: [\r\n        ['bold', 'italic', 'underline', 'strike'], // toggled buttons\r\n        ['blockquote', 'code-block'],\r\n        ['image', 'link'],\r\n\r\n        //[{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n        [{ 'script': 'sub' }, { 'script': 'super' }], // superscript/subscript\r\n        [{ 'indent': '-1' }, { 'indent': '+1' }], // outdent/indent\r\n        //[{ 'direction': 'rtl' }],                         // text direction\r\n\r\n        [{ 'size': ['small', false, 'large', 'huge'] }], // custom dropdown\r\n        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n        [{ 'color': [] }, { 'background': [] }], // dropdown with defaults from theme\r\n        [{ 'font': [] }],\r\n        [{ 'align': [] }],\r\n        ['clean'] // remove formatting button\r\n    ],\r\n    imageDrop: true,\r\n}\r\n\r\nexport const formats = [\r\n    'header',\r\n    'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n    'list', 'bullet', 'indent',\r\n    'link', 'image', 'code-block', 'color', 'background',\r\n    'size', 'align', 'direction', 'indent', 'font', 'script'\r\n];\r\n\r\nexport const modulesForQuestion = {\r\n    toolbar: [\r\n        ['bold', 'italic', 'underline', ], // toggled buttons\r\n        ['code-block'],\r\n        ['image'],\r\n\r\n        //[{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n\r\n        ['clean'] // remove formatting button\r\n    ],\r\n    imageDrop: true,\r\n}\r\n\r\nexport const formatsForQuestion = [\r\n        'bold', 'italic', 'underline',\r\n        'list', 'bullet',\r\n        'image', 'code-block',\r\n    ]\r\n    //#endregion \r\n\r\n\r\nexport const getValidFileName = (fileName) => {\r\n    return fileName.replace(/[\\/|\\\\\\s:*!?\"<>]/g, \"_\")\r\n}","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, Upload, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectCurrentUser, selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_ACT_GRID_ROW } from '../../../utils/main';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nexport const setActClient = (seller, client) => {\r\n  return `   , \"${seller ?? \"___________\"}\"  ,      \"${client ?? '__________'}\"  ,     ,         .`;\r\n\r\n}\r\n\r\nconst ActForm = ({ token, match, user })=> {\r\n\r\n  const [form] = Form.useForm();\r\n  const { actId } = match.params;\r\n  const [initialData, setInitialData] = useState({actText: setActClient(user.name)})\r\n  const [isLoading, setIsloading] = useState(false);\r\n\r\n \r\n\r\n  useEffect(()=>{\r\n    if(actId){\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/acts/${actId}`,\r\n        method: \"GET\",\r\n      }).then(res=>{\r\n        let data = res.data;\r\n        data.contractDate=moment(data.contractDate);\r\n        data.created_at=moment(data.created_at);\r\n        data.actDate=moment(data.actDate);\r\n        data.updated_at=moment(data.updated_at);\r\n        console.log(data);\r\n  \r\n        setInitialData(res.data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.act_products, 'act'));\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n  \r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n    \r\n  };\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_ACT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 2 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ],  \r\n    [\r\n      { readOnly: true, value: 3 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n    [\r\n      { readOnly: true, value: 4 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n      { value: \"\", },                                         //4 price\r\n      { value: '', readOnly: true,}                           //6 total\r\n    ], \r\n  ])\r\n\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n    console.log(rowId)\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  \r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };\r\n        \r\n\r\n        //Lets calculate\r\n        grid[row][5] = { ...grid[row][5], value: grid[row][3].value && grid[row][4].value ? grid[row][3].value * grid[row][4].value : 0};\r\n     \r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n        { readOnly: true, value: grid.length },                 //0 ordNo\r\n        { value: \"\" },                                          //1 product name\r\n        { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n        { value: '' },                                          //3 amount\r\n        { value: \"\", },                                         //4 price\r\n        { value: '', readOnly: true,}                           //5 total\r\n      ];\r\n    \r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n  \r\n  //#region form methods\r\n\r\n  const handleSubmit = (values)=>{\r\n    setIsloading(true);\r\n    console.log(values)\r\n    if(actId){\r\n      axios({\r\n        url:`/api/v1/acts/${actId}`,\r\n        method: 'PATCH',\r\n        data: {act: values, products: grid}\r\n      }).then(res=>{\r\n        setIsloading(false);\r\n        if(res.data.ok){\r\n          message.success(\"Akt yangilandi!\");\r\n        }\r\n        else{\r\n          message.error(\"Akt yangilashda xatolik!\");\r\n        }\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsloading(false)\r\n        message.error(\"Akt yangilashda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else{\r\n      axios({\r\n        url:'/api/v1/acts',\r\n        method: 'post',\r\n        data: {act: values, products: grid}\r\n      }).then(res=>{\r\n        setIsloading(false)\r\n        if(res.data.ok){\r\n          message.success(\"Akt yaratildi!\");\r\n        }\r\n        else{\r\n          message.error(\"Akt yaratishda xatolik!\");\r\n        }\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsloading(false)\r\n        message.error(\"Akt yaratishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[2].dataEditor = SelectEditor;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n  \r\n  return (\r\n    <div style={{padding: 15}}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish = {handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n      <h3>Akt yaratish</h3>\r\n       \r\n      <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"actNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Akt raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Akt raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date\"\r\n                name=\"actDate\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Akt sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Akt sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-n0\"\r\n                name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-date\"\r\n                name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n      </div>\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n        \r\n        <Row justify=\"space-between\">\r\n        <Col md={11}>  \r\n          <SellerForm form={form} docType=\"act\" />\r\n        </Col>\r\n\r\n        <Col md={11}>\r\n          <BuyerForm form={ form } docType=\"act\" />\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      \r\n      <div className=\"factura-data-sheet-container\">\r\n            <h3>Akt mazmuni</h3>\r\n              <Form.Item name=\"actText\">\r\n                <TextArea size=\"large\" rows={4} />\r\n              </Form.Item>\r\n          </div>\r\n\r\n      <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n          \r\n          \r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n<Row justify=\"space-between\">\r\n  <Col md={24} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"notes\">\r\n      <Input\r\n        size=\"large\"\r\n        placeholder=\" \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\"> </span>\r\n    </Form.Item>\r\n  </Col>\r\n  \r\n</Row>\r\n</div>\r\n          <div className=\"factura-data-sheet-container\">\r\n            <Row justify=\"space-around\">\r\n              <Col >\r\n                <Button \r\n                  loading={isLoading}\r\n                  primary\r\n                  htmlType=\"submit\"\r\n                  className=\"factra-action-btns save-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\"  />}>\r\n                     \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  className=\"factra-action-btns sing-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                    \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />} \r\n                  danger \r\n                  className=\"factra-action-btns\" \r\n                  size=\"large\">\r\n                     \r\n                  </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n\r\n          <Form.Item\r\n          name=\"actId\"\r\n          key=\"act-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken,\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ActForm);","import React, { Fragment } from 'react';\r\nimport { Input, Form, Row, Col, message, Switch, Select, Button } from 'antd';\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport PersonFetch from './person-fetch/person-fetch.component';\r\nimport { setActClient } from '../act/create/create.component';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst BuyerForm = ({ form, docType, remove, fieldList }) => {\r\n\r\n  const {t} = useTranslation();\r\n  const [isFacturaSingleSided, setIsFacturaSingleSided] = useState(false);\r\n  const [buyerBranches, setBuyerBranches] = useState([]);\r\n\r\n  const handleSingleSided = (value) => {\r\n    setIsFacturaSingleSided(value)\r\n  }\r\n\r\n  const handleFetchBuyer = e => {\r\n    console.log(e.target.value)\r\n    if (!isNaN(e.target.value)) {\r\n      if (e.target.value > 100000000 && e.target.value <= 999999999) {\r\n        axios({\r\n          url: \r\n          `info/contragent-by-tin?tin=${e.target.value}`,\r\n          method: \"GET\",\r\n         \r\n        }).then(res => {\r\n          const { \r\n            tin, \r\n            accountant, \r\n            account, \r\n            address, \r\n            phone, \r\n            name, \r\n            fullName, \r\n            mfo, \r\n            director,\r\n            directorTin, \r\n            regCode } = res.data;\r\n\r\n          let data = {\r\n            buyerTin: tin,\r\n            buyerAccountant: accountant,\r\n            buyerAccount: account,\r\n            buyerAddress: address,\r\n            buyerMobilePhone: phone,\r\n            buyerName: name ?? fullName,\r\n            buyerMfo: mfo,\r\n            buyerDirector: director,\r\n            buyerDirectorTin: directorTin,\r\n            buyerVatRegCode: regCode\r\n          }\r\n\r\n          if(docType===\"act\"){\r\n            form.setFieldsValue({\r\n              actText: setActClient(form.getFieldValue(\"SellerName\"), name ?? fullName)\r\n            })\r\n          }\r\n\r\n\r\n          if(fieldList){\r\n            let fetcherData = form.getFieldValue(\"contract_partners\");\r\n            \r\n            fetcherData[fieldList.name] = {...fetcherData[fieldList.name], ...data}\r\n\r\n            setBuyerBranches(res.data.branches ?? []);\r\n\r\n            form.setFieldsValue({contract_partners: [...fetcherData]})\r\n          }else{\r\n            \r\n            form.setFieldsValue(data)\r\n          }\r\n         \r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      } else {\r\n        form.setFieldsValue({\r\n          buyerAccountant: null,\r\n          buyerAccount: null,\r\n          buyerAddress: null,\r\n          buyerMobilePhone: null,\r\n          buyerName: null,\r\n          buyerMfo: null,\r\n          buyerDirector: null,\r\n          buyerVatRegCode: null\r\n        })\r\n      }\r\n    } else {\r\n      message.warning(t(\"STIR notog'ri kiritildi!\"))\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <h3>{t(\"Kontragent ma'lumotlari\")}</h3>\r\n      {\r\n        docType ===\"contract\"\r\n        ? <PersonFetch \r\n          form={form} \r\n          pTin={fieldList ? [fieldList.name,\"buyerPhysicalTin\"] : \"buyerPhysicalTin\"} \r\n          pName={fieldList ? [fieldList.name, \"buyerPhysicalFio\"] : \"buyerPhysicalFio\"} \r\n          tinLabel={t(\"Jis. Shaxs STIR\")} nameLabel={t(\"Jis. Shaxs FIO\")} tinCol={11} nameCol={11} />\r\n        : null\r\n      }\r\n      \r\n      <Row justify=\"space-between\">\r\n        <Col md={docType !== \"factura\" ? 24 : 11}>\r\n          <Form.Item>\r\n            <Form.Item\r\n              key={fieldList ? `dyna-form-item-inn-Buyer-${fieldList.key}` : \"dyna-form-item-inn-Buyer\"}\r\n              name={fieldList ? [fieldList.name,\"buyerTin\"] : \"buyerTin\"}\r\n              rules={[{ required: true }]}\r\n            >\r\n              <Input\r\n                onChange={handleFetchBuyer}\r\n                size=\"large\"\r\n                placeholder={t(\"STIR\")} />\r\n            </Form.Item>\r\n            <span className=\"custom-input-label-1\">{t(\"STIR\")}</span>\r\n          </Form.Item>\r\n        </Col>\r\n        <Col md={docType !== \"factura\" ? 0 : 11}>\r\n          <h4>{t(\"Bir tomonlama fakturami?\")}</h4>\r\n          <Switch\r\n            onChange={handleSingleSided}\r\n            checkedChildren={<CheckOutlined />}\r\n            unCheckedChildren={<CloseOutlined />}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      {\r\n        isFacturaSingleSided ?\r\n          <div>\r\n            <h3>{t(\"Turi\")}</h3>\r\n            <Form.Item\r\n              key=\"sigle-sided-factura-type-1\"\r\n              name={fieldList ? [fieldList.name,\"singleSidedType\"] : \"singleSidedType\"}\r\n              >\r\n              <Form.Item>\r\n                <Select bordered={false} size=\"large\">\r\n                  <Option value={1}> . </Option>\r\n                  <Option value={2}> </Option>\r\n                  <Option value={3}> </Option>\r\n                  <Option value={4}>,   . </Option>\r\n                  <Option value={5}> </Option>\r\n                </Select>\r\n\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\">{t(\"Kontragent turi\")}</span>\r\n            </Form.Item>\r\n          </div>\r\n          : null\r\n      }\r\n\r\n      {\r\n        !isFacturaSingleSided ?\r\n          <div>\r\n            { docType==\"contract\" ? null : <h3>{t(\"Hamkor korxonasi\")}</h3> }\r\n            <Form.Item>\r\n              <Form.Item\r\n                rules={[{ required: true }]}\r\n                key=\"buyer-name-1-BuyerName\"\r\n                name={fieldList ? [fieldList.name,\"buyerName\"] : \"buyerName\"}\r\n              >\r\n                <Input\r\n                  onChange={val=>{\r\n                    form.setFieldsValue({\r\n                      actText: setActClient(form.getFieldValue(\"SellerName\"), val.target.value)})\r\n                    }\r\n                  }\r\n                  size=\"large\"\r\n                  placeholder={t(\"Nomi\")} />\r\n              </Form.Item>\r\n              <span className=\"custom-input-label-1\">{t(\"Nomi\")}</span>\r\n            </Form.Item>\r\n            {\r\n              docType !== \"act\" ?\r\n                <Fragment>\r\n                  {\r\n                    docType === \"contract\" || docType === \"empowerment\"\r\n                      ? null\r\n                      : <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account-vatreg\"\r\n                          name={fieldList ? [fieldList.name, \"buyerVatRegCode\"] : \"buyerVatRegCode\"}\r\n                        >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder={t(\"QQS tolovchi registratsiya raqami\")}\r\n                          />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{t(\"QQS tolovchi registratsiya raqami\")}</span>\r\n                      </Form.Item>\r\n                  }\r\n\r\n                  <Row justify=\"space-between\">\r\n                    <Col md={11} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n\r\n                          name={fieldList ? [fieldList.name,\"buyerAccount\"] : \"buyerAccount\"}\r\n                          >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder={t(\"Hisob raqami\")} />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{t(\"Hisob raqami\")}</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n\r\n                    <Col md={11}>\r\n                      {\r\n                        docType === \"contract\"\r\n                          ? <Form.Item>\r\n                          <Form.Item\r\n                            key=\"seler-account\"\r\n                            name={fieldList ? [fieldList.name,\"buyerMobilePhone\"] : \"buyerMobilePhone\"}\r\n                          >\r\n                            <Input\r\n                              size=\"large\"\r\n                              placeholder={t(\"Telfon raqam\")}\r\n                            />\r\n                          </Form.Item>\r\n                          <span className=\"custom-input-label-1\">{t(\"Telfon raqam\")}</span>\r\n                        </Form.Item>\r\n                          : <Form.Item>\r\n                            <Form.Item\r\n                              key=\"seler-account\"\r\n                              name={fieldList ? [fieldList.name,\"buyerMfo\"] : \"buyerMfo\"}\r\n                            >\r\n                              <Input\r\n                                size=\"large\"\r\n                                placeholder={t(\"MFO\")}\r\n                              />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{t(\"MFO\")}</span>\r\n                          </Form.Item>\r\n                      }\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Form.Item>\r\n                    <Form.Item\r\n                      rules={[{ required: true }]}\r\n                      key=\"seler-account\"\r\n                      name={fieldList ? [fieldList.name,\"buyerAddress\"] : \"buyerAddress\"}\r\n                    >\r\n                      <Input\r\n                        size=\"large\"\r\n                        placeholder={t(\"Manzil\")} />\r\n                    </Form.Item>\r\n                    <span className=\"custom-input-label-1\">{t(\"Manzil\")}</span>\r\n                  </Form.Item>\r\n                    \r\n                  {\r\n                      docType===\"contract\"?\r\n                      <Col md={24} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n                          name={fieldList ? [fieldList.name,\"buyerBranch\"] : \"buyerBranch\"}\r\n                        >\r\n                          <Select\r\n                            bordered={false}\r\n                            size=\"large\"\r\n                            defaultActiveFirstOption\r\n                            placeholder=\"\">\r\n                              {buyerBranches.map(item=><Option value={item.tin}>{ item.tin } - {item.name}</Option>)}\r\n                          </Select>\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{t(\"Filiali\")}</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    :null\r\n                    }\r\n\r\n                  <Row justify=\"space-between\" align=\"stretch\">\r\n                    <Col md={11} >\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          key=\"seler-account\"\r\n                          name={fieldList ? [fieldList.name,\"buyerDirector\"] : \"buyerDirector\"}\r\n                        >\r\n                          <Input\r\n                            size=\"large\"\r\n                            placeholder={t(\"Direktor\")}  />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">{t(\"Direktor\")}</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col md={11} >\r\n                      {\r\n                        docType === \"contract\"\r\n                          ? (remove && fieldList ? <Button \r\n                              className=\"factra-action-btns\" \r\n                              style={{width: '100%'}} \r\n                              danger \r\n                              size=\"large\" \r\n                              onClick={()=>remove(fieldList.name)} >\r\n                                Olib tashlash\r\n                                </Button> \r\n                                : null ) \r\n                          : <Form.Item>\r\n                            <Form.Item\r\n                              key=\"seler-account\"\r\n                              name={fieldList ? [fieldList.name,\"buyerAccountant\"] : \"buyerAccountant\"}\r\n                            >\r\n                              <Input\r\n                                size=\"large\"\r\n                                placeholder={t(\"Bosh hisobchi\")} />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{t(\"Bosh hisobchi\")}</span>\r\n                          </Form.Item>\r\n                      }\r\n\r\n                    </Col>\r\n                    {\r\n                    docType===\"contract\" ?\r\n                    <Col md={11}>\r\n                      <Form.Item\r\n                        key=\"seler-account-Buyer-dir-tin\"\r\n                        name={ fieldList ? [fieldList.name, \"buyerDirectorTin\"] :\"buyerDirectorTin\"}\r\n                        >\r\n                        <Input\r\n                          type=\"hidden\"\r\n                          size=\"large\"\r\n                          placeholder={t(\"Direktor\") + \" \" + t(\"STIR\")} />\r\n                      </Form.Item>\r\n                      \r\n                      </Col>\r\n                    : null\r\n                  }\r\n                  </Row>\r\n                  \r\n                  \r\n                </Fragment>\r\n                : null\r\n            }\r\n          </div>\r\n          : null\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BuyerForm;","const USER_ACTIONS = {\r\n    SUCCESS_LOGIN: \"SUCCESS_LOGIN\",\r\n    LOG_OUT: \"LOG_OUT\",\r\n    SET_USER_ONLY: \"SET_USER_ONLY\",\r\n    SET_CABINET_DATA: \"SET_CABINET_DATA\",\r\n    SET_USER_COMPANIES: \"SET_USER_COMPANIES\",\r\n    SET_USER_LOCALE: \"SET_USER_LOCALE\",\r\n    SET_LOADED_KEY_ID:\"SET_LOADED_KEY_ID\",\r\n    SET_KEY_USER: \"SET_KEY_USER\",\r\n    SET_IS_AFERTA: \"SET_IS_AFERTA\",\r\n    SET_IS_ROUMING: \"SET_IS_ROUMING\",\r\n    SET_USER_PRODUCTS: \"SET_USER_PRODUCTS\"\r\n}\r\n\r\nexport default USER_ACTIONS;","import USER_ACTIONS from \"./user.action-types\";\r\n\r\nexport const setLoadedKeyId = id => ({\r\n    type: USER_ACTIONS.SET_LOADED_KEY_ID,\r\n    payload: id\r\n})\r\n\r\nexport const succesLogIn = data => ({\r\n    type: USER_ACTIONS.SUCCESS_LOGIN,\r\n    payload: data,\r\n})\r\n\r\nexport const setUserProducts = data=>({\r\n    type: USER_ACTIONS.SET_USER_PRODUCTS,\r\n    payload: data\r\n})\r\n\r\nexport const logOut = () => ({\r\n    type: USER_ACTIONS.LOG_OUT\r\n})\r\n\r\nexport const setUser = user=>({\r\n    type: USER_ACTIONS.SET_USER_ONLY,\r\n    payload: user\r\n})\r\n\r\nexport const setCabinetData = data=>({\r\n    type: USER_ACTIONS.SET_CABINET_DATA,\r\n    payload: data\r\n})\r\n\r\nexport const setUserCompanies = data=>({\r\n    type: USER_ACTIONS.SET_USER_COMPANIES,\r\n    payload: data\r\n})\r\n\r\nexport const setKeyUser = data =>({\r\n    type: USER_ACTIONS.SET_KEY_USER,\r\n    payload: data\r\n})\r\n\r\nexport const setIsAferta = bool =>({\r\n    type: USER_ACTIONS.SET_IS_AFERTA,\r\n    payload: bool\r\n})\r\nexport const setIsRouming = bool => ({\r\n    type: USER_ACTIONS.SET_IS_ROUMING,\r\n    payload: bool\r\n})","import React, { useState, useEffect } from 'react'\r\nimport Datasheet from 'react-datasheet';\r\nimport { useTranslation } from 'react-i18next';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport { convertProductsToGrid } from '../../../utils/main';\r\nimport {\r\n    FullscreenOutlined,\r\n    FullscreenExitOutlined,\r\n} from '@ant-design/icons';\r\nimport { Upload, Button } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { setUserProducts } from '../../../redux/user/user.action';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nexport const ProductValueRendered = prop => {\r\n\r\n    const { value } = prop;\r\n    return <span>{value.CatalogName}</span>\r\n}\r\n\r\nconst FacturaProductGrid = ({ token, loadProducts, user, getProducts, initialValues }) => {\r\n\r\n    useEffect(()=>{\r\n        if(Array.isArray(initialValues)){\r\n            setGrid([\r\n                grid[0],\r\n                ...initialValues\r\n            ])\r\n        }\r\n    }, [initialValues])\r\n\r\n    useEffect(()=>{\r\n        axios({\r\n            url: `classifications/index?tin=${user.tin??user.username}`,\r\n            method: 'get'\r\n        }).then(res=>{\r\n            loadProducts(res.data.data)\r\n        }).catch(ex=>{\r\n            console.log(ex);\r\n        })\r\n    }, [])\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const [fullView, toglleFullView] = useState(false)\r\n    const [grid, setGrid] = useState([\r\n        [\r\n            { readOnly: true, value: '', width: 50 },\r\n            { value: t('Tovar/xizmat nomi'), readOnly: true, width: 200 },\r\n            { value: t('Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi'), readOnly: true, width: 150 },\r\n            { value: t('Tovar/xizmat shtrix kodi'), readOnly: true, width: 100 },\r\n            { value: t(\"O'lchov birligi\"), readOnly: true, width: 100 },\r\n            { value: t(\"Miqdori\"), readOnly: true, width: 100 },\r\n            { value: t(\"Narxi\"), readOnly: true, width: 100 },\r\n            { value: t(\"Aksiz soliq (%)\"), readOnly: true, width: 100 },\r\n            { value: t(\"Aksiz soliq, miqdori\"), readOnly: true, width: 100 },\r\n            { value: t(\"Yetkazib berish narxi\"), readOnly: true, width: 100 },\r\n            { value: t(\"QQS (%)\"), readOnly: true, width: 100 },\r\n            { value: t(\"QQS, miqdori\"), readOnly: true, width: 100 },\r\n            { value: t(\"Umumiy summa\"), readOnly: true, width: 150 },\r\n        ],\r\n        [\r\n            { readOnly: true, value: 1 },                           //0 ordNo\r\n            { value: \"\" },                                          //1 product name\r\n            { value: \"\", dataEditor: SelectEditor, valueViewer: ProductValueRendered },                //2 catalogCode\r\n            { value: \"\" },                                          //3 shrix code\r\n            { value: \"\", dataEditor: SelectMeasureEditor },        //4 measure\r\n            { value: '' },                                          //5 amount\r\n            { value: \"\", },                                         //6 price\r\n            { value: '' },                                          //7 aksiz rate\r\n            { value: '', readOnly: true },                          //8 aksiz amount\r\n            { value: '' },                                          //9 delivery cost\r\n            { value: \"\" },                                          //10 VAT rate\r\n            { value: '', readOnly: true },                          //11 VAT amount\r\n            { value: '', readOnly: true, },                          //12 total\r\n        ]\r\n    ])\r\n\r\n    \r\n\r\n    const handleRemoveRow = (rowId) => {\r\n        console.log(rowId)\r\n\r\n        grid.splice(rowId, 1)\r\n        setGrid([...grid])\r\n        getProducts([...grid])\r\n\r\n    }\r\n\r\n\r\n    const handleImportExecl = (value) => {\r\n\r\n        if (value.file.status == \"done\") {\r\n\r\n            const { response } = value.file\r\n\r\n            response.excel.forEach((element, index) => {\r\n                element[0].value = index + 1;\r\n                element[0].readOnly = true;\r\n                element[2].dataEditor = SelectEditor;\r\n                element[4].dataEditor = SelectMeasureEditor;\r\n            })\r\n\r\n            //setGrid([grid[0], ...response.excel])\r\n            console.log(response)\r\n        }\r\n    }\r\n\r\n\r\n    const valueRenderer = cell => cell.value;\r\n    const onCellsChanged = changes => {\r\n        changes.forEach(({ cell, row, col, value }, index) => {\r\n            //this sets changed values\r\n            grid[row][col] = { ...grid[row][col], value };\r\n\r\n            //Lets calculate\r\n            let priceamount = parseFloat(grid[row][5].value) * parseFloat(grid[row][6].value);\r\n            let aksizamount = parseFloat(priceamount * grid[row][7].value / 100);\r\n\r\n            grid[row][8] = { value: isNaN(aksizamount) ? 0: parseFloat(aksizamount), readOnly: true };\r\n\r\n            let vatamout = parseFloat(priceamount * parseFloat(grid[row][10].value) / 100);\r\n\r\n            grid[row][11] = { value: isNaN(vatamout)?0:vatamout, readOnly: true }\r\n\r\n            let total = !isNaN(priceamount) ? priceamount : 0\r\n            isNaN(aksizamount) ? total = total : total += aksizamount;\r\n            isNaN(vatamout) ? total= total + 0 : total += vatamout;\r\n            isNaN(grid[row][9].value) ? total =  total + 0 : total += +grid[row][9].value\r\n\r\n            grid[row][12] = { value: total, readOnly: true }\r\n\r\n\r\n        });\r\n        setGrid([...grid]);\r\n\r\n        grid.shift()\r\n\r\n        getProducts(grid)\r\n\r\n    };\r\n\r\n   \r\n\r\n    const handleAddRow = () => {\r\n\r\n        const sampleRow = [\r\n            { readOnly: true, value: grid.length }, //0 ordNo\r\n            { value: \"\" }, //1 product name\r\n            { value: \"\", dataEditor: SelectEditor, valueViewer: ProductValueRendered }, //2 catalogCode\r\n            { value: \"\" }, //3 shrix code\r\n            { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n            { value: '' }, //5 amount\r\n            { value: \"\", }, //6 price\r\n            { value: '' }, //7 aksiz rate\r\n            { value: '', readOnly: true }, //8 aksiz amount\r\n            { value: '' }, //9 delivery cost\r\n            { value: \"\" }, //10 VAT rate\r\n            { value: '', readOnly: true }, //11 VAT amount\r\n            { value: '', readOnly: true }, //12 total\r\n        ]\r\n\r\n        let newgrid = [...grid, sampleRow];\r\n\r\n        setGrid(newgrid)\r\n    }\r\n\r\n    const onContextMenu = (e, cell, i, j) =>\r\n        cell.readOnly ? e.preventDefault() : null;\r\n    //#endregion\r\n\r\n\r\n    return (\r\n        <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n            <div style={{ marginBottom: 10, display: 'flex', justifyContent: 'space-between' }}>\r\n                <div style={{ display: 'flex' }}>\r\n                    <Upload\r\n                        headers={{\r\n                            Authorization: \"Bearer \" + token\r\n                        }}\r\n                        multiple={false}\r\n                        action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                        accept=\".xlsx, .xls\"\r\n                        onChange={handleImportExecl}>\r\n\r\n                        <Button style={{ marginRight: 10 }}>{t(\"Exceldan yuklash\")}</Button>\r\n\r\n                    </Upload>\r\n                    <a target=\"_blank\" href=\"../../../excels/factura_products.xlsx\" download>\r\n                        <Button >\r\n                            {t(\"Shablonni yuklash\")}\r\n                        </Button>\r\n                    </a>\r\n                </div>\r\n                <Button\r\n                    type=\"primary\"\r\n                    icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />}\r\n                    onClick={() => toglleFullView(!fullView)}>\r\n                    {fullView ? t(\"Kichraytirish\") : t(\"Kengaytirish\")}\r\n                </Button>\r\n            </div>\r\n\r\n            <div style={{ overflowX: 'auto' }} >\r\n                <div style={{ width: '100%' }}>\r\n                    <Datasheet\r\n                        data={grid}\r\n                        valueRenderer={valueRenderer}\r\n                        onContextMenu={onContextMenu}\r\n                        onCellsChanged={onCellsChanged}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Button\r\n                size=\"large\"\r\n                style={{ marginTop: 20, marginRight: 7, width: 220 }}\r\n                type=\"primary\"\r\n                icon={<FontAwesomeIcon\r\n                    style={{ marginRight: 7 }}\r\n                    icon={[\"far\", \"plus-square\"]} />}\r\n                onClick={handleAddRow}>{t(\"Qo'shish\")}</Button>\r\n\r\n            <Button\r\n                size=\"large\"\r\n                style={{ marginTop: 20, width: 220 }}\r\n                danger\r\n                type=\"primary\"\r\n                icon={<FontAwesomeIcon\r\n                    style={{ marginRight: 7 }}\r\n                    icon={[\"far\", \"trash-alt\"]} />}\r\n                onClick={() => { if (grid.length > 1) { handleRemoveRow(grid.length - 1) } }}>{t(\"Oxirgi qatorni o'chirish\")}</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch=>({\r\n    loadProducts: (data)=>dispatch(setUserProducts(data))\r\n})\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FacturaProductGrid)\r\n","import SelectMeasureEditor from \"../../components/data-sheet-custom-measure-selector/custom-selector.component\";\r\nimport SelectEditor from '../../components/data-sheet-custom-selector/custom-selector.component'\r\nimport { ProductValueRendered } from '../factura/create/product-grid.component';\r\nexport default class FacturaProduct {\r\n    \"OrdNo\"= 1;\r\n    \"CommittentName\"= null;\r\n    \"CommittentTin\"= \"\";\r\n    \"CommittentVatRegCode\"= \"\";\r\n    \"CatalogCode\"= \"\";\r\n    \"CatalogName\"= \"\";\r\n    \"Barcode\"= \"\";\r\n    \"Name\"= \"\";\r\n    \"Serial\"= \"\";\r\n    \"MeasureId\"= \"\";\r\n    \"BaseSumma\"= \"\";\r\n    \"ProfitRate\"= \"\";\r\n    \"Count\"=\"\";\r\n    \"Summa\"= \"\";\r\n    \"DeliverySum\"= \"\";\r\n    \"ExciseRate\"= \"\";\r\n    \"ExciseSum\"= \"\";\r\n    \"VatRate\"= \"0\";\r\n    \"VatSum\"= \"0\";\r\n    \"DeliverySumWithVat\"= \"\";\r\n    \"WithoutVat\"= true;\r\n    \"Marks\"= {\r\n        \"ProductType\": null,\r\n        \"KIZ\": [\r\n            \r\n        ],\r\n        \"NomUpak\": [\r\n            \r\n        ],\r\n        \"IdentTransUpak\": [\r\n            \r\n        ]\r\n    }\r\n}\r\n\r\nconst product_property_order = [\r\n    \"OrdNo\",\r\n    \"Name\",\r\n    [\r\n        \"CatalogCode\",\r\n        \"CatalogName\"\r\n    ],\r\n    \"Barcode\",\r\n    \"MeasureId\",\r\n    \"Count\",\r\n    \"BaseSumma\",\r\n    \"ExciseRate\",\r\n    \"ExciseSum\",\r\n    \"DeliverySum\",\r\n    \"VatRate\",\r\n    \"VatSum\",\r\n    \"DeliverySumWithVat\"\r\n]\r\n\r\nexport const ConvertGridToProduct = (data, Tin, FacturaId)=>{\r\n\r\n    let res = [];\r\n    let HasVat = false;\r\n    let HasExcise = false;\r\n    let HasCommittent = false;\r\n    let HasMedical = false;\r\n\r\n    if(Array.isArray(data)){\r\n\r\n        let WithoutVat=false;\r\n\r\n        data.forEach(row=>{\r\n            let p = new FacturaProduct();\r\n\r\n            product_property_order.forEach((prop, index)=>{\r\n                if(Array.isArray(prop)){\r\n                    prop.forEach(subProp=>{\r\n                        p[subProp]=row[index].value[subProp]\r\n                    })\r\n                }\r\n                else{\r\n                    p[prop] = row[index].value\r\n                }\r\n            })\r\n\r\n            if(p.VatRate>0){\r\n                WithoutVat=false;\r\n                HasVat=true;\r\n            }\r\n            if(p.ExciseRate>0){\r\n                HasExcise=true;\r\n            }\r\n\r\n            res.push(p)\r\n        })\r\n    }\r\n\r\n    return {\r\n        FacturaId,\r\n        Tin,\r\n        HasCommittent,\r\n        HasVat,\r\n        HasMedical,\r\n        HasExcise,\r\n        Products: res\r\n    }\r\n\r\n}\r\n\r\nexport const ConvertProductToGrid = products=>{\r\n    \r\n        let res = products.map(product => [\r\n            { readOnly: true, value: product.OrdNo }, //0 ordNo\r\n            { value: product.Name }, //1 product name\r\n            { value: {classCode: product.CatalogCode, className: product.CatalogName}, dataEditor: SelectEditor, valueViewer: ProductValueRendered }, //2 catalogCode\r\n            { value: product.Barcode }, //3 shrix code\r\n            { value: product.MeasureId, dataEditor: SelectMeasureEditor }, //4 measure\r\n            { value: product.Count }, //5 amount\r\n            { value: product.BaseSumma, }, //6 price\r\n            { value: product.ExciseRate }, //7 aksiz rate\r\n            { value: product.ExciseSum, readOnly: true }, //8 aksiz amount\r\n            { value: product.DeliverySum }, //9 delivery cost\r\n            { value: product.VatRate }, //10 VAT rate\r\n            { value: product.VatSum, readOnly: true }, //11 VAT amount\r\n            { value: product.DeliverySumWithVat, readOnly: true }, //12 total\r\n        ])\r\n        return res\r\n}","export default class Factura {\r\n    \"Version\"= 1;\r\n    \"FacturaType\"= null;\r\n    \"SingleSidedType\"= null;\r\n    \"HasMarking\"= true;\r\n    \"AgreeToFine\"= false;\r\n    \"FacturaId\"= \"\";\r\n    \"FacturaDoc\"= {\r\n        \"FacturaNo\": null,\r\n        \"FacturaDate\": null\r\n    }\r\n    \"OldFacturaDoc\"= {\r\n        \"OldFacturaId\": null,\r\n        \"OldFacturaNo\": null,\r\n        \"OldFacturaDate\": null\r\n    }\r\n    \"ContractDoc\"= {\r\n        \"ContractNo\": null,\r\n        \"ContractDate\": null\r\n    }\r\n    \"FacturaEmpowermentDoc\"= {\r\n        \"AgentFacturaId\": null,\r\n        \"EmpowermentNo\": null,\r\n        \"EmpowermentDateOfIssue\": null,\r\n        \"AgentFio\": null,\r\n        \"AgentTin\": null,\r\n        \"AgentPinfl\": null\r\n    }\r\n    \"ItemReleasedDoc\"= {\r\n        \"ItemReleasedTin\": null,\r\n        \"ItemReleasedFio\": null,\r\n        \"ItemReleasedPinfl\": null\r\n    }\r\n    \"SellerTin\"= null;\r\n    \"BuyerTin\"= null;\r\n    \"Seller\"= {\r\n        \"Name\": null,\r\n        \"Account\": null,\r\n        \"BankId\": null,\r\n        \"Address\": null,\r\n        \"Mobile\": null,\r\n        \"WorkPhone\": null,\r\n        \"Oked\": null,\r\n        \"DistrictId\": null,\r\n        \"Director\": null,\r\n        \"Accountant\": null,\r\n        \"VatRegCode\": null,\r\n        \"BranchCode\": null,\r\n        \"BranchName\": null\r\n    }\r\n    \"Buyer\"= {\r\n        \"Name\": null,\r\n        \"Account\": \"\",\r\n        \"BankId\": \"\",\r\n        \"Address\": null,\r\n        \"Mobile\": null,\r\n        \"WorkPhone\": null,\r\n        \"Oked\": \"\",\r\n        \"DistrictId\": null,\r\n        \"Director\": null,\r\n        \"Accountant\": \"\",\r\n        \"VatRegCode\": \"\",\r\n        \"BranchCode\": \"\",\r\n        \"BranchName\": \"\"\r\n    }\r\n    \"ForeignCompany\"= {\r\n        \"CountryId\": null,\r\n        \"Name\": null,\r\n        \"Address\": null,\r\n        \"Bank\": null,\r\n        \"Account\": null\r\n    }\r\n    \"ProductList\"=null\r\n}\r\n\r\nexport const GetFacturaDataToSign = (data, products, FacturaId) => {\r\n\r\n    let { \r\n        agentFio,\r\n        agentTin,\r\n        buyerAccount,\r\n        buyerAccountant,\r\n        buyerAddress,\r\n        buyerDirector,\r\n        buyerMfo,\r\n        buyerName,\r\n        buyerTin,\r\n        buyerVatRegCode,\r\n        contractDate,\r\n        contractNo,\r\n        empowermentDateOfIssue,\r\n        empowermentNo,\r\n        facturaDate,\r\n        facturaNo,\r\n        facturaType,\r\n        oldFacturaId,\r\n        oldFacturaNo,\r\n        oldFacturaDate,\r\n        sellerAccount,\r\n        sellerAccountant,\r\n        sellerAddress,\r\n        sellerDirector,\r\n        sellerMfo,\r\n        sellerName,\r\n        sellerTin,\r\n        sellerVatRegCode,\r\n        singleSidedType, \r\n    } = data\r\n\r\n    let Buyer = {\r\n        \"Name\": buyerName,\r\n        \"Account\": buyerAccount,\r\n        \"BankId\": buyerMfo,\r\n        \"Address\": buyerAddress,\r\n        \"Mobile\": \"\",\r\n        \"WorkPhone\": \"\",\r\n        \"Oked\": \"\",\r\n        \"DistrictId\": \"\",\r\n        \"Director\": buyerDirector,\r\n        \"Accountant\": buyerAccountant,\r\n        \"VatRegCode\": buyerVatRegCode,\r\n        \"BranchCode\": \"\",\r\n        \"BranchName\": \"\"\r\n\r\n    }\r\n    let Seller = {\r\n        \"Name\": sellerName,\r\n        \"Account\": sellerAccount,\r\n        \"BankId\": sellerMfo,\r\n        \"Address\": sellerAddress,\r\n        \"Mobile\": \"\",\r\n        \"WorkPhone\": \"\",\r\n        \"Oked\": \"\",\r\n        \"DistrictId\": \"\",\r\n        \"Director\": sellerDirector,\r\n        \"Accountant\": sellerAccountant,\r\n        \"VatRegCode\": sellerVatRegCode,\r\n        \"BranchCode\": \"\",\r\n        \"BranchName\": \"\"\r\n    }\r\n    let f = new Factura();\r\n\r\n    f.OldFacturaDoc = {\r\n        OldFacturaDate: oldFacturaDate,\r\n        OldFacturaId: oldFacturaId,\r\n        OldFacturaNo: oldFacturaNo\r\n    }\r\n\r\n    f.SingleSidedType=singleSidedType;\r\n    f.FacturaProductId=FacturaId;\r\n    f.FacturaId=FacturaId;\r\n    f.FacturaType=facturaType\r\n    f.FacturaDoc={\r\n        FacturaDate: facturaDate,\r\n        FacturaNo: facturaNo,\r\n    }\r\n    f.Seller=Seller;\r\n    f.Buyer = Buyer;\r\n    f.BuyerTin = buyerTin;\r\n    f.SellerTin=sellerTin;\r\n\r\n    f.ContractDoc={\r\n        ContractDate: contractDate,\r\n        ContractNo: contractNo,\r\n    }\r\n    f.FacturaEmpowermentDoc={\r\n        EmpowermentDateOfIssue: empowermentDateOfIssue,\r\n        EmpowermentNo: empowermentNo,\r\n        AgentFio: agentFio,\r\n        AgentTin: agentTin,\r\n    }\r\n    f.ProductList=products;\r\n    console.log(products)\r\n    return f;\r\n}\r\n\r\nexport const FacturaDataToForm = data=>{\r\n    \r\n    let { \r\n        Buyer, \r\n        Seller,\r\n        ContractDoc,\r\n        FacturaDoc,\r\n        FacturaEmpowermentDoc,\r\n        FacturaId,\r\n        FacturaProductId,\r\n        ForeignCompany,\r\n        BuyerTin,\r\n        SellerTin,\r\n        ProductList,\r\n        FacturaType,\r\n        OldFacturaDoc,\r\n        SingleSidedType\r\n    } = data;\r\n\r\n    let f = {\r\n        agentFio: FacturaEmpowermentDoc.AgentFio,\r\n        agentTin: FacturaEmpowermentDoc.AgentTin,\r\n        buyerAccount: Buyer.Account,\r\n        buyerAccountant: Buyer.Accountant,\r\n        buyerAddress: Buyer.Address,\r\n        buyerDirector: Buyer.Director,\r\n        buyerMfo: Buyer.BankId,\r\n        buyerName: Buyer.Name,\r\n        buyerTin: BuyerTin,\r\n        buyerVatRegCode: Buyer.VatRegCode,\r\n        contractDate: ContractDoc.ContractDate,\r\n        contractNo: ContractDoc.ContractNo,\r\n        empowermentDateOfIssue: FacturaEmpowermentDoc.EmpowermentDateOfIssue,\r\n        empowermentNo: FacturaEmpowermentDoc.EmpowermentNo,\r\n        facturaDate: FacturaDoc.FacturaDate,\r\n        facturaNo: FacturaDoc.FacturaNo,\r\n        facturaType: FacturaType,\r\n        oldFacturaId: OldFacturaDoc.OldFacturaId,\r\n        oldFacturaNo: OldFacturaDoc.OldFacturaNo,\r\n        oldFacturaDate: OldFacturaDoc.OldFacturaDate,\r\n        sellerAccount: Seller.Account,\r\n        sellerAccountant: Seller.Accountant,\r\n        sellerAddress: Seller.Address,\r\n        sellerDirector: Seller.Director,\r\n        sellerMfo: Seller.BankId,\r\n        sellerName: Seller.Name,\r\n        sellerTin: SellerTin,\r\n        sellerVatRegCode: Seller.VatRegCode,\r\n        singleSidedType: SingleSidedType,\r\n    }\r\n\r\n    return f;\r\n\r\n}\r\n\r\nconst formProperties = [\r\n    \"agentFio\",\r\n    \"agentTin\",\r\n    \"buyerAccount\",\r\n    \"buyerAccountant\",\r\n    \"buyerAddress\",\r\n    \"buyerDirector\",\r\n    \"buyerMfo\",\r\n    \"buyerName\",\r\n    \"buyerTin\",\r\n    \"buyerVatRegCode\",\r\n    \"contractDate\",\r\n    \"contractNo\",\r\n    \"empowermentDateOfIssue\",\r\n    \"empowermentNo\",\r\n    \"facturaDate\",\r\n    \"facturaNo\",\r\n    \"facturaProductId\",\r\n    \"facturaType\",\r\n    \"oldFacturaId\",\r\n    \"oldFacturaNo\",\r\n    \"oldFacturaDate\",\r\n    \"sellerAccount\",\r\n    \"sellerAccountant\",\r\n    \"sellerAddress\",\r\n    \"sellerDirector\",\r\n    \"sellerMfo\",\r\n    \"sellerName\",\r\n    \"sellerTin\",\r\n    \"sellerVatRegCode\",\r\n    \"singleSidedType\"\r\n]\r\n\r\n","String.prototype.splitKeep = function(splitter, ahead) {\r\n    var self = this;\r\n    var result = [];\r\n    if (splitter != '') {\r\n        // Substitution of matched string\r\n        function getSubst(value) {\r\n            var substChar = value[0] == '0' ? '1' : '0';\r\n            var subst = '';\r\n            for (var i = 0; i < value.length; i++) {\r\n                subst += substChar;\r\n            }\r\n            return subst;\r\n        };\r\n        var matches = [];\r\n        // Getting mached value and its index\r\n        var replaceName = splitter instanceof RegExp ? \"replace\" : \"replaceAll\";\r\n        var r = self[replaceName](splitter, function(m, i, e) {\r\n            matches.push({ value: m, index: i });\r\n            return getSubst(m);\r\n        });\r\n        // Finds split substrings\r\n        var lastIndex = 0;\r\n        for (var i = 0; i < matches.length; i++) {\r\n            var m = matches[i];\r\n            var nextIndex = ahead == true ? m.index : m.index + m.value.length;\r\n            if (nextIndex != lastIndex) {\r\n                var part = self.substring(lastIndex, nextIndex);\r\n                result.push(part);\r\n                lastIndex = nextIndex;\r\n            }\r\n        };\r\n        if (lastIndex < self.length) {\r\n            var part = self.substring(lastIndex, self.length);\r\n            result.push(part);\r\n        };\r\n    } else {\r\n        result.add(self);\r\n    };\r\n    return result;\r\n};\r\n\r\nexport const CAPIWS = {\r\n    URL: (window.location.protocol.toLowerCase() === \"https:\" ? \"wss://127.0.0.1:64443\" : \"ws://127.0.0.1:64646\") + \"/service/cryptapi\",\r\n    callFunction: function(funcDef, callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            socket.send(JSON.stringify(funcDef));\r\n        };\r\n    },\r\n    version: function(callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'version' };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    },\r\n    apidoc: function(callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'apidoc' };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    },\r\n    apikey: function(domainAndKey, callback, error) {\r\n        if (!window.WebSocket) {\r\n            if (error)\r\n                error();\r\n            return;\r\n        }\r\n        var socket;\r\n        try {\r\n            socket = new WebSocket(this.URL);\r\n        } catch (e) {\r\n            error(e);\r\n        }\r\n        socket.onerror = function(e) {\r\n            if (error)\r\n                error(e);\r\n        };\r\n        socket.onmessage = function(event) {\r\n            var data = JSON.parse(event.data);\r\n            socket.close();\r\n            callback(event, data);\r\n        };\r\n        socket.onopen = function() {\r\n            var o = { name: 'apikey', arguments: domainAndKey };\r\n            socket.send(JSON.stringify(o));\r\n        };\r\n    }\r\n};\r\n\r\nexport const EIMZOClient = {\r\n    NEW_API: false,\r\n    API_KEYS: [\r\n        'cabinet.onlinefactura.uz', 'F09A2CBE8EA25A5C065AF78D32F517B1DCF12E997575556CBD90B405A90420E6EB538FCCFFCBAA22C5D191CAB3803965621B023E8642F77F35DDA072FBA17914'\r\n    ],\r\n    checkVersion: function(success, fail) {\r\n        CAPIWS.version(function(event, data) {\r\n            if (data.success === true) {\r\n                if (data.major && data.minor) {\r\n                    var installedVersion = parseInt(data.major) * 100 + parseInt(data.minor);\r\n                    EIMZOClient.NEW_API = installedVersion >= 336;\r\n                    success(data.major, data.minor);\r\n                } else {\r\n                    fail(null, 'E-IMZO Version is undefined');\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    installApiKeys: function(success, fail) {\r\n        CAPIWS.apikey(EIMZOClient.API_KEYS, function(event, data) {\r\n            if (data.success) {\r\n                success();\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    listAllUserKeys: function(itemIdGen, itemUiGen, success, fail) {\r\n        var items = [];\r\n        var errors = [];\r\n        if (!EIMZOClient.NEW_API) {\r\n            EIMZOClient._findCertKeys(itemIdGen, itemUiGen, items, errors, function(firstItmId) {\r\n                EIMZOClient._findPfxs(itemIdGen, itemUiGen, items, errors, function(firstItmId2) {\r\n                    if (items.length === 0 && errors.length > 0) {\r\n                        fail(errors[0].e, errors[0].r);\r\n                    } else {\r\n                        var firstId = null;\r\n                        if (items.length === 1) {\r\n                            if (firstItmId) {\r\n                                firstId = firstItmId;\r\n                            } else if (firstItmId2) {\r\n                                firstId = firstItmId2;\r\n                            }\r\n                        }\r\n                        success(items, firstId);\r\n                    }\r\n                });\r\n            });\r\n        } else {\r\n            EIMZOClient._findCertKeys2(itemIdGen, itemUiGen, items, errors, function(firstItmId) {\r\n                EIMZOClient._findPfxs2(itemIdGen, itemUiGen, items, errors, function(firstItmId2) {\r\n                    EIMZOClient._findTokens2(itemIdGen, itemUiGen, items, errors, function(firstItmId3) {\r\n                        if (items.length === 0 && errors.length > 0) {\r\n                            fail(errors[0].e, errors[0].r);\r\n                        } else {\r\n                            var firstId = null;\r\n                            if (items.length === 1) {\r\n                                if (firstItmId) {\r\n                                    firstId = firstItmId;\r\n                                } else if (firstItmId2) {\r\n                                    firstId = firstItmId2;\r\n                                } else if (firstItmId3) {\r\n                                    firstId = firstItmId3;\r\n                                }\r\n                            }\r\n                            success(items, firstId);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    },\r\n    loadKey: function(itemObject, success, fail, verifyPassword) {\r\n        if (itemObject) {\r\n            var vo = itemObject;\r\n            if (vo.type === \"certkey\") {\r\n                CAPIWS.callFunction({ plugin: \"certkey\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.serialNumber] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        success(id);\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"pfx\") {\r\n                CAPIWS.callFunction({ plugin: \"pfx\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.alias] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        if (verifyPassword) {\r\n                            CAPIWS.callFunction({ name: \"verify_password\", plugin: \"pfx\", arguments: [id] }, function(event, data) {\r\n                                if (data.success) {\r\n                                    success(id);\r\n                                } else {\r\n                                    fail(null, data.reason);\r\n                                }\r\n                            }, function(e) {\r\n                                fail(e, null);\r\n                            });\r\n                        } else {\r\n                            success(id);\r\n                        }\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"ftjc\") {\r\n                CAPIWS.callFunction({ plugin: \"ftjc\", name: \"load_key\", arguments: [vo.cardUID] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        if (verifyPassword) {\r\n                            CAPIWS.callFunction({ plugin: \"ftjc\", name: \"verify_pin\", arguments: [id, '1'] }, function(event, data) {\r\n                                if (data.success) {\r\n                                    success(id);\r\n                                } else {\r\n                                    fail(null, data.reason);\r\n                                }\r\n                            }, function(e) {\r\n                                fail(e, null);\r\n                            });\r\n                        } else {\r\n                            success(id);\r\n                        }\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            }\r\n        }\r\n    },\r\n    changeKeyPassword: function(itemObject, success, fail) {\r\n        if (itemObject) {\r\n            var vo = itemObject;\r\n            if (vo.type === \"pfx\") {\r\n                CAPIWS.callFunction({ plugin: \"pfx\", name: \"load_key\", arguments: [vo.disk, vo.path, vo.name, vo.alias] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        CAPIWS.callFunction({ name: \"change_password\", plugin: \"pfx\", arguments: [id] }, function(event, data) {\r\n                            if (data.success) {\r\n                                success();\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            } else if (vo.type === \"ftjc\") {\r\n                CAPIWS.callFunction({ plugin: \"ftjc\", name: \"load_key\", arguments: [vo.cardUID] }, function(event, data) {\r\n                    if (data.success) {\r\n                        var id = data.keyId;\r\n                        CAPIWS.callFunction({ name: \"change_pin\", plugin: \"ftjc\", arguments: [id, '1'] }, function(event, data) {\r\n                            if (data.success) {\r\n                                success();\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    } else {\r\n                        fail(null, data.reason);\r\n                    }\r\n                }, function(e) {\r\n                    fail(e, null);\r\n                });\r\n            }\r\n        }\r\n    },\r\n    createPkcs7: function(id, data, timestamper, success, fail) {\r\n        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"create_pkcs7\", arguments: [btoa(unescape(encodeURIComponent(data))), id, 'no'] }, function(event, data) {\r\n            if (data.success) {\r\n                var pkcs7 = data.pkcs7_64;\r\n                if (timestamper) {\r\n                    var sn = data.signer_serial_number;\r\n                    timestamper(data.signature_hex, function(tst) {\r\n                        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"attach_timestamp_token_pkcs7\", arguments: [pkcs7, sn, tst] }, function(event, data) {\r\n                            if (data.success) {\r\n                                var pkcs7tst = data.pkcs7_64;\r\n                                success(pkcs7tst);\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    }, fail);\r\n                } else {\r\n                    success(pkcs7);\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    appendPkcs7Attached: function(id, data, timestamper, success, fail) {\r\n        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"append_pkcs7_attached\", arguments: [data, id] }, function(event, data) {\r\n            if (data.success) {\r\n                var pkcs7 = data.pkcs7_64;\r\n                if (timestamper) {\r\n                    var sn = data.signer_serial_number;\r\n                    timestamper(data.signature_hex, function(tst) {\r\n                        CAPIWS.callFunction({ plugin: \"pkcs7\", name: \"attach_timestamp_token_pkcs7\", arguments: [pkcs7, sn, tst] }, function(event, data) {\r\n                            if (data.success) {\r\n                                var pkcs7tst = data.pkcs7_64;\r\n                                success(pkcs7tst);\r\n                            } else {\r\n                                fail(null, data.reason);\r\n                            }\r\n                        }, function(e) {\r\n                            fail(e, null);\r\n                        });\r\n                    }, fail);\r\n                } else {\r\n                    success(pkcs7);\r\n                }\r\n            } else {\r\n                fail(null, data.reason);\r\n            }\r\n        }, function(e) {\r\n            fail(e, null);\r\n        });\r\n    },\r\n    _getX500Val: function(s, f) {\r\n        var res = s.splitKeep(/,[A-Z]+=/g, true);\r\n        for (var i in res) {\r\n            var n = res[i].search((i > 0 ? \",\" : \"\") + f + \"=\");\r\n            if (n !== -1) {\r\n                return res[i].slice(n + f.length + 1 + (i > 0 ? 1 : 0));\r\n            }\r\n        }\r\n        return \"\";\r\n    },\r\n    _findCertKeyCertificates: function(itemIdGen, itemUiGen, items, errors, allDisks, diskIndex, params, callback) {\r\n        if (parseInt(diskIndex) + 1 > allDisks.length) {\r\n            callback(params);\r\n            return;\r\n        }\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_certificates\", arguments: [allDisks[diskIndex]] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        serialNumber: el.serialNumber,\r\n                        subjectName: el.subjectName,\r\n                        validFrom: new Date(el.validFrom),\r\n                        validTo: new Date(el.validTo),\r\n                        issuerName: el.issuerName,\r\n                        publicKeyAlgName: el.publicKeyAlgName,\r\n                        CN: EIMZOClient._getX500Val(el.subjectName, \"CN\"),\r\n                        TIN: EIMZOClient._getX500Val(el.subjectName, \"INITIALS\"),\r\n                        O: EIMZOClient._getX500Val(el.subjectName, \"O\"),\r\n                        T: EIMZOClient._getX500Val(el.subjectName, \"T\"),\r\n                        type: 'certkey'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (params.length === 0) {\r\n                        params.push(itmkey);\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        });\r\n    },\r\n    _findCertKeys: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var allDisks = [];\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_disks\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.disks) {\r\n                    allDisks.push(data.disks[rec]);\r\n                    if (parseInt(rec) + 1 >= data.disks.length) {\r\n                        var params = [];\r\n                        EIMZOClient._findCertKeyCertificates(itemIdGen, itemUiGen, items, errors, allDisks, 0, params, function(params) {\r\n                            callback(params[0]);\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback();\r\n        });\r\n    },\r\n    _findPfxCertificates: function(itemIdGen, itemUiGen, items, errors, allDisks, diskIndex, params, callback) {\r\n        if (parseInt(diskIndex) + 1 > allDisks.length) {\r\n            callback(params);\r\n            return;\r\n        }\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_certificates\", arguments: [allDisks[diskIndex]] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var x500name_ex = el.alias.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        alias: el.alias,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'pfx'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (params.length === 0) {\r\n                        params.push(itmkey);\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, parseInt(diskIndex) + 1, params, callback);\r\n        });\r\n    },\r\n    _findPfxs: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var allDisks = [];\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_disks\" }, function(event, data) {\r\n            if (data.success) {\r\n                var disks = data.disks;\r\n                for (var rec in disks) {\r\n                    allDisks.push(data.disks[rec]);\r\n                    if (parseInt(rec) + 1 >= data.disks.length) {\r\n                        var params = [];\r\n                        EIMZOClient._findPfxCertificates(itemIdGen, itemUiGen, items, errors, allDisks, 0, params, function(params) {\r\n                            callback(params[0]);\r\n                        });\r\n                    }\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback();\r\n        });\r\n    },\r\n    _findCertKeys2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"certkey\", name: \"list_all_certificates\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        serialNumber: el.serialNumber,\r\n                        subjectName: el.subjectName,\r\n                        validFrom: new Date(el.validFrom),\r\n                        validTo: new Date(el.validTo),\r\n                        issuerName: el.issuerName,\r\n                        publicKeyAlgName: el.publicKeyAlgName,\r\n                        CN: EIMZOClient._getX500Val(el.subjectName, \"CN\"),\r\n                        TIN: EIMZOClient._getX500Val(el.subjectName, \"INITIALS\"),\r\n                        O: EIMZOClient._getX500Val(el.subjectName, \"O\"),\r\n                        T: EIMZOClient._getX500Val(el.subjectName, \"T\"),\r\n                        type: 'certkey'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    },\r\n    _findPfxs2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"pfx\", name: \"list_all_certificates\" }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.certificates) {\r\n                    var el = data.certificates[rec];\r\n                    var x500name_ex = el.alias.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        disk: el.disk,\r\n                        path: el.path,\r\n                        name: el.name,\r\n                        alias: el.alias,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\").replace(/\\./g, \"-\").replace(\" \", \"T\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'pfx'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    },\r\n    _findTokens2: function(itemIdGen, itemUiGen, items, errors, callback) {\r\n        var itmkey0;\r\n        CAPIWS.callFunction({ plugin: \"ftjc\", name: \"list_all_keys\", arguments: [''] }, function(event, data) {\r\n            if (data.success) {\r\n                for (var rec in data.tokens) {\r\n                    var el = data.tokens[rec];\r\n                    var x500name_ex = el.info.toUpperCase();\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.1=\", \"INN=\");\r\n                    x500name_ex = x500name_ex.replace(\"1.2.860.3.16.1.2=\", \"PINFL=\");\r\n                    var vo = {\r\n                        cardUID: el.cardUID,\r\n                        statusInfo: el.statusInfo,\r\n                        ownerName: el.ownerName,\r\n                        info: el.info,\r\n                        serialNumber: EIMZOClient._getX500Val(x500name_ex, \"SERIALNUMBER\"),\r\n                        validFrom: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDFROM\")),\r\n                        validTo: new Date(EIMZOClient._getX500Val(x500name_ex, \"VALIDTO\")),\r\n                        CN: EIMZOClient._getX500Val(x500name_ex, \"CN\"),\r\n                        TIN: (EIMZOClient._getX500Val(x500name_ex, \"INN\") ? EIMZOClient._getX500Val(x500name_ex, \"INN\") : EIMZOClient._getX500Val(x500name_ex, \"UID\")),\r\n                        UID: EIMZOClient._getX500Val(x500name_ex, \"UID\"),\r\n                        O: EIMZOClient._getX500Val(x500name_ex, \"O\"),\r\n                        T: EIMZOClient._getX500Val(x500name_ex, \"T\"),\r\n                        type: 'ftjc'\r\n                    };\r\n                    if (!vo.TIN)\r\n                        continue;\r\n                    var itmkey = itemIdGen(vo, rec);\r\n                    if (!itmkey0) {\r\n                        itmkey0 = itmkey;\r\n                    }\r\n                    var itm = itemUiGen(itmkey, vo);\r\n                    items.push(itm);\r\n                }\r\n            } else {\r\n                errors.push({ r: data.reason });\r\n            }\r\n            callback(itmkey0);\r\n        }, function(e) {\r\n            errors.push({ e: e });\r\n            callback(itmkey0);\r\n        });\r\n    }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectCurrentUser, selectLoadedKey, selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport PersonFetch from '../../common/person-fetch/person-fetch.component';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport FacturaProductGrid from './product-grid.component';\r\nimport { ConvertGridToProduct, ConvertProductToGrid } from '../../models/FacturaProduct';\r\nimport { FacturaDataToForm, GetFacturaDataToSign } from '../../models/Factura';\r\nimport { EIMZOClient } from '../../../utils/e-imzo';\r\nimport { setLoadedKeyId } from '../../../redux/user/user.action';\r\n\r\nconst { Option } = Select;\r\n\r\nconst FacturaCreateForm = ({ match, user, loadedKey, setTimer }) => {\r\n\r\n  const { t, i18n } = useTranslation();\r\n  const [form] = Form.useForm();\r\n  const { facturaId } = match.params;\r\n  const [newFacturaId, setNewFacturaId]=useState();\r\n  const [initialData, setInitialData] = useState({ facturaType: 0 })\r\n  const [facturaType, setFacturaType] = useState();\r\n  const [saveLoading, setSaveLoading] = useState(false);\r\n  const [products, setProducts] = useState();\r\n  const [gridInitialValue, setGridInitialValue] = useState();\r\n\r\n\r\n  useEffect(() => {\r\n    if (facturaId) {\r\n      //fetch fatura data\r\n      setNewFacturaId(facturaId)\r\n      axios({\r\n        url: `facturas/view?FacturaId=${facturaId}&tin=${user.tin??user.username}`,\r\n        method: \"GET\",\r\n      }).then(res => {\r\n        let data = FacturaDataToForm(res.data.data[0]);\r\n        data.contractDate = moment(data.contractDate);\r\n        data.created_at = moment(data.created_at);\r\n        data.facturaDate = moment(data.facturaDate);\r\n        data.empowermentDateOfIssue = moment(data.empowermentDateOfIssue);\r\n        data.oldFacturaDate = moment(data.oldFacturaDate);\r\n        data.updated_at = moment(data.updated_at);\r\n        console.log(data);\r\n\r\n        setInitialData(data);\r\n        setGridInitialValue(ConvertProductToGrid(res.data.data[0]?.ProductList.Products))\r\n        form.resetFields();\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }else{\r\n      axios({\r\n        url: \"info/get-guid\",\r\n        method: \"get\"\r\n      }).then(res=>{\r\n        if(res.data.success){\r\n          setNewFacturaId(res.data.data)\r\n        }\r\n      }).catch(ex=>{\r\n        console.log(ex)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n\r\n  const validateMessages = {\r\n    required: t('Bu maydon majburiy!'),\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n\r\n  };\r\n\r\n  const FACTURA_TYPES = {\r\n    \"STANDARD\": 0,\r\n    \"QOSHIMCHA\": 1,\r\n    \"HARAJATLARNI QOPLASH\": 2,\r\n    \"TOLOVSIZ\": 3,\r\n    \"TUZATUVCHI\": 4\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  //#region data-sheet methods\r\n\r\n  const getProducts = data=>{\r\n\r\n    setProducts(ConvertGridToProduct(data, user.tin ?? user.username, newFacturaId))\r\n    \r\n  }\r\n  //#endregion\r\n\r\n  //#region form methods\r\n\r\n  const handleSign = ()=>{\r\n    setSaveLoading(true)\r\n    let values = form.getFieldsValue()\r\n    console.log(JSON.stringify(GetFacturaDataToSign(values, products, newFacturaId)));\r\n    EIMZOClient.createPkcs7(\r\n      loadedKey.id, \r\n      JSON.stringify(GetFacturaDataToSign(values, products, newFacturaId)),\r\n      null,\r\n      pkcs7=>{\r\n        console.log(JSON.stringify(GetFacturaDataToSign(values, products, newFacturaId)))\r\n        console.log(pkcs7)\r\n        axios({\r\n          url: `facturas/send?tin=${user.tin??user.username}`,\r\n          method: 'post',\r\n          data: {\r\n            Sign: pkcs7\r\n          }\r\n        })\r\n        .then(res=>{\r\n\r\n          if(res.data.success){\r\n            message.success(t(\"Faktura muaffaqiyatli imzolandi!\"))\r\n            if(!facturaId){\r\n              handleSubmit(values)\r\n            }\r\n          }\r\n          else{\r\n            message.error(t(\"Faktura imzolashda xatolik!\"))\r\n          }\r\n\r\n          setSaveLoading(false)\r\n        })\r\n        .catch(ex=>{\r\n          console.log(ex)\r\n          message.error(t(\"Faktura imzolashda xatolik!\"))\r\n          setSaveLoading(false)\r\n        })\r\n      },\r\n      (e,r)=>{\r\n        console.log(\"e\", e, \"r\", r)\r\n        setSaveLoading(false)\r\n      }\r\n      )\r\n      setTimer({id: loadedKey.id, time: Date.now()})\r\n    \r\n  }\r\n\r\n  const handleSubmit = (values) => {\r\n    setSaveLoading(true);\r\n\r\n    if (facturaId) {\r\n      axios({\r\n        url: `/api/v1/facturas/${facturaId}`,\r\n        method: 'PATCH',\r\n        data: { factura: values }\r\n      }).then(res => {\r\n        if (res.data.success) {\r\n          message.success(t(\"Faktura o'zgartirildi!\"))\r\n        } else {\r\n          message.error(t(\"Faktura o'zgartirishda xatolik!\"));\r\n        }\r\n        console.log(res)\r\n        setSaveLoading(false);\r\n      }).catch(err => {\r\n        message.error(t(\"Faktura o'zgartirishda xatolik!\"));\r\n        console.log(err)\r\n        setSaveLoading(false);\r\n      })\r\n    } else {\r\n      axios({\r\n        url: 'facturas/create',\r\n        method: 'post',\r\n        data: GetFacturaDataToSign(values, products, newFacturaId)\r\n      }).then(res => {\r\n        if (res.data.success) {\r\n          message.success(t(\"Faktura yaratili!\"))\r\n        }\r\n        else {\r\n          message.error(t(\"Faktura yaratishda xatolik!\"));\r\n        }\r\n        console.log(res)\r\n        setSaveLoading(false);\r\n      }).catch(err => {\r\n        console.log(err)\r\n        message.error(t(\"Faktura yaratishda xatolik!\"));\r\n        setSaveLoading(false);\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <div style={{ padding: 15 }}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish={handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>{t(\"Hujjat turi\")}</h3>\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"facturaType\"\r\n                >\r\n                  <Select\r\n                    onChange={setFacturaType}\r\n                    bordered={false}\r\n                    size=\"large\"\r\n                    placeholder=\"Faktura turi\">\r\n                    <Option value={FACTURA_TYPES[\"STANDARD\"]}>{t(\"Standard\")}</Option>\r\n                    <Option value={FACTURA_TYPES[\"QOSHIMCHA\"]}>{t(\"Qo'shimcha\")}</Option>\r\n                    <Option value={FACTURA_TYPES[\"HARAJATLARNI QOPLASH\"]}>{t(\"Harajatni qoplash\")}</Option>\r\n                    <Option value={FACTURA_TYPES[\"TOLOVSIZ\"]}>{t(\"To'lovsiz\")}</Option>\r\n                    <Option value={FACTURA_TYPES[\"TUZATUVCHI\"]}>{t(\"Tuzatuvchi\")}</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Faktura turi\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={facturaType === FACTURA_TYPES[\"QOSHIMCHA\"] || facturaType === FACTURA_TYPES[\"TUZATUVCHI\"] ? 11 : 0}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-facutura-no-old\"\r\n                  name=\"oldFacturaId\">\r\n                  <Input\r\n                    rules={[{ required: true }]}\r\n                    size=\"large\"\r\n                    placeholder=\"Eski faktura ID\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Eski faktura ID\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={facturaType === FACTURA_TYPES[\"QOSHIMCHA\"] || facturaType === FACTURA_TYPES[\"TUZATUVCHI\"] ? 11 : 0}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-facutura-no-old\"\r\n                  name=\"oldFacturaNo\">\r\n                  <Input\r\n                    rules={[{ required: true }]}\r\n                    size=\"large\"\r\n                    placeholder=\"Eski faktura No\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Eski faktura No\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={facturaType === FACTURA_TYPES[\"QOSHIMCHA\"] || facturaType === FACTURA_TYPES[\"TUZATUVCHI\"] ? 11 : 0}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-facutura-no-old\"\r\n                  name=\"oldFacturaDate\">\r\n                  <DatePicker\r\n                    rules={[{ required: true }]}\r\n                    size=\"large\"\r\n                    placeholder=\"Eski faktura Sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Eski faktura Sanasi\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"facturaNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder={t(\"Faktura raqami\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Faktura raqami\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-item-inn-date\"\r\n                  name=\"facturaDate\"\r\n                  rules={[{ required: true }]}>\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder={t(\"Faktura sanasi\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Faktura sanasi\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0\"\r\n                  name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder={t(\"Shartnoma raqami\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Shartnoma raqami\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date\"\r\n                  name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder={t(\"Shartnoma sanasi\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Shartnoma sanasi\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <SellerForm form={form} />\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <BuyerForm form={form} docType=\"factura\" />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <FacturaProductGrid initialValues={ gridInitialValue } getProducts={getProducts} form={form} />\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={5} >\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"empowerment-no\"\r\n                  name=\"empowermentNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder={t(\"Ishonchnoma raqami\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Ishonchnoma raqami\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={5}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"seler-account-empowerment-dateof-issue\"\r\n                  name=\"empowermentDateOfIssue\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder={t(\"Ishonchnoma sanasi\")} />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">{t(\"Ishonchnoma sanasi\")}</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={12}>\r\n              <PersonFetch\r\n                pName=\"agentFio\"\r\n                pTin=\"agentTin\"\r\n                nameLabel={t(\"Ma'sul shaxs FIO\")}\r\n                tinLabel={t(\"STIR\")}\r\n                tinCol={11}\r\n                nameCol={11}\r\n                form={form}\r\n              />\r\n            </Col>\r\n\r\n          </Row>\r\n\r\n        </div>\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-around\">\r\n            <Col >\r\n              <Button\r\n                loading={saveLoading}\r\n                primary\r\n                htmlType=\"submit\"\r\n                className=\"factra-action-btns save-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                {t(\"Saqlash\")}\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                loading={saveLoading}\r\n                className=\"factra-action-btns sing-btn\"\r\n                size=\"large\"\r\n                onClick={handleSign}\r\n                icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                {t(\"Imzolash\")}\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />}\r\n                danger\r\n                className=\"factra-action-btns\"\r\n                size=\"large\">\r\n                {t(\"Bekor qilish\")}\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        \r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch=>({\r\n  setTimer: data=>dispatch(setLoadedKeyId(data))\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken,\r\n  user: selectCurrentUser,\r\n  loadedKey: selectLoadedKey\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FacturaCreateForm);","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport axios from 'axios';\r\nimport { Button, Spin } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport './view.style.scss';\r\nimport ReactToPrint from \"react-to-print\";\r\nimport moment from 'moment';\r\nimport { measures } from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\n\r\nvar QRCode = require('qrcode.react');\r\n\r\nconst FacturaView = ({ match, user }) => {\r\n\r\n    const ref = React.createRef();\r\n    const printRef = useRef();\r\n    const [factura, setFactura] = useState();\r\n    const [loading, setLoading] = useState(true)\r\n    const {facturaId} = match.params;\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(()=>{\r\n        setLoading(false)\r\n        axios({\r\n            url: `facturas/view?FacturaId=${facturaId}&tin=${user.tin ?? user.username}`,\r\n            method: \"get\"\r\n        }).then(res => {\r\n            if(res.data.success){\r\n                setFactura(res.data.data[0])\r\n                console.log(res.data.data[0])\r\n            }\r\n            setLoading(false)\r\n        }).catch(ex=>{\r\n            console.log(ex);\r\n            setLoading(false)\r\n        })\r\n    },[facturaId, user])\r\n   \r\n\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n        <div className=\"custom-section-wrapper\">\r\n\r\n                <ReactToPrint\r\n                    trigger={() => <Button>{t(\"Chop etish\")}</Button>}\r\n                    content={() => printRef.current}\r\n                    documentTitle={`factura-${factura?.FacturaId}`}\r\n                />\r\n            <div className=\"factura-view-page-pdf-container\" ref={printRef } >\r\n                <div style={{display: 'flex', justifyContent:'space-between'}}>\r\n                    <div>\r\n                            <div><strong>ID:</strong> {factura?.FacturaId}</div>\r\n                        {\r\n                                factura?.OldFacturaDoc.OldFacturaId ?\r\n                                <div>\r\n                                    <strong>Eski faktura</strong>\r\n                                        <div><strong>ID:</strong> {factura?.OldFacturaDoc.OldFacturaId}</div>\r\n                                        <div><strong>:</strong> {factura?.OldFacturaDoc.OldFacturaNo}</div>\r\n                                        <div><strong>Sana:</strong>{moment(factura?.OldFacturaDoc.OldFacturaDate).format(\"MMMM Do YYYY\")}</div>\r\n                                </div>\r\n                                :\"\"\r\n                        }\r\n                    </div>\r\n                    <div style={{width: 300, textAlign:'center'}}>\r\n                        <h4>\r\n                            {t(\"ContractDate dagi ContractNo sonli shartnomaga FacturaDate dagi FacturaNo sonli\", {\r\n                                FacturaDate: moment(factura?.FacturaDoc.FacturaDate).format('MMMM Do YYYY'),\r\n                                FacturaNo: factura?.FacturaDoc.FacturaNo,\r\n                                ContractDate: moment(factura?.ContractDoc.ContractDate).format('MMMM Do YYYY'),\r\n                                ContractNo: factura?.ContractDoc.ContractNo\r\n                                })}\r\n                            </h4>\r\n                            <h2 style={{textTransform: \"uppercase\", fontWeight: \"bold\"}}>{t(\"Faktura\")}</h2>\r\n                    </div>\r\n                    <div>\r\n                        <QRCode\r\n                            value={JSON.stringify({ ID: factura?.FacturaId, Doc: \"Faktura\"})}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <div>\r\n                        <table cellPadding={10}>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Yetkazib beruvchi:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Seller.Name}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Manzil:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Seller.Address}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>STIR:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.SellerTin}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>QQS royhatdan o'tish kodi:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Seller.VatRegCode}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Bank hisobvarg'i:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Seller.Account}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>MFO:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Seller.BankId}\r\n                                    </td>\r\n                                </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div>\r\n                        <table cellPadding={10}>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Oluvchi beruvchi:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Buyer.Name}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Manzil:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Buyer.Address}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>STIR:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.BuyerTin}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>QQS royhatdan o'tish kodi:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Buyer.VatRegCode}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>Bank hisobvarg'i:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Buyer.Account}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>\r\n                                        <strong>MFO:</strong>\r\n                                    </td>\r\n                                    <td>\r\n                                        {factura?.Buyer.BankId}\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ marginTop: 40 }}>\r\n                    <table cellPadding={10} className=\"product-table\">\r\n                        <thead style={{fontSize: 10, textAlign: 'center'}} className=\"product-table-head\">\r\n                            <tr>\r\n                                <th>\r\n                                    \r\n                                </th>\r\n                                <th>\r\n                                    Tovar/xizmat nomi\r\n                                </th>\r\n                                <th>\r\n                                    Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi\r\n                                </th>\r\n                                <th>\r\n                                    O'lchov birligi\r\n                                </th>\r\n                                <th>\r\n                                    Miqdori\r\n                                </th>\r\n                                <th>\r\n                                    Narxi\r\n                                </th>\r\n                                {\r\n                                    factura?.ProductList.HasExcise ?\r\n                                        <th>\r\n                                                Aksiz soliq (%)\r\n                                        </th>\r\n                                :null\r\n                                }\r\n                                {factura?.ProductList.HasExcise ? <th>\r\n                                    Aksiz soliq, miqdori\r\n                                </th>: null}\r\n                                <th>\r\n                                    Yetkazib berish narxi\r\n                                </th>\r\n                                {factura?.ProductList.HasVat? <th>\r\n                                    QQS (%)\r\n                                </th> : null}\r\n                                {factura?.ProductList.HasVat ? <th>\r\n                                    QQS, miqdori\r\n                                </th>:null}\r\n                                <th>\r\n                                    Umumiy summa\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n\r\n                        <tbody className=\"product-list-body\">\r\n                            {\r\n                                factura?.ProductList.Products.map(p=><tr>\r\n                                    <td align=\"center\">{p.OrdNo}</td>\r\n                                    <td>{p.Name}</td>\r\n                                    <td>{p.CatalogCode} - {p.CatalogName}</td>\r\n                                    <td>{measures[p.MeasureId]?.label}</td>\r\n                                    <td align=\"right\">{p.Count}</td>\r\n                                    <td align=\"right\">{p.BaseSumma}</td>\r\n                                    <td align=\"right\">{p.ExciseRate}</td>\r\n                                    <td align=\"right\">{p.ExciseSum}</td>\r\n                                    <td align=\"right\">{p.DeliverySum}</td>\r\n                                    <td align=\"right\">{p.VatRate}</td>\r\n                                    <td align=\"right\">{p.VatSum}</td>\r\n                                    <td align=\"right\">{p.DeliverySumWithVat}</td>\r\n                                </tr>)\r\n                            }\r\n                        </tbody>\r\n\r\n                    </table>\r\n                </div>\r\n                <div style={{marginTop: 30, display: 'flex', justifyContent: 'space-between'}}>\r\n                    <div>\r\n                        <table>\r\n                            <tr>\r\n                                <td><strong>Raxbar: </strong></td>\r\n                                <td>{factura?.Seller.Director}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><strong>Bosh buxgalter: </strong></td>\r\n                                <td>{factura?.Seller.Accountant}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                        <div>\r\n                            <table>\r\n                                <tr>\r\n                                    <td><strong>Raxbar: </strong></td>\r\n                                    <td>{factura?.Buyer.Director}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><strong>Bosh buxgalter: </strong></td>\r\n                                    <td>{factura?.Buyer.Accountant}</td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n                </div>\r\n               \r\n            </div>\r\n\r\n        </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(FacturaView)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom'\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport HomePage from '../common/home/home.component';\r\nimport FacturaCreateForm from './create/create.component'\r\nimport FacturaView from \"./view/view.component\";\r\n\r\nconst FacturaIndex = ({ match, user }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage addParams={[\r\n                {\r\n                    name: \"tin\",\r\n                    value: user.tin ?? user.username\r\n                }\r\n            ]} />} />\r\n            <Route exact path={`${match.path}/create`} component={FacturaCreateForm} />\r\n            <Route exact path={`${match.path}/view/:facturaId`} component={FacturaView} />\r\n            <Route exact path={`${match.path}/edit/:facturaId`} component={FacturaCreateForm} />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(FacturaIndex)\r\n","//ENVIRONMENT VARIABLES\r\nexport const API_HOST = process.env.NODE_ENV === \"development\" ?\r\n    \"http://api.onlinefactura.uz/uz\" :\r\n    \"http://api.onlinefactura.uz/uz\";\r\nexport const SELF_HOST = process.env.NODE_ENV === \"development\" ?\r\n    \"http://127.0.0.1:3000\" :\r\n    \"https://new.onlinefactura.uz\";\r\n\r\nexport const PROVIDER = {\r\n    providerTin: \"306717486\",\r\n    providerName: \" Lanbir servis\",\r\n    systemName: \"OnlineFactura.Uz\",\r\n    enabled: true\r\n}\r\n\r\nexport const IMPORTANCE = {\r\n        1: {color: \"#00FF00\", text: \"Uncha muxim emas\"},\r\n        2: {color: \"#7FFF00\", text: \"Muxim emas\"},\r\n        3: {color: \"#FFAF00\", text: \"Muxim\"},\r\n        4: {color: \"#FF6900\", text: \"Muximroq\"},\r\n        5: {color: \"#FF0000\", text: \"O'ta muxim\"}\r\n    }","import { Modal, Spin, Checkbox, message } from 'antd'\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { logOut } from '../../redux/user/user.action';\r\nimport { selectCurrentUser, selectLoadedKey } from '../../redux/user/user.selector';\r\nimport { EIMZOClient } from '../../utils/e-imzo';\r\n\r\nconst AfertaPopup = ({ user, signOut, loadedKey }) => {\r\n\r\n    const { t } = useTranslation() \r\n\r\n    const [afertaText, setAfertaText] = useState(\"\");\r\n    const [isOpen, setIsOpen] = useState(!user?.is_aferta);\r\n    const [okDisable, setOkDisable] = useState(true)\r\n\r\n    useEffect(()=>{\r\n        axios({\r\n            url: \"info/get-aferta\",\r\n            method: \"get\"\r\n        }).then(res=>{\r\n            if(res.data.success){\r\n                setAfertaText(res.data.data)\r\n            }\r\n        }).catch(ex=>{\r\n            console.log(ex);\r\n        })\r\n    }, [])\r\n\r\n    const handleOk = () => {\r\n        setIsOpen(false)\r\n        EIMZOClient.createPkcs7(\r\n            loadedKey.id, \r\n            afertaText, \r\n            null, \r\n            pkcs7=>{\r\n\r\n                console.log(JSON.stringify({\r\n                    tin: user.tin ?? user.username,\r\n                    pkcs7: pkcs7\r\n                }))\r\n\r\n                axios({\r\n                    url: 'user/set-aferta',\r\n                    method: \"post\",\r\n                    data: {\r\n                        tin: user.tin ?? user.username,\r\n                        pkcs7: pkcs7\r\n                    }\r\n                }).then(res=>{\r\n                    console.log(res)\r\n                }).catch(ex=>{\r\n                    console.log(ex);\r\n                })\r\n            },\r\n            (e, r)=>{\r\n                message(r);\r\n            },\r\n            (e, r) => {\r\n                message(r);\r\n            },\r\n        )\r\n    }\r\n    const handleCancel = ()=>{\r\n        setIsOpen(false);\r\n        signOut()\r\n    }\r\n\r\n    const handleAgree = e=>{\r\n        //console.log(data)\r\n        if(e.target.checked){\r\n            setOkDisable(false)\r\n        }else{\r\n            setOkDisable(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                keyboard={false}\r\n                closable={false}\r\n                onCancel={handleCancel}\r\n                onOk={handleOk}\r\n                visible={isOpen}\r\n                okButtonProps={{ disabled: okDisable }}\r\n                title={t(\"Afertaga rozimisiz?\")}\r\n                maskClosable={false}\r\n            >\r\n                <div style={{ top: 0, width: '100%', bottom: 20, height: '60vh', overflowY: 'scroll'}}>\r\n                    {\r\n                        afertaText ?? <Spin />\r\n                    }\r\n                </div>\r\n                \r\n                <br />\r\n\r\n                <Checkbox onChange={handleAgree} /><span style={{marginLeft: 20}}>{t(\"Roziman.\")}</span>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser,\r\n    loadedKey: selectLoadedKey\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    signOut: ()=>dispatch(logOut())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AfertaPopup)\r\n","import { Modal, Spin, Checkbox, message } from 'antd'\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { PROVIDER } from '../../env';\r\nimport { logOut } from '../../redux/user/user.action';\r\nimport { selectCurrentUser, selectLoadedKey } from '../../redux/user/user.selector';\r\nimport { EIMZOClient } from '../../utils/e-imzo';\r\n\r\nconst BindRoumingPopup = ({ user, signOut, loadedKey }) => {\r\n\r\n    const { t } = useTranslation()\r\n\r\n    const [isOpen, setIsOpen] = useState(!user?.is_online);\r\n    const [okDisable, setOkDisable] = useState(true)\r\n    const [afertaText, setAfertaText] = useState();\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            url: `info/get-bind-provider?tin=${user.tin ?? user.username}`,\r\n            method: \"get\"\r\n        }).then(res => {\r\n            \r\n            setAfertaText(JSON.stringify({\r\n                providers: [...res.data.providers, PROVIDER] \r\n            }))\r\n            \r\n        }).catch(ex => {\r\n            console.log(ex);\r\n        })\r\n    }, [])\r\n\r\n    const handleOk = () => {\r\n        setIsOpen(false)\r\n        EIMZOClient.createPkcs7(\r\n            loadedKey.id,\r\n            afertaText,\r\n            null,\r\n            pkcs7 => {\r\n\r\n                axios({\r\n                    url: 'user/bind-provider',\r\n                    method: \"post\",\r\n                    data: {\r\n                        tin: user.tin ?? user.username,\r\n                        sign: pkcs7\r\n                    }\r\n                }).then(res => {\r\n                    console.log(res)\r\n                }).catch(ex => {\r\n                    console.log(ex);\r\n                })\r\n            },\r\n            (e, r) => {\r\n                message(r);\r\n            },\r\n            (e, r) => {\r\n                message(r);\r\n            },\r\n        )\r\n    }\r\n    const handleCancel = () => {\r\n        setIsOpen(false);\r\n        //signOut()\r\n    }\r\n\r\n    const handleAgree = e => {\r\n        //console.log(data)\r\n        if (e.target.checked) {\r\n            setOkDisable(false)\r\n        } else {\r\n            setOkDisable(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                keyboard={false}\r\n                closable={false}\r\n                onCancel={handleCancel}\r\n                onOk={handleOk}\r\n                visible={isOpen}\r\n                okButtonProps={{ disabled: okDisable }}\r\n                zIndex={999}\r\n                title={t(\"Roumingga operatori sifatida qo'shing?\")}\r\n                maskClosable={false}\r\n            >\r\n                <div style={{ top: 0, width: '100%', bottom: 20, height: '40vh'}}>\r\n                    {t(\"Bini rouming operatoringiz sifatida ornating.\")}\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <Checkbox onChange={handleAgree} /><span style={{ marginLeft: 20 }}>{t(\"Roziman.\")}</span>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser,\r\n    loadedKey: selectLoadedKey\r\n})\r\nconst mapDispatchToProps = dispatch => ({\r\n    signOut: () => dispatch(logOut())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BindRoumingPopup)\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Badge, Modal, Tag, Statistic, Spin, Checkbox } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport './right-sidebar.style.scss';\r\nimport { IMPORTANCE } from '../../env';\r\nimport { logOut, setCabinetData } from '../../redux/user/user.action';\r\nimport { connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectLoadedKey } from '../../redux/user/user.selector';\r\nimport AfertaPopup from '../aferta-popup/aferta-popup.component';\r\nimport BindroumingPopup from '../bindrouming-popup/bindrouming-popup.component';\r\n\r\nconst { Countdown } = Statistic;\r\n\r\nconst RightSidebar = ({ location, admin, setData, loadedKey, uOut }) => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n   \r\n\r\n\r\n    const [active, setActive] = useState({})\r\n    const [notifications, setNotifications] = useState([])\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [badgeCount, setBedgeCount]=useState({\r\n        factura_awaiting: 0,\r\n        contract_awaiting: 0,\r\n        act_awaiting:0,\r\n        emp_awating: 0,\r\n        tty_awaiting:0,\r\n    })\r\n    useEffect(()=>{\r\n        setActive({\r\n            cabinet: location.pathname===\"/cabinet\",\r\n            factura: location.pathname.includes(\"/factura\"),\r\n            contract: location.pathname.includes(\"/contract\"),\r\n            empowerment: location.pathname.includes(\"/empowerment\"),\r\n            act: location.pathname.includes(\"/act\"),\r\n            tty: location.pathname.includes(\"/tty\"),\r\n            freeDoc: location.pathname.includes(\"/free-template\"),\r\n            notification: location.pathname.includes(\"/notification\")\r\n        })\r\n    }, [location.pathname])\r\n\r\n    const closeModel = ()=>{\r\n        setShowModal(false);\r\n    }\r\n\r\n    useEffect(()=>{\r\n\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/v1/cabinet\"\r\n        }).then(res=>{\r\n            const { notifications } = res.data\r\n            setData(res.data)\r\n            setNotifications(notifications);\r\n            if(Array.isArray(notifications) && notifications.length){\r\n                setShowModal(true)\r\n            }\r\n            setBedgeCount(res.data)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"cabiner-right-sidebar-cmain-container\">\r\n            <AfertaPopup />\r\n            <BindroumingPopup />\r\n            <Modal \r\n            bodyStyle={{width: '70wv'}}\r\n            title=\"Notifications\"\r\n            visible={showModal}\r\n            onOk={closeModel}\r\n            onCancel={closeModel}\r\n            cancelButtonProps={{style: {display: \"none\"}}}\r\n            >\r\n                {\r\n                    notifications.map((n, index)=><div style={{marginBottom: 30}}>\r\n                        <h3>{index+1}. {n.title_uz}</h3>\r\n                        <div><Tag \r\n                        style={{marginRight: 10}}\r\n                            color={IMPORTANCE[n.importance].color}>\r\n                                {IMPORTANCE[n.importance].text} \r\n                        </Tag>\r\n                        {moment(n.updated_at).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                        </div>\r\n                        <div>{ n.body_uz }</div>\r\n                        <hr/>\r\n                    </div>)\r\n                }\r\n            </Modal>\r\n            \r\n\r\n            <div className=\"cabiner-right-sidebar-sub-container\">\r\n                <div className=\"cabinet-documents-action-containers-bloks\">\r\n                    <Link to=\"/cabinet\">\r\n                        <div className={`action-bloks ${active.cabinet ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"home\" /> {t(\"Bosh sahifa\")}\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/factura\">\r\n                            <div className={`action-bloks ${active.factura ? 'active' : ''}`}>\r\n                                <FontAwesomeIcon icon=\"file-invoice\" className=\"action-icon\" /> {t(\"Faktura\")}\r\n                                <Badge style={{marginLeft: 10}} count={badgeCount.factura_awaiting} />\r\n                            </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/contract\">\r\n                        <div className={`action-bloks ${active.contract ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"file-contract\" className=\"action-icon\"/> {t(\"Shartnoma\")}\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.contract_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/act\">\r\n                        <div className={`action-bloks ${active.act ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon={[\"far\", \"file-alt\"]} className=\"action-icon\"/> {t(\"Akt\")}\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.act_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/empowerment\">\r\n                        <div className={`action-bloks ${active.empowerment ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon=\"file-signature\" className=\"action-icon\"/>{t(\"Ishonchnoma\")}\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.emp_awating} />\r\n                        </div>\r\n                    </Link>\r\n                    <Link to=\"/cabinet/tty\">\r\n                        <div className={`action-bloks ${active.tty ? 'active' : ''}`}>\r\n                            <FontAwesomeIcon icon={[\"far\", \"file-archive\"]} className=\"action-icon\"/> {t(\"TTY\")}\r\n                            <Badge style={{marginLeft: 10}} count={badgeCount.tty_awaiting} />\r\n                        </div>\r\n                    </Link>\r\n                    {\r\n                        admin \r\n                        ? <Link to=\"/admin/notification\">\r\n                            <div className={`action-bloks ${active.notification ? 'active' : ''}`}>\r\n                                <FontAwesomeIcon icon={[\"far\", \"bell\"]}  className=\"action-icon\"/> Notification\r\n                                <Badge style={{marginLeft: 10}} count={3} />\r\n                            </div>\r\n                        </Link>\r\n                        : null\r\n                    }\r\n\r\n                    {\r\n                        loadedKey ?\r\n                            <Countdown\r\n                                valueStyle={{fontSize: 15}}\r\n                                value={loadedKey.time + 1000 * 60 * 30}\r\n                                title={t(\"Sessiya tugaydi\")}\r\n                                onFinish={uOut} />\r\n                            : null\r\n                    }\r\n\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    loadedKey: selectLoadedKey\r\n})\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    setData: data => dispatch(setCabinetData(data)),\r\n    uOut: () => dispatch(logOut())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(RightSidebar));\r\n","import React from 'react';\r\nimport './admin-card.style.scss';\r\nimport { Badge, Card } from 'antd';\r\nimport {PlusCircleTwoTone} from '@ant-design/icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AdminCard = ({ data })=>{\r\n    const {title, icon, color, count} = data\r\n    return(\r\n    <Card className=\"admin-card-container\" >\r\n        <div className={`admin-card-icon-field admin-card-${color}`} ><FontAwesomeIcon icon={icon} className=\"admin-card-icon\"/></div>\r\n        <div className=\"admin-card-title\">{title}</div>\r\n        <div className=\"admin-card-content\">{count}</div>\r\n        \r\n    </Card>\r\n)}\r\n\r\nexport default AdminCard;","import { Col, Row } from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport AdminCard from '../../components/admin-card/admin-card.component';\r\nimport DynaGrid from '../../components/dyna-grid/dyna-grid.component';\r\nimport { selectCabinetData } from '../../redux/user/user.selector';\r\nimport './home.component.scss';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst CabinetHome = ({ cabinetData }) => {\r\n\r\n    const {t} = useTranslation()\r\n\r\n    const [activeTab, setActiveTab] = useState(0)\r\n    const { income, outcome, rejected, saved } = cabinetData ?? {};\r\n    const TabList= {\r\n        0: t(\"Kiruvchi hujjatlar\"),\r\n        1: t(\"Chiquvchi hujjatlar\"),\r\n        2: t(\"Rad etilgan hujjatlar\"),\r\n        3: t(\"Saqlangan hujjatlar\")\r\n    }\r\n\r\n    const list_of_docs = [\r\n        {\r\n            title: t(\"Kiruvchi\"),\r\n            count: income,\r\n            icon: \"cloud-download-alt\",\r\n            color: \"purple\",\r\n            footer: \"Faktura yaratish\",\r\n            create_url: \"/cabinet/documents/waiting\"\r\n        },\r\n        {\r\n            title: t(\"Chiquvchi\"),\r\n            count: outcome,\r\n            icon: \"cloud-upload-alt\",\r\n            color: \"green\",\r\n            footer: \"Shartnoma yaratish\",\r\n            create_url: \"/cabinet/documents/signed\"\r\n        },\r\n        {\r\n            title: t(\"Rad etilgan\"),\r\n            count: rejected,\r\n            icon: \"ban\",\r\n            color: \"pink\",\r\n            footer: \"Akt yaratish\",\r\n            create_url: \"/cabinet/documents/rejected\"\r\n        },\r\n        {\r\n            title: t(\"Saqlangan\"),\r\n            count: saved,\r\n            icon: [\"far\", \"bookmark\"],\r\n            color: \"orange\",\r\n            footer: \"Ishonchnoma yaratish\",\r\n            create_url: \"/cabinet/documents/saved\"\r\n        },\r\n    \r\n    ]\r\n\r\n    const dyna_config = {\r\n        dataSourcePath: `/api/v1/cabinet/${activeTab}?hi`,\r\n        addActionPath: 'actions/add',\r\n        viewActionPath: '/cabinet/{docType}/view',\r\n        replaceInViewPath: \"docType\",\r\n        deleteConfirmText: \"Shu faktura ochirilsinmi?\",\r\n        actions: {\r\n            edit: activeTab===3 ? true : false,\r\n            delete: activeTab===3 ? true : false,\r\n            view: true\r\n        },\r\n        allColumns: [\r\n            {\r\n                title: t(\"Hujjat \"),\r\n                dataIndex: 'docNo',\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: t(\"Hujjat turi\"),\r\n                dataIndex: \"docType\",\r\n                isFilterable: true,\r\n                filters: ['factura', 'act', 'contract', 'empowerment', \"tty\"]\r\n            },\r\n            {\r\n                title: t(\"Kontrakt \"),\r\n                dataIndex: 'contractNo',\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: t(\"Kontragent\"),\r\n                dataIndex: 'sellerName',\r\n                isSearchable: true,\r\n                width: 150\r\n            },\r\n            {\r\n                title: t(\"Kontragent\")+\" \"+t(\"STIR\"),\r\n                dataIndex: \"sellerTin\",\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: \"Oluvchi\",\r\n                dataIndex: 'buyerName',\r\n                isSearchable: true,\r\n                width: 150\r\n            },\r\n            {\r\n                title: \"Oluvchi STIR\",\r\n                dataIndex: \"buyerTin\",\r\n                isSearchable: true,\r\n            },\r\n            {\r\n                title: t(\"Holati\"),\r\n                dataIndex: \"status\",\r\n                isFilterable: true,\r\n                width: 70,\r\n                filters: [\r\n                    {value: 1, text: \"1-Saqlangan\"}, \r\n                    {value: 2, text: \"2-Imzo kutilmoqda\"}, \r\n                    {value: 3, text: \"3-Jo'natilgan\"}, \r\n                    {value: 4, text: \"4-Xatolik yuzbergan\"},\r\n                    {value: 5, text: \"5-Qaytarib yuborilgan\"}, \r\n                    {value: 6, text: \"6-Qabul qilingan\"}, \r\n                    {value: 7, text: \"7-Muaffaqiyatli\"}]\r\n            },\r\n            {\r\n                title: t('Yaratilgan sana'),\r\n                dataIndex: \"created_at\",\r\n                dataType: 'date',\r\n            },\r\n        ]\r\n    }\r\n\r\n    return (\r\n        <div className=\"cabinet-home-main-container\">\r\n            <div className=\"cabinet-home-sub-container\">\r\n                <Row gutter={[16, 16]}>\r\n                    {\r\n                        list_of_docs.map((data, index)=><Col onClick={()=>setActiveTab(index)} md={6}>\r\n                            <AdminCard data={data} />\r\n                        </Col>)\r\n                    }\r\n                    \r\n                </Row>\r\n                <DynaGrid\r\n                    title={TabList[activeTab]}\r\n                    config={dyna_config}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    cabinetData: selectCabinetData\r\n})\r\n\r\nexport default connect(mapStateToProps)(CabinetHome)\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Select, Upload, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_EMPOWERMENT_GRID_ROW } from '../../../utils/main';\r\n\r\nconst EmpowermentForm = ({ token, match })=> {\r\n\r\n  const [form] = Form.useForm();\r\n  const { empowermentId } = match.params;\r\n  const [initialData, setInitialData] = useState()\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n\r\n  useEffect(()=>{\r\n    if(empowermentId){\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/empowerments/${empowermentId}`,\r\n        method: \"GET\",\r\n      }).then(res=>{\r\n        let data = res.data;\r\n        data.contractDate=moment(data.contractDate);\r\n        data.created_at=moment(data.created_at);\r\n        data.empowermentDateOfExpire=moment(data.empowermentDateOfExpire);\r\n        data.empowermentDateOfIssue=moment(data.empowermentDateOfIssue);\r\n        data.agentPassportDateOfIssue=moment(data.agentPassportDateOfIssue);\r\n        data.updated_at=moment(data.updated_at);\r\n  \r\n        setInitialData(data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.products, \"empowerment\"));\r\n      }).catch(err=>{\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n  \r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n    \r\n  };\r\n\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_EMPOWERMENT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 2 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 3 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //2 measure\r\n      { value: '' },                                          //3 amount\r\n    ], \r\n    [\r\n      { readOnly: true, value: 4 },                           //0 ordNo\r\n      { value: \"\" },                                          //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor },        //4 measure\r\n      { value: '' },                                          //5 amount\r\n    ], \r\n  ])\r\n\r\n  const fetchAgent = e=>{\r\n    let val = e.target.value;\r\n    if(!isNaN(val)){\r\n\r\n      if(val > 100000000 && val<999999999){\r\n        axios({\r\n          method: \"GET\",\r\n          url: \"info/contragent-by-tin?tin=\"+val\r\n        })\r\n        .then(res=>{\r\n          const { \r\n            name, \r\n            fullName, \r\n            passIssueDate, \r\n            passOrg,\r\n            passNumber,\r\n            passSeries\r\n          } = res.data;\r\n          console.log(moment('2020-00-00 00:00:00')._isValid)\r\n          form.setFieldsValue({\r\n            agentFio: fullName ?? name,\r\n            agentPassportDateOfIssue: moment(passIssueDate)._isValid ? moment(passIssueDate) : null,\r\n            agentPassportIssuedBy: passOrg,\r\n            agentPassportNumber: passSeries + passNumber\r\n          })\r\n        })\r\n      }\r\n\r\n    }else{\r\n      message.warning(\"STIR notog'ri kiritildi!\");\r\n    }\r\n  }\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n    console.log(rowId)\r\n\r\n    console.log(grid)\r\n    grid.splice(rowId, 1)\r\n    console.log(grid)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };        \r\n\r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n      { readOnly: true, value:    grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n  \r\n  //#region form methods\r\n\r\n  const handleSubmit = (values)=>{\r\n    setIsLoading(true)\r\n    console.log(values)\r\n    if(empowermentId){\r\n      axios({\r\n        url:`/api/v1/empowerments/${empowermentId}`,\r\n        method: 'PATCH',\r\n        data: {emp: values, products: grid}\r\n      }).then(res=>{\r\n        console.log(res)\r\n        setIsLoading(false);\r\n        if(res.data.ok){\r\n          message.success(\"Ishonchnoma ozgartirildi!\")\r\n        }\r\n        else{\r\n          message.error(\"Ishonchnoma o'zgartirishda xatolik!\");\r\n        }\r\n      }).catch(err=>{\r\n        setIsLoading(false);\r\n        message.error(\"Ishonchnoma o'zgartirishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else{\r\n      axios({\r\n        url:'/api/v1/empowerments',\r\n        method: 'post',\r\n        data: {emp: values, products: grid}\r\n      }).then(res=>{\r\n        setIsLoading(false)\r\n        if(res.data.ok){\r\n          message.success(\"Ishonchnma yaratildi!\");\r\n        }else{\r\n          message.error(\"Ishonchnoma yaratishda xatolik\");\r\n        }\r\n\r\n        console.log(res)\r\n      }).catch(err=>{\r\n        setIsLoading(false);\r\n        message.error(\"Ishonchnoma yaratishda xatolik\");\r\n        console.log(err)\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n  \r\n  return (\r\n    <div style={{padding: 15}}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish = {handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n      <h3>Ishonchnoma</h3>\r\n      \r\n      <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-facutura-no\"\r\n                name=\"empowermentNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Inshonchnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Inshonchnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            \r\n            <Col md={11}>\r\n              <div style={{display: 'flex', justifyContent: \"space-between\"}}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date\"\r\n                name=\"empowermentDateOfIssue\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Berilgan sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Berilgan sanasi</span>\r\n              </Form.Item>\r\n          \r\n            <Form.Item>\r\n              <Form.Item \r\n                key=\"dyna-form-item-inn-date-expire\"\r\n                name=\"empowermentDateOfExpire\"\r\n                rules={[{required: true}]}>\r\n                  <DatePicker                \r\n                    size=\"large\"\r\n                    placeholder=\"Amal qilish sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Amal qilish sanasi</span>\r\n              </Form.Item>\r\n              </div>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-n0\"\r\n                name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n            <Form.Item>\r\n              <Form.Item \r\n                rules={[{required: true}]}\r\n                key=\"dyna-form-item-contract-date\"\r\n                name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n              </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n      </div>\r\n\r\n      <div className=\"factura-data-sheet-container\">\r\n        \r\n        <Row justify=\"space-between\">\r\n        <Col md={11}>  \r\n          <SellerForm docType=\"empowerment\"/>\r\n        </Col>\r\n\r\n        <Col md={11}>\r\n          <BuyerForm form={ form } docType=\"empowerment\"/>\r\n        </Col>\r\n      </Row>\r\n      </div>\r\n      <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n          \r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n          <Col md={7}>\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"seler-account-tyin-inn\"\r\n              name=\"agentTin\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\"\r\n                  onChange={fetchAgent}\r\n\r\n                  />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={7} >\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"agentFio-no\"\r\n              name=\"agentFio\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={7}>\r\n              <Form.Item>\r\n                <Form.Item \r\n              key=\"seler-account-empowerment-dateof-issue-agentJobTittle\"\r\n              name=\"agentJobTittle\">\r\n                <Input\r\n                  size=\"large\"\r\n                  placeholder=\"\" />\r\n              </Form.Item>\r\n                <span className=\"custom-input-label-1\"></span>\r\n              </Form.Item>\r\n            </Col>\r\n            \r\n            <Col md={7}>\r\n          \r\n                <Form.Item>\r\n                  <Form.Item \r\n                key=\"seler-account-agent-fioe\"\r\n                name=\"agentPassportNumber\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"   \" />\r\n                </Form.Item>\r\n                  <span className=\"custom-input-label-1\">   </span>\r\n                </Form.Item>\r\n            \r\n            </Col>\r\n\r\n  <Col md={7} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"agentPassportIssuedBy\">\r\n      <Input\r\n        size=\"large\"\r\n        placeholder=\"  \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\">  </span>\r\n    </Form.Item>\r\n  </Col>\r\n  <Col md={7} >\r\n    <Form.Item>\r\n      <Form.Item \r\n    key=\"selenote-field\"\r\n    name=\"agentPassportDateOfIssue\">\r\n      <DatePicker\r\n        size=\"large\"\r\n        placeholder=\"  \" />\r\n    </Form.Item>\r\n      <span className=\"custom-input-label-1\">  </span>\r\n    </Form.Item>\r\n  </Col>\r\n  \r\n</Row>\r\n</div>\r\n          <div className=\"factura-data-sheet-container\">\r\n            <Row justify=\"space-around\">\r\n              <Col >\r\n                <Button \r\n                  loading={isLoading}\r\n                  primary\r\n                  htmlType=\"submit\"\r\n                  className=\"factra-action-btns save-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\"  />}>\r\n                     \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  className=\"factra-action-btns sing-btn\" \r\n                  size=\"large\"\r\n                  icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                    \r\n                  </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button \r\n                  icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />} \r\n                  danger \r\n                  className=\"factra-action-btns\" \r\n                  size=\"large\">\r\n                     \r\n                  </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <Form.Item\r\n            name=\"empowermentId\"\r\n            key=\"empowermemt-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"empowermentProductId\"\r\n            key=\"empowermemt-product-id\"\r\n          >\r\n            <Input type=\"hidden\" />\r\n          </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken\r\n})\r\n\r\nexport default connect(mapStateToProps)(EmpowermentForm);","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component';\r\nimport EmpowermentForm from './create/create.component';\r\n\r\nconst EmpowermentIndex = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"empowerment\" />} />\r\n            <Route exact path={`${match.path}/create`} component={EmpowermentForm} />\r\n            <Route exact path={`${match.path}/edit/:empowermentId`} component={EmpowermentForm} />\r\n            <Route exact path={`${match.path}/view/:empId`} component={EmpowermentForm} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmpowermentIndex\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst ActView = ({ match, user }) => {\r\n\r\n    const {actId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/acts/get-pdf/${actId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ActView)\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport HomePage from '../common/home/home.component';\r\nimport ActForm from '../act/create/create.component';\r\nimport ActView from '../act/view/view.component';\r\n\r\nconst ActIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"act\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ ActForm } />\r\n            <Route exact path={`${match.path}/edit/:actId`} component={ ActForm } />\r\n            <Route exact path={`${match.path}/view/:actId`} component={ ActView } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActIndexRouter\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport Datasheet from 'react-datasheet';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\nimport { Button, Input, Form, Row, Col, DatePicker, Upload, Divider, message } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import './create.style.scss';\r\nimport axios from 'axios';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport {\r\n  FullscreenOutlined,\r\n  FullscreenExitOutlined,\r\n  PlusOutlined\r\n} from '@ant-design/icons';\r\nimport { convertProductsToGrid, FIRST_CONTRACT_GRID_ROW } from '../../../utils/main';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nconst ConractCreateForm = ({ token, match }) => {\r\n\r\n  const [form] = Form.useForm();\r\n  const { contractId } = match.params;\r\n  const [initialData, setInitialData] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (contractId) {\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/contracts/${contractId}`,\r\n        method: \"GET\",\r\n      }).then(res => {\r\n        let data = res.data;\r\n        data.contractDate = moment(data.contractDate);\r\n        data.created_at = moment(data.created_at);\r\n        data.contractExpireDate = moment(data.contractExpireDate);\r\n        data.updated_at = moment(data.updated_at);\r\n        data.parts = data.contract_parts\r\n        data.contract_partners = data.contract_partners.map(partner=>{\r\n          const { \r\n            account, \r\n            address, \r\n            branchCode, \r\n            branchName, \r\n            director, \r\n            directorTin, \r\n            fizFio, \r\n            fizTin, \r\n            mobilePhone,\r\n            name, \r\n            oked, \r\n            tin,\r\n            workPhone,\r\n            physicalTin,\r\n            physicalName\r\n          } = partner;\r\n          return {\r\n            buyerAccount: account, \r\n            buyerAddress: address, \r\n            buyerBranch: branchCode, \r\n            buyerBranchName: branchName, \r\n            buyerDirector: director, \r\n            buyerDirectorTin: directorTin, \r\n            buyerPhysicalFio: fizFio, \r\n            buyerPhysicalTin: fizTin, \r\n            buyerMobilePhone: mobilePhone,\r\n            buyerName: name, \r\n            oked, \r\n            buyerTin: tin,\r\n          }\r\n        })\r\n        console.log(data);\r\n\r\n        setInitialData(data);\r\n        setGrid(convertProductsToGrid(res.data.contract_products, \"contract\"));\r\n        form.resetFields();\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n\r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n\r\n  };\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_CONTRACT_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 2 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 3 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n    [\r\n      { readOnly: true, value: 4 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ],\r\n  ])\r\n\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId) => {\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n      //this sets changed values\r\n      grid[row][col] = { ...grid[row][col], value };\r\n\r\n\r\n      //Lets calculate\r\n      grid[row][8].value = grid[row][5].value && grid[row][6].value\r\n        ? parseFloat(grid[row][5].value) * parseFloat(grid[row][6].value)\r\n        + parseFloat(grid[row][7].value ? grid[row][7].value : 0)\r\n        : 0\r\n\r\n\r\n\r\n    });\r\n    setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = () => {\r\n\r\n    const sampleRow = [\r\n      { readOnly: true, value: grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor: SelectEditor }, //2 catalogCode\r\n      { value: \"\" }, //3 shrix code\r\n      { value: \"\", dataEditor: SelectMeasureEditor }, //4 measure\r\n      { value: '' }, //5 amount\r\n      { value: \"\", }, //6 price\r\n      { value: '' }, //7 delivery cost\r\n      { value: '', readOnly: true, }, //8 total\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n    setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n  //#endregion\r\n\r\n  //#region form methods\r\n\r\n  const handleSubmit = (values) => {\r\n    console.log(values)\r\n    setIsLoading(true);\r\n    let parts = values.parts.map((part, index) => ({ ...part, ordNo: index + 1 }));\r\n    let partners = values.contract_partners;\r\n    delete values.parts;\r\n    delete values.contract_partners;\r\n    if (contractId) {\r\n      axios({\r\n        url: `/api/v1/contracts/${contractId}`,\r\n        method: 'PATCH',\r\n        data: { contract: values, products: grid, parts: parts, contract_partners: partners }\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.data.ok) {\r\n          message.success(\"Shartnoma yangilandi!\");\r\n        } else {\r\n          message.error(\"Shartnoma yangilashda xatolik!\");\r\n        }\r\n        setIsLoading(false);\r\n      }).catch(err => {\r\n        message.error(\"Shartnoma yangilashda xatolik!\");\r\n        console.log(err)\r\n        setIsLoading(false);\r\n      })\r\n    } else {\r\n      axios({\r\n        url: '/api/v1/contracts',\r\n        method: 'post',\r\n        data: { contract: values, products: grid, parts: parts, contract_partners: partners  }\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.data.ok) {\r\n          message.success(\"Yangi shartnoma yaratildi!\")\r\n        } else {\r\n          message.error(\"Shartnoma yaratish xatolik!\");\r\n        }\r\n        setIsLoading(false);\r\n      }).catch(err => {\r\n        console.log(err)\r\n        message.error(\"Shartnoma yaratish xatolik!\");\r\n        setIsLoading(false);\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  const handleImportExecl = (value) => {\r\n\r\n    if (value.file.status == \"done\") {\r\n\r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index) => {\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <div style={{ padding: 15 }}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish={handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>Shartnoma</h3>\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"contractName\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Nomi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Nomi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <div style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"dyna-form-item-inn-date\"\r\n                    name=\"contractDate\"\r\n                    rules={[{ required: true }]}>\r\n                    <DatePicker\r\n                      size=\"large\"\r\n                      placeholder=\"Tuzilgan sanasi\" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Tuzilgan sanasi</span>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                  <Form.Item\r\n                    key=\"dyna-form-item-inn-date-expire\"\r\n                    name=\"contractExpireDate\"\r\n                    rules={[{ required: true }]}>\r\n                    <DatePicker\r\n                      size=\"large\"\r\n                      placeholder=\"Amal qilish sanasi\" />\r\n                  </Form.Item>\r\n                  <span className=\"custom-input-label-1\">Amal qilish sanasi</span>\r\n                </Form.Item>\r\n              </div>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0\"\r\n                  name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date\"\r\n                  name=\"contractPlace\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma joyi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma joyi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <SellerForm docType=\"contract\" form={form} />\r\n            </Col>\r\n\r\n          <Form.List name=\"contract_partners\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                  {fields.map(field => (\r\n                    <Col sm={11}>\r\n                      <BuyerForm\r\n                        key={field.key}\r\n                        fieldList={field}\r\n                        remove={remove}\r\n                        docType=\"contract\"\r\n                        form={form} />\r\n                    </Col>\r\n                  ))}\r\n                <Form.Item>\r\n                  <Button \r\n                    size=\"large\" \r\n                    className=\"factra-action-btns\" \r\n                    style={{width:'100%'}} \r\n                    type=\"dashed\" \r\n                    onClick={() => add()} \r\n                    icon={<PlusOutlined />}>\r\n                    Kontragent qo'shish\r\n              </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n\r\n          </Form.List>\r\n          </Row>\r\n        </div>\r\n        <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n          <div style={{ marginBottom: 10, display: 'flex', justifyContent: 'space-between' }}>\r\n            <div style={{ display: 'flex' }}>\r\n              <Upload\r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\"\r\n                onChange={handleImportExecl}>\r\n\r\n                <Button style={{ marginRight: 10 }}>Exceldan yuklash</Button>\r\n\r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_contract_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />}\r\n              onClick={() => toglleFullView(!fullView)}>\r\n              {fullView ? \"Kichraytirish\" : \"Kengaytirish\"}\r\n            </Button>\r\n          </div>\r\n\r\n          <div style={{ overflowX: 'auto' }} >\r\n            <div style={{ width: '100%' }}>\r\n              <Datasheet\r\n                data={grid}\r\n                valueRenderer={valueRenderer}\r\n                onContextMenu={onContextMenu}\r\n                onCellsChanged={onCellsChanged}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button\r\n            size=\"large\"\r\n            style={{ marginTop: 20, marginRight: 7, width: 220 }}\r\n            type=\"primary\"\r\n            icon={<FontAwesomeIcon\r\n              style={{ marginRight: 7 }}\r\n              icon={[\"far\", \"plus-square\"]} />}\r\n            onClick={handleAddRow}>Qo'shish</Button>\r\n\r\n          <Button\r\n            size=\"large\"\r\n            style={{ marginTop: 20, width: 220 }}\r\n            danger\r\n            type=\"primary\"\r\n            icon={<FontAwesomeIcon\r\n              style={{ marginRight: 7 }}\r\n              icon={[\"far\", \"trash-alt\"]} />}\r\n            onClick={() => { if (grid.length > 1) { handleRemoveRow(grid.length - 1) } }}>Oxirgi qatorni o'chirish</Button>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>Shartnoma shartlari</h3>\r\n          <Form.List name=\"parts\">\r\n            {(fields, { add, remove }) => (\r\n              <>\r\n                {fields.map(field => (\r\n                  <Row key={field.key} style={{ display: 'flex', marginBottom: 8 }} align=\"baseline\">\r\n                    <Col sm={24}>\r\n                      <Form.Item>\r\n                        <Form.Item\r\n                          {...field}\r\n                          name={[field.name, 'title']}\r\n                          fieldKey={[field.fieldKey, 'title']}\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <Input\r\n                            className=\"border-right-square\"\r\n                            size=\"large\"\r\n                            placeholder=\"Shart sarlavhasi\"\r\n                            addonAfter={\r\n                              <FontAwesomeIcon\r\n                                icon={[\"far\", \"times-circle\"]}\r\n                                onClick={() => remove(field.name)} />} />\r\n                        </Form.Item>\r\n                        <span className=\"custom-input-label-1\">Shart sarlavhasi</span>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col sm={24}>\r\n                      <Form.Item\r\n                        {...field}\r\n                        name={[field.name, 'body']}\r\n                        fieldKey={[field.fieldKey, 'body']}\r\n                        rules={[{ required: true }]}\r\n                      >\r\n                        <TextArea rows={4} placeholder=\"Sharnoma matni\" size=\"large\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n\r\n                    <Divider />\r\n                  </Row>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button size=\"large\" type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                    Maydon qo'shish\r\n              </Button>\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </div>\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-around\">\r\n            <Col >\r\n              <Button\r\n                primary\r\n                htmlType=\"submit\"\r\n                loading={isLoading}\r\n                className=\"factra-action-btns save-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                 \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                className=\"factra-action-btns sing-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />}\r\n                danger\r\n                className=\"factra-action-btns\"\r\n                size=\"large\">\r\n                 \r\n                  </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <Form.Item\r\n          name=\"contractId\"\r\n          key=\"contractId-1\"\r\n        >\r\n          <Input type=\"hidden\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken\r\n})\r\n\r\nexport default connect(mapStateToProps)(ConractCreateForm);","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst ContractView = ({ match, user }) => {\r\n\r\n    const {contractId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/contracts/get-pdf/${contractId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ContractView)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component';\r\nimport ConractCreateForm from '../contract/create/create.component';\r\nimport ContractView from '../contract/view/view.component';\r\n\r\nconst ContractIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={() => <HomePage doc=\"contract\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ConractCreateForm} />\r\n            <Route exact path={`${match.path}/edit/:contractId`} component={ConractCreateForm} />\r\n            <Route exact path={`${match.path}/view/:contractId`} component={ContractView} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContractIndexRouter\r\n","import React, { useState, useEffect } from 'react';\r\nimport 'react-datasheet/lib/react-datasheet.css';\r\nimport { Button, Input, Form, Row, Col, DatePicker, message, Radio, Upload } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport Datasheet from 'react-datasheet';\r\nimport BuyerForm from '../../common/buyer-form.component';\r\nimport SellerForm from '../../common/seller-form.component';\r\nimport { connect } from 'react-redux';\r\nimport { selectCurrentUser, selectToken } from '../../../redux/user/user.selector';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport moment from 'moment';\r\nimport PersonFetch from '../../common/person-fetch/person-fetch.component';\r\nimport { convertProductsToGrid, FIRST_TTY_GRID_ROW } from '../../../utils/main';\r\nimport { \r\n  FullscreenOutlined, \r\n  FullscreenExitOutlined, \r\n  } from '@ant-design/icons';\r\nimport SelectEditor from '../../../components/data-sheet-custom-selector/custom-selector.component';\r\nimport SelectMeasureEditor from '../../../components/data-sheet-custom-measure-selector/custom-selector.component';\r\n\r\n\r\nconst TTYForm = ({ match, token, user }) => {\r\n\r\n  const [form] = Form.useForm();\r\n  const { ttyId } = match.params;\r\n  const [initialData, setInitialData] = useState()\r\n  const [isLoading, setIsloading] = useState(false);\r\n\r\n\r\n  //#region DATA SHEET\r\n\r\n  const [fullView, toglleFullView] = useState(false)\r\n\r\n\r\n  const [grid, setGrid] = useState([\r\n    FIRST_TTY_GRID_ROW,\r\n    [\r\n      { readOnly: true, value: 1 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight                       //12 total\r\n    ], \r\n    [\r\n      { readOnly: true, value:2 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n    [\r\n      { readOnly: true, value:3 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n    [\r\n      { readOnly: true, value:4 }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ], \r\n  ])\r\n\r\n  const handleImportExecl =(value)=>{\r\n    console.log(\"me fired\")\r\n\r\n    if(value.file.status==\"done\"){\r\n      \r\n      const { response } = value.file\r\n\r\n      response.excel.forEach((element, index)=>{\r\n        element[0].value = index + 1;\r\n        element[0].readOnly = true;\r\n        element[2].dataEditor = SelectEditor;\r\n        element[4].dataEditor = SelectMeasureEditor;\r\n      })\r\n\r\n      setGrid([grid[0], ...response.excel])\r\n      console.log(response)\r\n    }\r\n  }\r\n\r\n  //#region data-sheet methods\r\n  const handleRemoveRow = (rowId)=>{\r\n\r\n    grid.splice(rowId, 1)\r\n    setGrid([...grid])\r\n  }\r\n\r\n  const valueRenderer = cell => cell.value;\r\n  const onCellsChanged = changes => {\r\n    changes.forEach(({ cell, row, col, value }, index) => {\r\n        //this sets changed values\r\n        grid[row][col] = { ...grid[row][col], value };\r\n        \r\n\r\n        //Lets calculate\r\n        let priceamount = parseFloat(grid[row][3].value??0) * parseFloat(grid[row][4].value??0);\r\n\r\n        grid[row][5] = {...grid[row][5], value: priceamount ?? 0}\r\n\r\n       \r\n     \r\n    });\r\n     setGrid([...grid]);\r\n  };\r\n\r\n  const handleAddRow = ()=>{\r\n    \r\n    const sampleRow = [\r\n      { readOnly: true, value:    grid.length }, //0 ordNo\r\n      { value: \"\" }, //1 product name\r\n      { value: \"\", dataEditor:  SelectMeasureEditor }, //2 measure\r\n      { value: '' }, //3 count\r\n      { value: \"\", }, //4 price\r\n      { value: \"\", readOnly: true}, //5 total\r\n      { value: '' }, //6 delivery cost\r\n      { value: \"\", }, //7 Docs\r\n      { value: \"\", }, //8 weight measure method\r\n      { value: \"\", }, //9 item class\r\n      { value: \"\", }, //10 brutto weight\r\n      { value: \"\", }, //11 netto weight\r\n    ]\r\n\r\n    let newgrid = [...grid, sampleRow];\r\n\r\n     setGrid(newgrid)\r\n  }\r\n\r\n  const onContextMenu = (e, cell, i, j) =>\r\n    cell.readOnly ? e.preventDefault() : null;\r\n//#endregion\r\n\r\n  //#endregion\r\n\r\n\r\n  useEffect(() => {\r\n    if (ttyId) {\r\n\r\n      //fetch fatura data\r\n      axios({\r\n        url: `/api/v1/ttys/${ttyId}`,\r\n        method: \"GET\",\r\n      }).then(res => {\r\n        let data = res.data;\r\n        data.contractDate = moment(data.contractDate);\r\n        data.created_at = moment(data.created_at);\r\n        data.wayBillDate = moment(data.wayBillDate);\r\n        data.tripTicketDate = moment(data.tripTicketDate);\r\n        data.updated_at = moment(data.updated_at);\r\n        console.log(data);\r\n\r\n        setInitialData(res.data);\r\n        form.resetFields();\r\n        setGrid(convertProductsToGrid(res.data.products, \"tty\"))\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n      //end fetch factura data;\r\n    }\r\n  }, [])\r\n\r\n\r\n  const validateMessages = {\r\n    required: 'Bu maydon majburiy!',\r\n    types: {\r\n      email: '${label} is not a valid email!',\r\n      number: '${label} is not a valid number!',\r\n    },\r\n    number: {\r\n      range: '${label} must be between ${min} and ${max}',\r\n    },\r\n\r\n  };\r\n\r\n  //#region form methods\r\n\r\n  const handleSubmit = (values) => {\r\n    setIsloading(true);\r\n    console.log(values)\r\n    if (ttyId) {\r\n      axios({\r\n        url: `/api/v1/ttys/${ttyId}`,\r\n        method: 'PATCH',\r\n        data: { tty: values, products: grid }\r\n      }).then(res => {\r\n        setIsloading(false);\r\n        message.success(\"TTY yangilandi!\");\r\n        console.log(res)\r\n      }).catch(err => {\r\n        setIsloading(false)\r\n        message.error(\"TTY yangilashda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    } else {\r\n      axios({\r\n        url: '/api/v1/ttys',\r\n        method: 'post',\r\n        data: { tty: values, products: grid }\r\n      }).then(res => {\r\n        setIsloading(false)\r\n        message.success(\"TTY yaratildi!\");\r\n        console.log(res)\r\n      }).catch(err => {\r\n        setIsloading(false)\r\n        message.error(\"TTY yaratishda xatolik!\");\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <div style={{ padding: 15 }}>\r\n      <Form\r\n        initialValues={initialData}\r\n        form={form}\r\n        name=\"factura\"\r\n        onFinish={handleSubmit}\r\n        scrollToFirstError\r\n        validateMessages={validateMessages}\r\n      >\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <h3>TTY yaratish</h3>\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-facutura-no\"\r\n                  name=\"wayBillNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"TTY raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">TTY raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"dyna-form-item-inn-date\"\r\n                  name=\"wayBillDate\"\r\n                  rules={[{ required: true }]}>\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"TTY sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">TTY sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={24}>\r\n              <Form.Item\r\n                name=\"deliveryType\"\r\n                key=\"deliveryType\"\r\n                initialValue={1}\r\n              >\r\n                <Radio.Group style={{ width: '100%' }} options={[\r\n                  { label: \"Omborxonadan omborxonaga\", value: 1 },\r\n                  { label: \"Sotuvchidan xaridorgacha\", value: 2 }\r\n                ]}\r\n                  optionType=\"button\"\r\n                />\r\n\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0\"\r\n                  name=\"contractNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date\"\r\n                  name=\"contractDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Shartnoma sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-n0-TripTicketNo\"\r\n                  name=\"tripTicketNo\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yo'l varaqasi raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  rules={[{ required: true }]}\r\n                  key=\"dyna-form-item-contract-date-TripTicketDate\"\r\n                  name=\"tripTicketDate\">\r\n                  <DatePicker\r\n                    size=\"large\"\r\n                    placeholder=\"Shartnoma sanasi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yo'l varaqasi sanasi</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"truckRegNo\"\r\n                  key=\"truckRegNo\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Avtomobil davlat raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Avtomobil davlat raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"truckModel\"\r\n                  key=\"truckModel\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Avtomobil turi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Avtomobil turi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={24}>\r\n              <Form.Item\r\n                name=\"trailerType\"\r\n                key=\"trailerType\"\r\n                initialValue={1}\r\n              >\r\n                <Radio.Group style={{ width: '100%' }} options={[\r\n                  { label: \"Tirkama\", value: 1 },\r\n                  { label: \"Yarim tirkama\", value: 2 }\r\n                ]}\r\n                  optionType=\"button\"\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"trailerRegNo\"\r\n                  key=\"TrailerRegNo\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Tirkama davlat raqami\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tirkama davlat raqami</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"trailerModel\"\r\n                  key=\"TrailerRegNoType\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Tirkama turi\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tirkama turi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"driverFio\"\r\n                  key=\"DriverFio\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Input size=\"large\" placeholder=\"Haydovchi FIO\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <SellerForm form={form} docType=\"act\" />\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <BuyerForm form={form} docType=\"act\" />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <PersonFetch\r\n                form={form}\r\n                pName=\"carrierName\"\r\n                pTin=\"carrierTin\"\r\n                nameLabel=\"Tashuvchi FIO\"\r\n                tinLabel=\"Tashunchi STIR\" />\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <PersonFetch\r\n                form={form}\r\n                pName=\"customerName\"\r\n                pTin=\"customerTin\"\r\n                nameLabel=\"Buyurtmachi FIO\"\r\n                tinLabel=\"Buyurtmachi STIR\" />\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfLoading\"\r\n                  key=\"PointOfLoading\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Yuklash manzili</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfUnloading\"\r\n                  key=\"pointOfUnloading\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tushirish mazili</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfRedirectName\"\r\n                  key=\"pointOfRedirectName\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Boshqa manzil nomi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"pointOfRedirectAddress\"\r\n                  key=\"pointOfRedirectAddress\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Boshqa manzil manzili</span>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-between\">\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"giverFio\"\r\n                  key=\"giverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Topshirdi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"takerFio\"\r\n                  key=\"takerFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Qabul qildi</span>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"giverDriverFio\"\r\n                  key=\"giverDriverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Topshiruvchi haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"takerDriverFio\"\r\n                  key=\"takerDriverFio\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Qabulqiluvchi haydovchi FIO</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n\r\n            <Col md={24} >\r\n              <Form.Item>\r\n                <Form.Item\r\n                  key=\"selenote-field\"\r\n                  name=\"specialNotes\">\r\n                  <Input\r\n                    size=\"large\"\r\n                    placeholder=\" \" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\"> </span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"deliveryDistance\"\r\n                  key=\"deliveryDistance\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tashish orligi</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col md={11}>\r\n              <Form.Item>\r\n                <Form.Item\r\n                  name=\"deliveryDistanceInCity\"\r\n                  key=\"deliveryDistanceInCity\"\r\n                >\r\n                  <Input size=\"large\" />\r\n                </Form.Item>\r\n                <span className=\"custom-input-label-1\">Tashish orqliq (Shaharda)</span>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n          </Row>\r\n        </div>\r\n\r\n        <div className={`factura-data-sheet-container ${fullView ? 'grid-full-view' : null}`}>\r\n        <div style={{marginBottom: 10, display: 'flex', justifyContent:'space-between'}}>\r\n          <div style={{display: 'flex'}}>\r\n              <Upload \r\n                headers={{\r\n                  Authorization: \"Bearer \" + token\r\n                }}\r\n                multiple={false}\r\n                action=\"http://127.0.0.1:8000/api/v1/factura-products/read-excel\"\r\n                accept=\".xlsx, .xls\" \r\n                onChange={handleImportExecl}>\r\n                \r\n                  <Button style={{marginRight: 10}}>Exceldan yuklash</Button>\r\n               \r\n              </Upload>\r\n              <a target=\"_blank\" href=\"../../../excels/on_doc_factura_products.xlsx\" download>\r\n                <Button >\r\n                  Shablon yuklash\r\n                </Button>\r\n              </a>\r\n            </div>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={fullView ? <FullscreenExitOutlined /> : <FullscreenOutlined />} \r\n              onClick={()=>toglleFullView(!fullView)}>\r\n                { fullView ? \"Kichraytirish\" : \"Kengaytirish\" }\r\n            </Button>\r\n        </div>\r\n        \r\n      <div style={{overflowX: 'auto'}} >\r\n        <div style={{width: '100%'}}>\r\n          <Datasheet\r\n            data={ grid}\r\n            valueRenderer={ valueRenderer}\r\n            onContextMenu={ onContextMenu}\r\n            onCellsChanged={ onCellsChanged}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, marginRight: 7, width: 220}} \r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"plus-square\"]} />} \r\n        onClick={  handleAddRow }>Qo'shish</Button>\r\n      \r\n      <Button \r\n        size=\"large\" \r\n        style={{marginTop: 20, width: 220 }} \r\n        danger\r\n        type=\"primary\" \r\n        icon={<FontAwesomeIcon \r\n          style={{marginRight: 7}} \r\n          icon={[\"far\", \"trash-alt\"]} />} \r\n        onClick={ ()=>{ if(grid.length>1){ handleRemoveRow(grid.length-1) }}  }>Oxirgi qatorni o'chirish</Button>\r\n      </div>\r\n\r\n        <div className=\"factura-data-sheet-container\">\r\n          <Row justify=\"space-around\">\r\n            <Col >\r\n              <Button\r\n                loading={isLoading}\r\n                primary\r\n                htmlType=\"submit\"\r\n                className=\"factra-action-btns save-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                 \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                className=\"factra-action-btns sing-btn\"\r\n                size=\"large\"\r\n                icon={<FontAwesomeIcon icon=\"signature\" className=\"factura-action-btn-icons\" />}>\r\n                \r\n                  </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                icon={<FontAwesomeIcon icon=\"ban\" className=\"factura-action-btn-icons\" />}\r\n                danger\r\n                className=\"factra-action-btns\"\r\n                size=\"large\">\r\n                 \r\n                  </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  token: selectToken,\r\n  user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(TTYForm);","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../../redux/user/user.selector';\r\nimport { API_HOST } from '../../../env';\r\n\r\nconst TTYView = ({ match, user }) => {\r\n\r\n    const {ttyId} = match.params;\r\n   \r\n\r\n    return (\r\n        <div style={{margin: 15, padding: 20}}>\r\n            <embed \r\n            width=\"100%\"\r\n            height=\"600px\"\r\n            src={`${API_HOST}/api/v1/ttys/get-pdf/${ttyId}/${user.auth_key}/${user.tin}`} \r\n            type=\"application/pdf\" />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(TTYView)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport HomePage from '../common/home/home.component'\r\nimport TTYForm from '../tty/create/create.component';\r\nimport TTYView from \"../tty/view/view.component\";\r\n\r\nconst TTYIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} render={()=><HomePage doc=\"tty\" />} />\r\n            <Route exact path={`${match.path}/create`} component={ TTYForm } />\r\n            <Route exact path={`${match.path}/edit/:ttyId`} component={ TTYForm } />\r\n            <Route exact path={`${match.path}/view/:ttyId`} component={ TTYView } />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TTYIndexRouter\r\n","import { List, Tag } from 'antd'\r\nimport axios from 'axios'\r\nimport React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { IMPORTANCE } from '../../env'\r\nimport moment from \"moment\"\r\n\r\nconst Notifications = () => {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        axios({\r\n            url: \"api/v1/notifications\",\r\n            method: \"GET\"\r\n        }).then(res => {\r\n            setData(res.data)\r\n            setLoading(false)\r\n        }).catch(er => {\r\n            console.log(er)\r\n            setLoading(false)\r\n        })\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"factura-data-sheet-container\" style={{ margin: 15 }}>\r\n            <h3>Notifications</h3>\r\n            <List\r\n                loading={loading}\r\n                dataSource={data}\r\n                pagination\r\n                renderItem={(n) => (\r\n                    <List.Item>\r\n                        <div style={{ marginBottom: 30 }}>\r\n                            <h3>{n.title_uz}</h3>\r\n                            <div>\r\n                                <Tag\r\n                                    style={{ marginRight: 10 }}\r\n                                    color={IMPORTANCE[n.importance].color}>\r\n                                    {IMPORTANCE[n.importance].text}\r\n                                </Tag>\r\n                                {moment(n.updated_at).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                            </div>\r\n                            <div>{n.body_uz}</div>\r\n                        </div>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notifications\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Col, Input, Row, Form, Button, message, Select} from 'antd';\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { setUser } from '../../redux/user/user.action';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { TextInBracket } from '../../utils/utils';\r\n\r\nconst { Option } = Select;\r\n\r\nconst AccountForm = ({user, setUserOnly}) => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const onSubmit=(values)=>{\r\n        console.log(JSON.stringify(values));\r\n        setLoading(true)\r\n        axios({\r\n            method: \"post\",\r\n            data: values,\r\n            \r\n            url: `company/update?id=${user.id}`\r\n        }).then(res=>{\r\n            setLoading(false)\r\n            //setUserOnly(res.data)\r\n            message.success(\"Succesfully updated!\")\r\n        }).catch(err=>{\r\n            setLoading(false)\r\n            console.log(err)\r\n        })\r\n    }\r\n    const fields = [\r\n        {\r\n            name: \"name\",\r\n            label: \"Nomi\"\r\n        },\r\n        {\r\n            name: \"address\",\r\n            label: \"Manzil\"\r\n        },\r\n        {\r\n            name: \"oked\",\r\n            label: \"OKED\"\r\n        },\r\n        {\r\n            name: \"director_fio\",\r\n            label: \"Direktor\"\r\n        },\r\n        {\r\n            name: \"accountant\",\r\n            label: \"Hisobchi\"\r\n        },\r\n        // {\r\n        //     name: \"phone\",\r\n        //     label: \"Telephone\"\r\n        // },\r\n        {\r\n            name: \"bank_account\",\r\n            label: \"Hisob raqam\"\r\n        },\r\n        {\r\n            name: \"mfo\",\r\n            label: \"MFO\"\r\n        },\r\n        \r\n    ]\r\n   \r\n\r\n    return (\r\n        \r\n            <Form\r\n                initialValues={user}\r\n                onFinish={onSubmit}\r\n                form={form}\r\n            >\r\n                <Row justify=\"space-between\">\r\n                    <Col md={11}>\r\n                    \r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                initialValue={user.tin??user.username}\r\n                                key={`dyna-form-facutura-no-old-tin`}\r\n                                name=\"tin\"\r\n                                >\r\n                                <Input\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                    disabled\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{t(\"STIR\")}</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    {\r\n                        fields.map(field => <Col md={11}>\r\n                            <Form.Item>\r\n                                <Form.Item\r\n                                    key={`dyna-form-facutura-no-old-${field.name}`}\r\n                                    name={field.name}\r\n                                >\r\n                                    <Input\r\n                                        rules={[{ required: true }]}\r\n                                        size=\"large\"\r\n                                    />\r\n                                </Form.Item>\r\n                                <span className=\"custom-input-label-1\">{field.label}</span>\r\n                            </Form.Item>\r\n                        </Col>)\r\n                    }\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tin-vil`}\r\n                                name=\"ns10_code\"\r\n                            >\r\n                                <Select\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                    bordered={false}\r\n                                >\r\n\r\n                                <Option value={1}>Tashkent</Option>\r\n                                <Option value={2}>Andijon</Option>\r\n                                <Option value={3}>Tashkent</Option>\r\n                                <Option value={14}>Namangan</Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{t(\"Viloyat\")}</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                   <Col md={11}>\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            loading={loading}\r\n                            className=\"factra-action-btns sing-btn\"\r\n                            size=\"large\"\r\n                            icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                                Saqlash\r\n                        </Button>\r\n                   </Col>\r\n                </Row>\r\n            </Form>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch=>({\r\n    setUserOnly: (user)=>dispatch(setUser(user))\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountForm)\r\n","import React from 'react';\r\nimport axios from 'axios'\r\nimport { Button, Select, Spin } from 'antd';\r\nimport { useState } from 'react/cjs/react.development';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { connect } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nconst ClasscodeAjaxSearch = ({ user })=>{\r\n\r\n    const {t} = useTranslation();\r\n\r\n    const [selected, setSelected] = useState();\r\n    const [options, setOptions] = useState([]);\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleOptionSearch = (text) => {\r\n        setLoading(true)\r\n        axios({\r\n            url: `classifications/search?key=${text}`,\r\n            method: \"get\"\r\n        }).then(res=>{\r\n            console.log(res.data.data)\r\n            setOptions(Array.isArray(res.data.data) ? res.data.data : [])\r\n            setLoading(false)\r\n        }).catch(ex=>{\r\n            console.log(ex);\r\n            setLoading(false)\r\n        })\r\n    \r\n\r\n    }\r\n\r\n    const handleAttach = ()=>{\r\n        console.log(selected)\r\n        axios({\r\n            url: \"classifications/add-products\",\r\n            method: \"post\",\r\n            data: {\r\n                tin: user.tin ?? user.username,\r\n                class_codes: selected\r\n            }\r\n        }).then(data=>{\r\n            console.log(data)\r\n        }).catch(ex=>{\r\n            console.log(ex)\r\n        })\r\n    }\r\n\r\n    const optionstag = options.map(d => <Option value={d.classCode} key={d.classCode}>{d.className}</Option>);\r\n\r\n    return <div>\r\n        \r\n        <Select\r\n            //size=\"large\"\r\n            //bordered={false}\r\n            //placeholder={ t(\"Maxsulot izlash\") }\r\n            mode=\"multiple\"\r\n            value={selected}\r\n            showSearch\r\n            showArrow={false}\r\n            defaultActiveFirstOption={false}\r\n            filterOption={false}\r\n            onSearch={handleOptionSearch}\r\n            onChange={setSelected}\r\n            style={{width: '100%'}}\r\n            loading={loading}\r\n            notFoundContent={null}\r\n        >\r\n            {\r\n                optionstag\r\n            }\r\n        </Select>\r\n        \r\n        <Button \r\n            type=\"primary\" \r\n            style={{marginTop: 10}} \r\n            onClick={handleAttach}>\r\n                Ozingizga yuklash\r\n        </Button>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(ClasscodeAjaxSearch);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Select, Spin } from 'antd'\r\nimport axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { connect } from 'react-redux'\r\nimport { createStructuredSelector } from 'reselect'\r\nimport ClasscodeAjaxSearch from '../../components/classcodes-ajax-search/classcodes-ajax-search.component'\r\nimport { selectCurrentUser } from '../../redux/user/user.selector'\r\nimport HomePage from '../common/home/home.component'\r\n\r\nconst { Option } = Select;\r\n\r\nconst UserProducts = ({ user }) => {\r\n\r\n    const { t } = useTranslation();\r\n    const [spinning, setSpinning] = useState(false);    \r\n    \r\n    const handleFetchTasnifSoliq = ()=>{\r\n        setSpinning(true)\r\n        axios({\r\n            url: `classifications/reload?tin=${user.tin??user.username}`,\r\n            method: \"GET\"\r\n        }).then(res=>{\r\n            setSpinning(false)\r\n            //window.location.reload()\r\n        }).catch(ex=>{\r\n            setSpinning(false)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Spin spinning={spinning}>\r\n                <ClasscodeAjaxSearch />\r\n            <HomePage \r\n            \r\n            hideTabs\r\n                customButton={<div \r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={handleFetchTasnifSoliq}><span><FontAwesomeIcon icon=\"sync-alt\" /> {t(\"Synxronizatsiya\")}</span></div>}\r\n            doc=\"user-products\"\r\n            addParams={[\r\n                {\r\n                    name: \"tin\",\r\n                    value: user.tin ?? user.username\r\n                }\r\n            ]}\r\n            />\r\n            </Spin>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(UserProducts)\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Form, Row, Col, Input, Button, message } from 'antd'\r\nimport axios from 'axios'\r\nimport React, {useState} from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { connect } from 'react-redux'\r\nimport { createStructuredSelector } from 'reselect'\r\nimport { selectLoadedKey } from '../../redux/user/user.selector'\r\nimport { EIMZOClient } from '../../utils/e-imzo'\r\nimport PaymeForm from '../payme-form/payme-form.component'\r\n\r\nconst PasswordChange = ({ loadedKey }) => {\r\n\r\n    const { t} = useTranslation();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n    const handleFinish = values=>{\r\n        setLoading(true);\r\n        EIMZOClient.createPkcs7(\r\n            loadedKey.id,\r\n            values.password,\r\n            null,\r\n            pkcs7=>{\r\n                axios({\r\n                    url: \"user/set-password\",\r\n                    method:\"post\",\r\n                    data: {\r\n                        pkcs7: pkcs7,\r\n                        password: values.password,\r\n                        phone: values.phone\r\n                    }\r\n                })\r\n            },\r\n            (e, r)=>{\r\n                message.error(r)\r\n                console.log(\"r\",r,\"e\",e)\r\n            }\r\n            )\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Form\r\n                onFinish={handleFinish}\r\n            >\r\n                <Row justify=\"space-between\">\r\n                    \r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tin`}\r\n                                name=\"password\"\r\n                            >\r\n                                <Input.Password\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{t(\"Yangi parol\")}</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                key={`dyna-form-facutura-no-old-tphone`}\r\n                                name=\"phone\"\r\n                            >\r\n                                <Input\r\n                                    placeholder=\"+998 xx xxx xx xx\"\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">{(\"Telefon raqam\")}</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                name=\"confirm\"\r\n                                dependencies={['password']}\r\n                                hasFeedback\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please confirm your password!',\r\n                                    },\r\n                                    ({ getFieldValue }) => ({\r\n                                        validator(_, value) {\r\n                                            if (!value || getFieldValue('password') === value) {\r\n                                                return Promise.resolve();\r\n                                            }\r\n                                            return Promise.reject(new Error('The two passwords that you entered do not match!'));\r\n                                        },\r\n                                    }),\r\n                                ]}\r\n                            >\r\n                                <Input.Password\r\n                                    rules={[{ required: true }]}\r\n                                    size=\"large\"\r\n                                />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Prolni tasdiqlang</span>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col md={11}>\r\n                        <Button\r\n                            htmlType=\"submit\"\r\n                            loading={loading}\r\n                            className=\"factra-action-btns sing-btn\"\r\n                            size=\"large\"\r\n                            icon={<FontAwesomeIcon icon=\"save\" className=\"factura-action-btn-icons\" />}>\r\n                            Saqlash\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    loadedKey: selectLoadedKey,\r\n})\r\n\r\nexport default connect(mapStateToProps)(PasswordChange)\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport AccountForm from '../account-form/account-form.component';\r\nimport UserProducts from '../user-products/user-products.component';\r\nimport PasswordChange from '../password-change/password-change.component';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst { TabPane } = Tabs\r\n\r\nconst ProfileComponent = ()=>{\r\n\r\n    const { t } = useTranslation()\r\n\r\n    const handleChange = val=>{\r\n        console.log(val)\r\n    }\r\n\r\n    return <div className=\"factura-data-sheet-container\" style={{ margin: 15 }}>\r\n        <Tabs onChange={handleChange} type=\"card\">\r\n            <TabPane tab={t(\"Kompaniya ma'lumotlari\")} key=\"1\">\r\n                <AccountForm />\r\n            </TabPane>\r\n            <TabPane tab={t(\"Parol o'zgartirish\")} key=\"2\">\r\n                <PasswordChange />\r\n            </TabPane>\r\n            <TabPane tab={t(\"Maxsulotlarim\")} key=\"3\">\r\n                <UserProducts />\r\n            </TabPane>\r\n        </Tabs>\r\n    </div>\r\n}\r\n\r\nexport default ProfileComponent;","import { Col, Row } from 'antd';\r\nimport React from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport FacturaIndex from './factura/index.component';\r\nimport RightSidebar from './right-sidebar/right-sidebar.component';\r\nimport CabinetHome from './home/home.component';\r\nimport EmpowermentIndex from './empowerment/index.component';\r\nimport ActIndexRouter from './act/index.router';\r\nimport ContractIndexRouter from './contract/index.router';\r\nimport TTYIndexRouter from './tty/index.router';\r\nimport './create.style.scss';\r\nimport Notifications from './notifications/notifications.component';\r\nimport ProfileComponent from './profile/profile.component';\r\n\r\nconst CabinetIndex = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-around\">\r\n               <Col md={5} lg={4}>\r\n                    <RightSidebar />\r\n               </Col>\r\n               <Col md={19} lg={20}>\r\n                    <Route exact path={match.path} component={ CabinetHome } />\r\n\r\n                    <Route path={`${match.path}/factura`} component={ FacturaIndex } />\r\n\r\n                    <Route path={`${match.path}/empowerment`} component={ EmpowermentIndex } />\r\n\r\n                    <Route path={`${match.path}/act`} component={ ActIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/contract`} component={ ContractIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/tty`} component={ TTYIndexRouter } />\r\n\r\n                    <Route path={`${match.path}/notifications`} component={ Notifications } />\r\n\r\n                    <Route path={`${match.path}/profile`} component={ ProfileComponent } />\r\n               </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(CabinetIndex);","import React, { useState, useEffect } from 'react';\r\n//import { connect } from 'react-redux';\r\n//import { setUserLocale } from '../../redux/user/user.actions';\r\n//import { createStructuredSelector } from 'reselect';\r\n//import { selectUserLocale } from '../../redux/user/user.selector';\r\nimport { Dropdown, Menu } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport i18next from \"i18next\";\r\n\r\nconst LanguagesDropdown = ({ locale, changeLocale }) => {\r\n    const { i18n } = useTranslation();\r\n\r\n    const [activeLang, setActiveLang] = useState(i18next.language);\r\n\r\n    useEffect(()=>{\r\n        setActiveLang(i18next.language)\r\n    }, [i18next.language])\r\n\r\n    const languagesMenu = (\r\n        <Menu>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('uz'); \r\n                i18n.changeLanguage('uz') \r\n                }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/uz.png\" /> O'zb\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => {\r\n                //changeLocale('uz');\r\n                i18n.changeLanguage('uz-Cyrl')\r\n            }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/uz.png\" /> \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('ru'); \r\n                i18n.changeLanguage('ru') \r\n            }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/ru.png\" /> Pyc\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => { \r\n                //changeLocale('en'); \r\n                i18n.changeLanguage('en') \r\n            }}>\r\n                <img style={{ width: 25, borderRadius: '50%' }} alt=\"languange\" src=\"/images/en.png\" /> Eng\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n\r\n    return (<span className=\"trigger text-float-right\">\r\n        <Dropdown overlay={languagesMenu}>\r\n            <img style={{ width: 25, borderRadius: '50%', marginRight:30 }} alt=\"languange\" src={`/images/${activeLang===\"uz-Cyrl\"?\"uz\": activeLang}.png`} />\r\n        </Dropdown>\r\n    </span>)\r\n}\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//     changeLocale: locale => dispatch(setUserLocale(locale))\r\n// })\r\n\r\n// const mapStateToProps = createStructuredSelector({\r\n//     locale: selectUserLocale\r\n// })\r\n\r\n//export default connect(mapStateToProps, mapDispatchToProps)(LanguagesDropdown);\r\nexport default LanguagesDropdown;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './left-sidebar.style.scss';\r\nimport { Link } from 'react-router-dom'\r\nimport { Tooltip } from 'antd';\r\n\r\nconst LeftSidebar = ({ active })=>{\r\n\r\n    return(\r\n        <div className={`side-bar-icons-main-container ${active ? \"inactive\" : \"active\"}`}>\r\n                <div className=\"sidebar-iconsconyainer\">\r\n                    <div>\r\n                        <Tooltip placement=\"left\" color=\"#0075ff\" title=\"Bosh sahifa\">\r\n                            <Link to=\"/home\">\r\n                                <FontAwesomeIcon icon=\"home\" />\r\n                            </Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <div>\r\n                        <Tooltip placement=\"left\" color=\"#0075ff\" title=\"Notifications\">\r\n                            <Link to=\"/cabinet/notifications\">\r\n                                <FontAwesomeIcon icon={[\"far\", \"bell\"]} />\r\n                            </Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <div>\r\n                        <Tooltip title=\"Kabinet\" color=\"#0075ff\" placement=\"left\">\r\n                            <Link to=\"/cabinet/profile\"><FontAwesomeIcon icon=\"user-cog\" /></Link>\r\n                        </Tooltip>\r\n                    </div>\r\n                    \r\n                    <div><Link to=\"/home/faq\"><FontAwesomeIcon icon=\"question-circle\" /></Link></div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default LeftSidebar;","import React, { useState }  from 'react';\r\nimport { Twirl as Hamburger } from 'hamburger-react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './header.style.scss';\r\nimport LanguagesDropdown from \"../language-dropdown/locale-dropdown\";\r\n\r\nimport LeftSidebar from '../left-sidebar/left-sidebar.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Tooltip } from 'antd';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCurrentUser } from '../../redux/user/user.selector';\r\nimport { logOut } from '../../redux/user/user.action';\r\nimport { connect } from 'react-redux';\r\nimport {useTranslation} from \"react-i18next\";\r\n\r\nconst Header = ({ user, logOut, location})=>{\r\n\r\n    const {t} = useTranslation()\r\n\r\n    window.onscroll = ()=>setActive(false);\r\n    const [active, setActive] = useState(false);    \r\n    return(<div><div className=\"header-main-component-container-main\">\r\n        <div style={{ textAlign: \"right\", padding: '5px 40px', backgroundColor: 'rgba(0,0,0,0.1)' }}>{t(\"Call center\")}: <a href=\"tel:+998712001122\">+998 71 200 11 22</a> </div>\r\n        <div className=\"header-main-component-container\">\r\n            <div className=\"header-main-conatainer\">\r\n                <span>\r\n                    <Link to=\"/\">\r\n                        <img className=\"logo-on-doc-img\" src=\"/assests/logo.png\" alt=\"logo On Doc\" /> <span style={{fontSize: 27, color: 'black', fontWeight: \"bold\"}}>Online<span style={{ color: \"rgb(0,174,255)\" }}>Factura</span></span>\r\n                    </Link>\r\n                </span>\r\n                <div className=\"heasder-actions-con\">\r\n                    {\r\n                        user ?\r\n                            <div className=\"header-action\" style={{display: \"flex\", alignItems: \"center\"}}>\r\n                                <FontAwesomeIcon className=\"header-action-icon\" icon=\"wallet\" />  <strong style={{marginLeft: 10}}> 40500.00</strong>\r\n                            </div>\r\n                            :null\r\n                    }\r\n                    <LanguagesDropdown />\r\n                    {\r\n                        user ?\r\n                        <div className=\"header-action\">\r\n                            <strong>{t(\"STIR\")}:</strong>  {user.tin ?? user.username}\r\n                        </div>\r\n                        : null\r\n                    }\r\n                    {\r\n                        user ? \r\n                        <div className=\"header-action\">\r\n                            \r\n                            <Tooltip title={t(\"Tizimdan chiqish\")}>\r\n                                <div style={{cursor: 'pointer'}} onClick={logOut}>\r\n                                    <FontAwesomeIcon icon=\"sign-in-alt\" className=\"header-action-icon\" />\r\n                                </div>\r\n                            </Tooltip>\r\n                        </div>\r\n                        : <div className=\"header-action\">\r\n                                <Tooltip title={t(\"Tizimga kirish\") }>\r\n                                    <Link to=\"/home/login\">\r\n                                        <FontAwesomeIcon icon=\"sign-in-alt\" className=\"header-action-icon\" />\r\n                                    </Link>\r\n                                </Tooltip>\r\n                        </div>\r\n                    }\r\n                    <Hamburger className=\"burger-main\" toggled={active} toggle={setActive} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <LeftSidebar active={active} />\r\n</div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>({\r\n    logOut: ()=>dispatch(logOut())\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));","import React, { useState } from 'react';\r\nimport Header from '../../components/header/header.component';\r\n\r\nconst Home = ({})=>{\r\n\r\n    \r\n\r\n    return<div>\r\n        <div>\r\n            {/* <Header /> */}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Home;","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Form, Row, Col, Input, Select, Button, message, Radio } from 'antd'\r\nimport axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setLoadedKeyId, setKeyUser, succesLogIn } from '../../redux/user/user.action';\r\nimport { EIMZOClient } from '../../utils/e-imzo';\r\nimport moment from 'moment';\r\nimport './login.style.scss'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Generator } from '../../utils/utils';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst { Option } = Select;\r\n\r\nconst Login = ({ setCurrentUser, history, setEspUser, setKeyId }) => {\r\n\r\n    const { t } = useTranslation();\r\n    const [eKeys, setEKeys] = useState([])\r\n\r\n    const [activeTab, setActiveTab] = useState(0);\r\n\r\n    useEffect(() => {\r\n        EIMZOClient.listAllUserKeys(function (o, i) {\r\n            // console.log(o);\r\n            var itemId = \"itm-\" + o.serialNumber + \"-\" + i;\r\n            return itemId;\r\n        }, function (itemId, v) {\r\n            eKeys.push({ value: itemId, text: v })\r\n            setEKeys([...eKeys])\r\n            //return uiCreateItem(itemId, v);\r\n        }, function (items, firstId) {\r\n            // uiFillCombo(items);\r\n            // uiLoaded();\r\n            // uiComboSelect(firstId);\r\n        }, function (e, r) {\r\n            console.log((e, r))\r\n            message.error(t(\"E-Imzo xatosi. Sizda E-Imzo programmasi yoki E-Imzo browseri mavjud emas!\"))\r\n        });\r\n    }, [])\r\n\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isKeyLoading, setKeyIsLoading] = useState(false);\r\n\r\n    const validateMessages = {\r\n        required: 'Bu maydon majburiy!',\r\n    };\r\n\r\n    const handleSubmit = value => {\r\n        setIsLoading(true)\r\n        console.log(value)\r\n        axios({\r\n            url: '/api/v1/login-with-password',\r\n            data: value,\r\n            method: 'POST',\r\n        }).then(res => {\r\n            setCurrentUser(res.data)\r\n            setIsLoading(false)\r\n            history.push(\"/home/choosecompany\")\r\n        }).catch(err => {\r\n            console.log(err)\r\n            setIsLoading(false)\r\n            message.error(t(\"Kabinetga kirishda xatolik!\"));\r\n        })\r\n    }\r\n\r\n    const handleKeySubmit = value => {\r\n        //setKeyIsLoading(true)        \r\n        let data = Generator(24);\r\n        console.log(value);\r\n        EIMZOClient.loadKey(\r\n            value.key.text,\r\n            id => {\r\n                setKeyId({id: id, time: Date.now()});\r\n                EIMZOClient.createPkcs7(\r\n                    id, \r\n                    data,\r\n                    null,\r\n                    pkcs7Text => {\r\n                        \r\n                        axios({\r\n                            url: \"site/auth\",\r\n                            method: \"post\",\r\n                            data: {\r\n                                keyId: id,\r\n                                guid: data,\r\n                                pkcs7: pkcs7Text\r\n                            }\r\n                        }).then(res=>{\r\n                            let { success } = res.data;\r\n                            if (success){\r\n                                setCurrentUser(res.data)\r\n                                setEspUser(res.data.data)\r\n                                message.success(t(\"Muaffaqiyatli kirish!\"));\r\n                                history.push(\"/home/choosecompany\")\r\n                            }else{\r\n                                message.error(t(\"Kabinetga kirishda xatolik!\"))\r\n                            }\r\n                        }).catch(e=>{\r\n                            console.log(e);\r\n                        })\r\n                    },\r\n                    (e, r) => {\r\n                        console.log(\"e:\", e);\r\n                        console.log(\"r:\", r);\r\n                        message.error(r);\r\n                    },\r\n                    (e, r)=>{\r\n                        console.log(\"e:\", e);\r\n                        console.log(\"r:\", r);\r\n                        message.error(r);\r\n                    }\r\n                    )\r\n            },\r\n            function (e, r) {\r\n                console.log(\"Load key e:\", e);\r\n                console.log(\"Load key r:\", r);\r\n            })\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"login-main-container\">\r\n            <Row justify=\"space-around\">\r\n                <Col md={10}>\r\n                    {\r\n                        activeTab === 0 ?\r\n                            <div className=\"login-form-containrer\">\r\n                                <Form\r\n                                    name=\"e-key\"\r\n                                    onFinish={handleKeySubmit}\r\n                                    scrollToFirstError\r\n                                    validateMessages={validateMessages}\r\n                                >\r\n                                    <div style={{\r\n                                        maxHeight: 300,\r\n                                        overflowY: 'auto',\r\n                                        border: \"1px solid #999\",\r\n                                        borderRadius: 11,\r\n                                        marginBottom: 10,\r\n                                        padding: 10\r\n                                    }}>\r\n                                    <Form.Item\r\n                                        name=\"key\">\r\n                                        <Radio.Group\r\n                                            size=\"large\">\r\n                                            {\r\n                                                eKeys.map(data => <Radio key={data.value} value={data}>\r\n                                                    <div className=\"client-availbale-key\">\r\n                                                        <div>{t(\"FIO\")}: {data.text.CN} </div>\r\n                                                        <div>{t(\"STIR\")}: {data.text.TIN}</div>\r\n                                                        <div>{t(\"Tashkilot\")}: {data.text.O}</div>\r\n                                                        <div>{t(\"Amal qilish muddati\")}: \r\n                                                            {moment(data.text.validTo).format(\"MMMM Do YYYY, H:mm:ss\")}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Radio>)\r\n                                            }\r\n                                        </Radio.Group>\r\n                                    </Form.Item>\r\n                                    </div>\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            loading={isKeyLoading}\r\n                                            style={{ display: 'block', width: '100%' }}\r\n                                            className=\"factra-action-btns sing-btn\"\r\n                                            size=\"large\"\r\n                                            htmlType=\"submit\"\r\n                                            icon={<FontAwesomeIcon icon=\"sign-in-alt\" \r\n                                            className=\"factura-action-btn-icons\" />}>\r\n                                            {t(\"Kirish\")}\r\n                                        </Button>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                                <div onClick={()=>setActiveTab(1)} style={{ textAlign: \"center\", cursor: \"pointer\" }}>{t(\"STIR va parol bilan kirish\")}</div>\r\n                            </div>\r\n                            :\r\n                            <div className=\"login-form-containrer\">\r\n                                <h3>{t(\"STIR va parol bilan kirish\")}</h3>\r\n                                <Form\r\n                                    name=\"tin-pass\"\r\n                                    onFinish={handleSubmit}\r\n                                    scrollToFirstError\r\n                                    validateMessages={validateMessages}\r\n                                >\r\n                                    <Form.Item>\r\n                                        <Form.Item\r\n                                            key=\"dyna-form-facutura-no-old\"\r\n                                            name=\"tin\"\r\n                                            rules={[{ required: true }]}>\r\n                                            <Input\r\n                                                size=\"large\"\r\n                                                placeholder={t(\"STIR\")} />\r\n                                        </Form.Item>\r\n                                        <span className=\"custom-input-label-1\">{t(\"STIR\")}</span>\r\n                                    </Form.Item>\r\n                                    <Form.Item>\r\n                                        <Form.Item\r\n                                            key=\"dyna-form-facutura-no-old\"\r\n                                            name=\"password\"\r\n                                            rules={[{ required: true }]}>\r\n                                            <Input.Password\r\n                                                size=\"large\"\r\n                                                placeholder={t(\"Parol\")} />\r\n                                        </Form.Item>\r\n                                        <span className=\"custom-input-label-1\">{t(\"Parol\")}</span>\r\n                                    </Form.Item>\r\n\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            loading={isLoading}\r\n                                            style={{ display: 'block', width: '100%' }}\r\n                                            className=\"factra-action-btns sing-btn\"\r\n                                            size=\"large\"\r\n                                            htmlType=\"submit\"\r\n                                            icon={<FontAwesomeIcon icon=\"sign-in-alt\" className=\"factura-action-btn-icons\" />}>\r\n                                            {t(\"Kirish\")}\r\n                                        </Button>\r\n                                    </Form.Item>\r\n                                </Form>\r\n                                <div style={{textAlign: \"center\", cursor: \"pointer\"}} onClick={()=>setActiveTab(0)}>{t(\"E-imzo bilan kirish\")}</div>\r\n                            </div>\r\n\r\n                    }\r\n\r\n                </Col>\r\n            \r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setCurrentUser: (data) => dispatch(succesLogIn(data)),\r\n    setEspUser: data=>dispatch(setKeyUser(data)),\r\n    setKeyId: id => dispatch(setLoadedKeyId(id))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(withRouter(Login))\r\n","export const Generator = (length) => {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\n//TEXT IN [] bracket\r\nexport const TextInBracket = text =>{\r\n    return text.match(/\\[(.*?)\\]/)[1]\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Button, List, message } from 'antd';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { setUser, setUserCompanies } from '../../redux/user/user.action';\r\nimport { selectKeyUser, selectUserCompanies } from '../../redux/user/user.selector';\r\nimport './choose-company.style.scss';\r\n\r\nconst ChooseCompany = ({ setCurrentUser, history, user, setUserComps, companies }) => {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const setChoosenCompany = async (tin, push_to_cabinet=true)=>{\r\n        await axios({\r\n            url: `user/get-company-data?tin=${tin}`,\r\n            method: 'get'\r\n        }).then(res => {\r\n            setLoading(false)\r\n            setCurrentUser(res.data.company)\r\n            if(push_to_cabinet){\r\n                history.push(\"/cabinet\")\r\n            }\r\n\r\n        }).catch(e => {\r\n\r\n            console.log(e)\r\n\r\n        })\r\n    }\r\n\r\n    const { t } = useTranslation();\r\n    \r\n\r\n    const [chosen, setChosen] = useState(null);\r\n\r\n    useEffect(()=>{\r\n\r\n        if(chosen){\r\n            setChoosenCompany(chosen)\r\n        }\r\n\r\n    }, [chosen]);\r\n\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n        axios({\r\n            url: `info/director-company/?tin=${user.username}`,\r\n            method: 'get',\r\n        }).then(res=>{\r\n            console.log(res);\r\n            if(res.data.success){\r\n                setUserComps(res.data.data)\r\n                setLoading(false)\r\n                if(res.data?.data?.length==1){\r\n                    setChoosenCompany(res.data.data[0].company_tin)\r\n                }\r\n            }else{\r\n                message.error(\"Serverda xatolik!\");\r\n                setLoading(false)\r\n            }\r\n            \r\n        }).catch(err=>{\r\n            console.log(err);\r\n            message.error(\"Serverda xatolik!\");\r\n            setLoading(false)\r\n        })\r\n    }, [])\r\n\r\n\r\n    return (<div className=\"choose-company-main-container\">\r\n        <div className=\"choose-company-sub-container\">\r\n            <Button\r\n                onClick={() => { history.goBack() }}\r\n                type=\"primary\"\r\n\r\n                icon={<FontAwesomeIcon\r\n                    style={{ marginRight: 10 }}\r\n                    icon=\"arrow-circle-left\" />}>\r\n                {t(\"Back\")}\r\n            </Button>\r\n            <h2 style={{ textAlign: \"center\" }}>{t(\"Korxona tanlang\")}</h2>\r\n            <div className=\"company-card-con\">\r\n                \r\n                    \r\n                <List\r\n                    grid={{\r\n                        gutter: 8,\r\n                        xs: 1,\r\n                        md: 2,\r\n                        lg: 3\r\n                    }}\r\n                    loading={loading}\r\n                    dataSource={companies}\r\n                    renderItem={comp => <div onClick={() => setChosen(comp.company_tin)} \r\n                    className=\"company-card\">\r\n                        <div className=\"company-name\">\r\n                            {comp.company_name}\r\n                        </div>\r\n\r\n                        <div className=\"company-text\">\r\n                            <span\r\n                                className=\"company-tin\"\r\n                                style={{ margin: 0, padding: 0 }}\r\n                            >{comp.company_tin}</span>\r\n                            <div>{t(\"STIR\")}</div>\r\n                        </div>\r\n\r\n                    </div>}\r\n                />\r\n                        \r\n                \r\n               \r\n                \r\n            </div>\r\n\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nconst mapDispatchToProps = dispatch=>({\r\n    setUserComps: data => dispatch(setUserCompanies(data)),\r\n    setCurrentUser: data => dispatch(setUser(data)),\r\n})\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectKeyUser,\r\n    companies: selectUserCompanies\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ChooseCompany));","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { createStructuredSelector } from 'reselect'\r\nimport Home from './home/home.component'\r\nimport Login from './login/login.component'\r\nimport { selectCurrentUser } from '../redux/user/user.selector'\r\nimport ChooseCompany from './choose_company/choose-company.component'\r\n\r\nconst FrontIndexRouter = ({ match, user }) => {\r\n    console.log(user)\r\n    return (\r\n        <div>\r\n            <Route exact path={`${match.path}`} component={ Home } />\r\n            {/* <Route exact path={`${match.path}/login`} component={ Login } /> */}\r\n            <Route\r\n                exact=\"choosecompany\"\r\n                path={`${match.path}/choosecompany`}\r\n                component={ChooseCompany}\r\n            />\r\n            <Route \r\n                exact \r\n                path={`${match.path}/login`} \r\n                component={ Login } \r\n                />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    user: selectCurrentUser,\r\n})\r\n\r\nexport default connect(mapStateToProps)(FrontIndexRouter)\r\n","import { Col, Form, Input, Row, Select, Button, Switch, message } from 'antd'\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nconst { Option } = Select;\r\n\r\nconst NotificationForm = ({ match }) => {\r\n\r\n    const [form] = Form.useForm();\r\n    const [loading, setLoading] = useState(false);\r\n    const { notificationId } = match.params;\r\n    \r\n    useEffect(()=>{\r\n        if(notificationId){\r\n            axios({\r\n                url:\"api/v1/notifications/\"+notificationId,\r\n                method: \"get\"\r\n            })\r\n            .then(res=>{\r\n                form.setFieldsValue(res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err)\r\n            })\r\n        }\r\n    },[])\r\n    \r\n    const handleSubmit = values => {\r\n\r\n        setLoading(true)\r\n        axios({\r\n            method:  notificationId ? \"patch\" : \"post\",\r\n            data: values,\r\n            url: notificationId ? \"/api/v1/notifications/\"+notificationId  : \"/api/v1/notifications\" \r\n        }).then(res=>{\r\n            if(res.data.ok){\r\n                message.success(\"Notification saqlandi!\");\r\n            }else{\r\n                message.error(\"Notification saqlashda xatolik!\");\r\n            }\r\n            setLoading(false);\r\n        }).catch(err=>{\r\n            console.log(err)\r\n            message.error(\"Notification saqalashda xatolik!\");\r\n            setLoading(false);\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{marginTop: 20}}>\r\n            <Form\r\n                form={form}\r\n                onFinish={handleSubmit}\r\n                scrollToFirstError\r\n            >\r\n                <div className=\"factura-data-sheet-container\">\r\n                <h3>Notification yaratish</h3>\r\n                <Row justify=\"space-between\">\r\n                    <Col md={11}>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_uz\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (uz)</span>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_ru\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (ru)</span>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"title_en\">\r\n                                <Input\r\n                                    size=\"large\"\r\n                                    />\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification sarlavhasi (en)</span>\r\n                        </Form.Item>\r\n                        \r\n                        <Form.Item>\r\n                            <Form.Item\r\n                                rules={[{ required: true }]}\r\n                                key=\"dyna-form-facutura-no\"\r\n                                name=\"importance\">\r\n                                <Select\r\n                                    bordered={false}\r\n                                    size=\"large\"\r\n                                    name=\"importance\"\r\n                                    defaultActiveFirstOption\r\n                                >\r\n                                    <Option value={1}>1 - Uncha muxim emas</Option>\r\n                                    <Option value={2}>2 - Muxim emas</Option>\r\n                                    <Option value={3}>3 - Muxim</Option>\r\n                                    <Option value={4}>4 - Muximroq</Option>\r\n                                    <Option value={5}>5 - O'ta muxim</Option>\r\n                                </Select>\r\n                            </Form.Item>\r\n                            <span className=\"custom-input-label-1\">Notification muximligi</span>\r\n                        </Form.Item>\r\n                        <Row justify=\"space-between\">\r\n                            <Col md={11}>\r\n                                <Form.Item\r\n                                    label=\"Holati\"\r\n                                    name=\"isActive\"\r\n                                    valuePropName=\"checked\"\r\n                                    rules={[{ required: true }]}\r\n                                >\r\n                                    <Switch />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col md={11}>\r\n                                <Form.Item>\r\n                                    <Button \r\n                                        loading={loading}\r\n                                        style={{width: '100%'}}\r\n                                        size=\"large\" \r\n                                        htmlType=\"submit\"\r\n                                        className=\"factra-action-btns save-btn\"\r\n                                        >Saqlash</Button>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <Form.Item\r\n                            name=\"body_uz\"\r\n                            \r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea \r\n                                placeholder=\"Body uz\"\r\n                                rows={4} size=\"large\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                        \r\n                            name=\"body_ru\"\r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea rows={4} \r\n                                placeholder=\"Body ru\"\r\n                                size=\"large\" />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"body_en\"\r\n                            \r\n                            rules={[{ required: true }]}\r\n                        >\r\n                            <TextArea \r\n                                placeholder=\"Body en\"\r\n                                rows={4} size=\"large\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n                </div>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotificationForm\r\n","import { Col, Row } from 'antd'\r\nimport React from 'react'\r\nimport { Route, withRouter } from 'react-router-dom'\r\nimport HomePage from '../cabinet/common/home/home.component'\r\nimport RightSidebar from '../cabinet/right-sidebar/right-sidebar.component'\r\nimport NotificationForm from './notification/form.component'\r\n\r\nconst AdminIndexRouter = ({ match }) => {\r\n    return (\r\n        <div>\r\n            <Row justify=\"space-around\">\r\n                <Col md={5} lg={4}>\r\n                    <RightSidebar admin />\r\n                </Col>\r\n                <Col md={19} lg={20}>\r\n                    <Route \r\n                        exact \r\n                        path={`${match.path}/notification`} \r\n                        render={()=><HomePage \r\n                        doc=\"notification\"\r\n                        hideTabs />} />\r\n                    <Route exact path={`${match.path}/notification/create`} component={ NotificationForm } />\r\n                    <Route exact path={`${match.path}/notification/edit/:notificationId`} component={ NotificationForm } />\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(AdminIndexRouter)\r\n","import './App.css';\nimport 'antd/dist/antd.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport './components/font-awesome-icons/font-awesome-icons';\nimport CabinetIndex from './cabinet/index.component';\nimport moment from 'moment';\nimport \"moment/locale/uz-latn\";\nimport 'moment/locale/ru';\nimport axios from 'axios';\nimport FrontIndexRouter from './frontend/index.router';\nimport Header from './components/header/header.component';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { selectCurrentUser, selectLoadedKey, selectToken } from './redux/user/user.selector';\nimport { logOut } from './redux/user/user.action';\nimport { API_HOST } from './env';\nimport AdminIndexRouter from './admin/admin.router';\nimport { message, Modal } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst App = ({ user, token, loadedKey, signOut }) => {\n\n    moment.locale('uz-latn');\n    moment.defaultFormat='MMMM Do YYYY'\n    const { t } = useTranslation();\n\n    \n\n    axios.defaults.baseURL = API_HOST\n\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + token;\n\n    useEffect(()=>{\n\n        if (loadedKey?.time + 1000 * 60 * 30 < Date.now()){\n            console.log(\"Hi\")\n            signOut()\n            message.warn((t(\"Sessiyangiz tugadi!\")))\n        }\n    }, [])\n    \n   \n\n    return (\n        <div className=\"App\">\n            \n            <Header />\n\n            <Switch>\n                <Route exact path=\"/\"\n                    render={\n                        () => < Redirect to=\"/home\" />\n                    } />\n                <Route path=\"/home\"\n                    component={FrontIndexRouter} />\n\n                <Route path=\"/cabinet\"\n                    render={() => user ? <CabinetIndex /> : <Redirect to=\"/home/login\" />} />\n\n                <Route path=\"/admin\" \n                    render={()=>user.role_id===1? <AdminIndexRouter /> : <Redirect to=\"/home\" />}\n                />\n            </Switch>\n        </div>\n    )\n}\n\nconst mapStateToProps = createStructuredSelector({\n    user: selectCurrentUser,\n    token: selectToken,\n    loadedKey: selectLoadedKey\n})\n\nconst mapDispatchToProps = dispatch => ({\n    signOut: () => dispatch(logOut())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import USER_ACTIONS from \"./user.action-types\";\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null,\r\n    token: null,\r\n    cabinetData: null,\r\n    userCompanies: [],\r\n    selectedEsign:null,\r\n    loadedKeyId: null,\r\n    keyUser: null,\r\n    isAferta: false,\r\n    isRouming: false,\r\n    products: []\r\n}\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case USER_ACTIONS.SET_USER_PRODUCTS:\r\n            return { ...state, products: Array.isArray(action.payload) ? action.payload : [] }\r\n\r\n        case USER_ACTIONS.SET_IS_AFERTA:\r\n            return { ...state, isAferta: action.payload }\r\n\r\n        case USER_ACTIONS.SET_IS_ROUMING: \r\n            return { ...state, isRouming: action.payload }\r\n\r\n        case USER_ACTIONS.SET_KEY_USER:\r\n            return { ...state, keyUser: action.payload }\r\n\r\n        case USER_ACTIONS.SET_LOADED_KEY_ID:\r\n            return { ...state, loadedKeyId: action.payload }\r\n\r\n        case USER_ACTIONS.SET_USER_COMPANIES:\r\n            return { ...state, userCompanies: action.payload }\r\n\r\n        case USER_ACTIONS.SET_CABINET_DATA:\r\n            return { ...state,  cabinetData: action.payload}\r\n\r\n        case USER_ACTIONS.SET_USER_ONLY:\r\n            return {...state, \r\n                currentUser:  action.payload\r\n            }\r\n\r\n        case USER_ACTIONS.SUCCESS_LOGIN:\r\n            return {...state,\r\n                currentUser: action.payload.data,\r\n                token: action.payload.token\r\n            }\r\n\r\n        case USER_ACTIONS.LOG_OUT:\r\n            return {...state, \r\n                currentUser: null, \r\n                token: null, \r\n                loadedKeyId: null,\r\n                keyUser: null,\r\n                userCompanies: [],\r\n                products: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default userReducer;","import { combineReducers } from 'redux';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport userReducer from './user/user.reducer';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['user']\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n})\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import { all, call } from 'redux-saga/effects';\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n\r\n    ])\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport { persistStore } from 'redux-persist';\r\nimport rootReducer from './root-reducer';\r\nimport creatSagaMiddleware from 'redux-saga';\r\nimport rootSaga from './root-saga';\r\n\r\nconst sagaMiddleWare = creatSagaMiddleware();\r\n\r\nconst middleWares = [sagaMiddleWare];\r\n\r\nmiddleWares.push(logger);\r\n\r\n// if(process.env.NODE_ENV ==='development'){\r\n//     middleWares.push(logger);\r\n// }\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middleWares));\r\n\r\nsagaMiddleWare.run(rootSaga)\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default { store, persistor };","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { persistor, store } from './redux/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './translate';\nimport { Spin } from 'antd';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <PersistGate persistor={persistor}>\n        <React.StrictMode>\n          <Suspense fallback={<Spin />}>\n            <App />\n          </Suspense>\n        </React.StrictMode>\n      </PersistGate>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}